!!! Strict
%html
  %head
    %meta{:content => "text/html; charset=ISO-8859-1", "http-equiv" => "content-type"}
      %title dynatree - Q'n'd test for release
      /
        OLD jQuery 1.3 UI 1.7
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.js" type="text/javascript"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7/jquery-ui.js" type="text/javascript"></script>
        <script src="../jquery/jquery.cookie.js" type="text/javascript"></script>
        <link href="../src/skin/ui.dynatree.css" rel="stylesheet" type="text/css">
        <script src="../src/jquery.dynatree.js" type="text/javascript"></script>
        LATEST CDN
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.js" type="text/javascript"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.js" type="text/javascript"></script>
        <script src="../jquery/jquery.cookie.js" type="text/javascript"></script>
        <link href="../src/skin/ui.dynatree.css" rel="stylesheet" type="text/css">
        <script src="../src/jquery.dynatree.js" type="text/javascript"></script>
        DIST
        <script src="../jquery/jquery.js" type="text/javascript"></script>
        <script src="../jquery/jquery-ui.custom.js" type="text/javascript"></script>
        <script src="../jquery/jquery.cookie.js" type="text/javascript"></script>
        <link href="../src/skin/ui.dynatree.css" rel="stylesheet" type="text/css">
        <script src="../src/jquery.dynatree.js" type="text/javascript"></script>
        MINIFIED DIST
        <script src="../jquery/jquery.min.js" type="text/javascript"></script>
        <script src="../jquery/jquery-ui.custom.min.js" type="text/javascript"></script>
        <script src="../jquery/jquery.cookie.js" type="text/javascript"></script>
        <link href="../src/skin/ui.dynatree.css" rel="stylesheet" type="text/css">
        <script src="../src/jquery.dynatree.min.js" type="text/javascript"></script>
      / Include the required JavaScript libraries:
      %script{:src => "../jquery/jquery.min.js", :type => "text/javascript"}
      %script{:src => "../jquery/jquery-ui.custom.min.js", :type => "text/javascript"}
      %script{:src => "../jquery/jquery.cookie.js", :type => "text/javascript"}
      %link{:href => "../src/skin/ui.dynatree.css", :rel => "stylesheet", :type => "text/css"}
        %script{:src => "../src/jquery.dynatree.min.js", :type => "text/javascript"}
        / Add code to initialize the tree when the document is loaded:
        :javascript
  alert("$.ui.version: " + $.ui.version + "\n"
      + "$.jquery.version: " + jQuery.fn.jquery);

  $(function(){
    // Attach the dynatree widget to an existing  element
    // and pass the tree options as an argument to the dynatree() function:
    $("#tree").dynatree({
      onActivate: function(node) {
        // A DynaTreeNode object is passed to the activation handler
        // Note: we also get this event, if persistence is on, and the page is reloaded.
        alert("You activated " + node.data.title);
      },
      onSelect: function(select, node) {
        logMsg("onSelect(%o, %o)", node);
        var s = node.tree.getSelectedNodes().join(", ");
        $("#echoSelected").text(s);
      },
//      persist: true,
      children: [
        {title: "Item 1"},
        {title: "Folder 2", isFolder: true, key: "folder2",
          children: [
            {title: "Sub-item 2.1"},
            {title: "Sub-item 2.2"}
          ]
        },
        {title: "Item 3"}
      ]
    });
    });
    %body
    / Add a <div> element where the tree should appear:
    %p This tree uses the minified JS library. (Check this with IE!)
    #tree ERROR: Tree could not be loaded!
