(function(c){function k(a){var b=c('meta[name="csrf-token"]').attr("content");b&&a.setRequestHeader("X-CSRF-Token",b)}function h(a,b,d){b=c.Event(b);a.trigger(b,d);return b.result!==false}function l(a){var b,d,g,o=a.data("type")||c.ajaxSettings&&c.ajaxSettings.dataType;if(h(a,"ajax:before")){if(a.is("form")){b=a.attr("method");d=a.attr("action");g=a.serializeArray();var m=a.data("ujs:submit-button");if(m){g.push(m);a.data("ujs:submit-button",null)}}else{b=a.data("method");d=a.attr("href");g=null}c.ajax({url:d,
type:b||"GET",data:g,dataType:o,beforeSend:function(f,e){e.dataType===undefined&&f.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script);return h(a,"ajax:beforeSend",[f,e])},success:function(f,e,i){a.trigger("ajax:success",[f,e,i])},complete:function(f,e){a.trigger("ajax:complete",[f,e])},error:function(f,e,i){a.trigger("ajax:error",[f,e,i])}})}}function n(a){a.find("input[data-disable-with], button[data-disable-with]").each(function(){var b=c(this),d=b.is("button")?"html":"val";b.data("ujs:enable-with",
b[d]());b[d](b.data("disable-with"));b.attr("disabled","disabled")})}function p(a){a.find("input[data-disable-with]:disabled, button[data-disable-with]:disabled").each(function(){var b=c(this),d=b.is("button")?"html":"val";b.data("ujs:enable-with")&&b[d](b.data("ujs:enable-with"));b.removeAttr("disabled")})}function j(a){var b=a.data("confirm");return!b||h(a,"confirm")&&confirm(b)}function q(a){var b=false;a.find("input[name][required]").each(function(){c(this).val()||(b=true)});return b}"ajaxPrefilter"in
c?c.ajaxPrefilter(function(a,b,d){k(d)}):c(document).ajaxSend(function(a,b){k(b)});c("a[data-confirm], a[data-method], a[data-remote]").live("click.rails",function(){var a=c(this);if(!j(a))return false;if(a.data("remote")!=undefined){l(a);return false}else if(a.data("method")){var b=a.attr("href"),d=a.data("method");a=c("meta[name=csrf-token]").attr("content");var g=c("meta[name=csrf-param]").attr("content");b=c('<form method="post" action="'+b+'"></form>');d='<input name="_method" value="'+d+'" type="hidden" />';
if(g!==undefined&&a!==undefined)d+='<input name="'+g+'" value="'+a+'" type="hidden" />';b.hide().append(d).appendTo("body");b.submit();return false}});c("form").live("submit.rails",function(){var a=c(this),b=a.data("remote")!=undefined;if(!j(a))return false;if(q(a))return!b;if(b){l(a);return false}else setTimeout(function(){n(a)},13)});c("form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])").live("click.rails",function(){var a=c(this);if(!j(a))return false;
var b=a.attr("name");b=b?{name:b,value:a.val()}:null;a.closest("form").data("ujs:submit-button",b)});c("form").live("ajax:beforeSend.rails",function(a){this==a.target&&n(c(this))});c("form").live("ajax:complete.rails",function(a){this==a.target&&p(c(this))})})(jQuery);
