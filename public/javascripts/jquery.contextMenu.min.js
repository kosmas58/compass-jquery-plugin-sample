jQuery&&function(){$.extend($.fn,{contextMenu:function(a,d){if(a.menu==void 0)return false;if(a.inSpeed==void 0)a.inSpeed=150;if(a.outSpeed==void 0)a.outSpeed=75;if(a.inSpeed==0)a.inSpeed=-1;if(a.outSpeed==0)a.outSpeed=-1;$(this).each(function(){var c=$(this),h=$(c).offset();$("#"+a.menu).addClass("contextMenu");$(this).mousedown(function(i){i.stopPropagation();$(this).mouseup(function(e){e.stopPropagation();var j=$(this);$(this).unbind("mouseup");if(i.button==2){$(".contextMenu").hide();var b=$("#"+
a.menu);if($(c).hasClass("disabled"))return false;var f,g;e.pageX?f=e.pageX:f=e.clientX+void 0;e.pageY?g=e.pageY:g=e.clientY+void 0;$(document).unbind("click");$(b).css({top:g,left:f}).fadeIn(a.inSpeed);$(b).find("A").mouseover(function(){$(b).find("LI.hover").removeClass("hover");$(this).parent().addClass("hover")}).mouseout(function(){$(b).find("LI.hover").removeClass("hover")});$(document).keypress(function(a){switch(a.keyCode){case 38:$(b).find("LI.hover").size()==0?$(b).find("LI:last").addClass("hover"):
($(b).find("LI.hover").removeClass("hover").prevAll("LI:not(.disabled)").eq(0).addClass("hover"),$(b).find("LI.hover").size()==0&&$(b).find("LI:last").addClass("hover"));break;case 40:$(b).find("LI.hover").size()==0?$(b).find("LI:first").addClass("hover"):($(b).find("LI.hover").removeClass("hover").nextAll("LI:not(.disabled)").eq(0).addClass("hover"),$(b).find("LI.hover").size()==0&&$(b).find("LI:first").addClass("hover"));break;case 13:$(b).find("LI.hover A").trigger("click");break;case 27:$(document).trigger("click")}});
$("#"+a.menu).find("A").unbind("click");$("#"+a.menu).find("LI:not(.disabled) A").click(function(){$(document).unbind("click").unbind("keypress");$(".contextMenu").hide();d&&d($(this).attr("href").substr(1),$(j),{x:f-h.left,y:g-h.top,docX:f,docY:g});return false});setTimeout(function(){$(document).click(function(){$(document).unbind("click").unbind("keypress");$(b).fadeOut(a.outSpeed);return false})},0)}})});$.browser.mozilla?$("#"+a.menu).each(function(){$(this).css({MozUserSelect:"none"})}):$.browser.msie?
$("#"+a.menu).each(function(){$(this).bind("selectstart.disableTextSelect",function(){return false})}):$("#"+a.menu).each(function(){$(this).bind("mousedown.disableTextSelect",function(){return false})});$(c).add($("UL.contextMenu")).bind("contextmenu",function(){return false})});return $(this)},disableContextMenuItems:function(a){if(a==void 0)return $(this).find("LI").addClass("disabled"),$(this);$(this).each(function(){if(a!=void 0)for(var d=a.split(","),c=0;c<d.length;c++)$(this).find('A[href="'+
d[c]+'"]').parent().addClass("disabled")});return $(this)},enableContextMenuItems:function(a){if(a==void 0)return $(this).find("LI.disabled").removeClass("disabled"),$(this);$(this).each(function(){if(a!=void 0)for(var d=a.split(","),c=0;c<d.length;c++)$(this).find('A[href="'+d[c]+'"]').parent().removeClass("disabled")});return $(this)},disableContextMenu:function(){$(this).each(function(){$(this).addClass("disabled")});return $(this)},enableContextMenu:function(){$(this).each(function(){$(this).removeClass("disabled")});
return $(this)},destroyContextMenu:function(){$(this).each(function(){$(this).unbind("mousedown").unbind("mouseup")});return $(this)}})}(jQuery);
