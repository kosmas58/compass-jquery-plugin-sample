(function(){var h=tinymce.DOM,j=tinymce.dom.Event,o=tinymce.each,p=tinymce.explode;tinymce.create("tinymce.plugins.TabFocusPlugin",{init:function(f){function k(d,e){if(e.keyCode===9)return j.cancel(e)}function l(d,e){function m(q){function n(g){return g.type!="hidden"&&g.tabIndex!="-1"&&a[b].style.display!="none"&&a[b].style.visibility!="hidden"}a=h.select(":input:enabled,*[tabindex]");o(a,function(g,r){if(g.id==d.id){i=r;return false}});if(q>0)for(b=i+1;b<a.length;b++){if(n(a[b]))return a[b]}else for(b=
i-1;b>=0;b--)if(n(a[b]))return a[b];return null}var i,b,a,c;if(e.keyCode===9){c=p(d.getParam("tab_focus",d.getParam("tabfocus_elements",":prev,:next")));if(c.length==1){c[1]=c[0];c[0]=":prev"}if(a=e.shiftKey?c[0]==":prev"?m(-1):h.get(c[0]):c[1]==":next"?m(1):h.get(c[1])){a.id&&(d=tinymce.get(a.id||a.name))?d.focus():window.setTimeout(function(){tinymce.isWebKit||window.focus();a.focus()},10);return j.cancel(e)}}}f.onKeyUp.add(k);if(tinymce.isGecko){f.onKeyPress.add(l);f.onKeyDown.add(k)}else f.onKeyDown.add(l)},
getInfo:function(){return{longname:"Tabfocus",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/tabfocus",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("tabfocus",tinymce.plugins.TabFocusPlugin)})();
