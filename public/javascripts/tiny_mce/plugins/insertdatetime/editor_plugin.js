(function(){tinymce.create("tinymce.plugins.InsertDateTime",{init:function(b){var a=this;a.editor=b;b.addCommand("mceInsertDate",function(){var c=a._getDateTime(new Date,b.getParam("plugin_insertdate_dateFormat",b.getLang("insertdatetime.date_fmt")));b.execCommand("mceInsertContent",false,c)});b.addCommand("mceInsertTime",function(){var c=a._getDateTime(new Date,b.getParam("plugin_insertdate_timeFormat",b.getLang("insertdatetime.time_fmt")));b.execCommand("mceInsertContent",false,c)});b.addButton("insertdate",
{title:"insertdatetime.insertdate_desc",cmd:"mceInsertDate"});b.addButton("inserttime",{title:"insertdatetime.inserttime_desc",cmd:"mceInsertTime"})},getInfo:function(){return{longname:"Insert date/time",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/insertdatetime",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_getDateTime:function(b,a){function c(d,f){d=""+d;if(d.length<f)for(var g=0;g<f-d.length;g++)d=
"0"+d;return d}var e=this.editor;a=a.replace("%D","%m/%d/%y");a=a.replace("%r","%I:%M:%S %p");a=a.replace("%Y",""+b.getFullYear());a=a.replace("%y",""+b.getYear());a=a.replace("%m",c(b.getMonth()+1,2));a=a.replace("%d",c(b.getDate(),2));a=a.replace("%H",""+c(b.getHours(),2));a=a.replace("%M",""+c(b.getMinutes(),2));a=a.replace("%S",""+c(b.getSeconds(),2));a=a.replace("%I",""+((b.getHours()+11)%12+1));a=a.replace("%p",""+(b.getHours()<12?"AM":"PM"));a=a.replace("%B",""+e.getLang("insertdatetime.months_long").split(",")[b.getMonth()]);
a=a.replace("%b",""+e.getLang("insertdatetime.months_short").split(",")[b.getMonth()]);a=a.replace("%A",""+e.getLang("insertdatetime.day_long").split(",")[b.getDay()]);a=a.replace("%a",""+e.getLang("insertdatetime.day_short").split(",")[b.getDay()]);return a=a.replace("%%","%")}});tinymce.PluginManager.add("insertdatetime",tinymce.plugins.InsertDateTime)})();
