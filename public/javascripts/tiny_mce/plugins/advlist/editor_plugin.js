(function(){var j=tinymce.each;tinymce.create("tinymce.plugins.AdvListPlugin",{init:function(b){function k(c){var h=[];j(c.split(/,/),function(d){h.push({title:"advlist."+(d=="default"?"def":d.replace(/-/g,"_")),styles:{listStyleType:d=="default"?"":d}})});return h}this.editor=b;this.numlist=b.getParam("advlist_number_styles")||k("default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");this.bullist=b.getParam("advlist_bullet_styles")||k("default,circle,disc,square")},createControl:function(b,
k){var c=this,h,d;if(b=="numlist"||b=="bullist"){if(c[b][0].title=="advlist.def")d=c[b][0];var l=function(f,e){var a=true;j(e.styles,function(g,i){if(c.editor.dom.getStyle(f,i)!=g)return a=false});return a},m=function(){var f,e=c.editor,a=e.dom,g=e.selection;f=a.getParent(g.getNode(),"ol,ul");if(!f||f.nodeName==(b=="bullist"?"OL":"UL")||l(f,d))e.execCommand(b=="bullist"?"InsertUnorderedList":"InsertOrderedList");if(d)if(f=a.getParent(g.getNode(),"ol,ul")){a.setStyles(f,d.styles);f.removeAttribute("data-mce-style")}e.focus()};
h=k.createSplitButton(b,{title:"advanced."+b+"_desc","class":"mce_"+b,onclick:function(){m()}});h.onRenderMenu.add(function(f,e){e.onShowMenu.add(function(){var a=c.editor.dom.getParent(c.editor.selection.getNode(),"ol,ul"),g;if(a||d){g=c[b];j(e.items,function(i){var n=true;i.setSelected(0);if(a&&!i.isDisabled()){j(g,function(o){if(o.id==i.id)if(!l(a,o))return n=false});n&&i.setSelected(1)}});a||e.items[d.id].setSelected(1)}});e.add({id:c.editor.dom.uniqueId(),title:"advlist.types","class":"mceMenuItemTitle",
titleItem:true}).setDisabled(1);j(c[b],function(a){a.id=c.editor.dom.uniqueId();e.add({id:a.id,title:a.title,onclick:function(){d=a;m()}})})});return h}},getInfo:function(){return{longname:"Advanced lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlist",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("advlist",tinymce.plugins.AdvListPlugin)})();
