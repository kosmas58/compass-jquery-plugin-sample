function MCTabs(){this.settings=[];this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}MCTabs.prototype.init=function(a){this.settings=a};MCTabs.prototype.getParam=function(a,b){var f=null;f=typeof this.settings[a]=="undefined"?b:this.settings[a];if(f=="true"||f=="false")return f=="true";return f};MCTabs.prototype.showTab=function(a){a.className="current";a.setAttribute("aria-selected",true);a.setAttribute("aria-expanded",true);a.tabIndex=0};
MCTabs.prototype.hideTab=function(a){a.className="";a.setAttribute("aria-selected",false);a.setAttribute("aria-expanded",false);a.tabIndex=-1};MCTabs.prototype.showPanel=function(a){a.className="current";a.setAttribute("aria-hidden",false)};MCTabs.prototype.hidePanel=function(a){a.className="panel";a.setAttribute("aria-hidden",true)};MCTabs.prototype.getPanelForTab=function(a){return tinyMCEPopup.dom.getAttrib(a,"aria-controls")};
MCTabs.prototype.displayTab=function(a,b,f){var g,d,e;a=document.getElementById(a);if(b===undefined)b=this.getPanelForTab(a);g=(b=document.getElementById(b))?b.parentNode:null;d=a?a.parentNode:null;this.getParam("selection_class","current");if(a&&d){d=d.childNodes;for(e=0;e<d.length;e++)d[e].nodeName=="LI"&&this.hideTab(d[e]);this.showTab(a)}if(b&&g){d=g.childNodes;for(e=0;e<d.length;e++)d[e].nodeName=="DIV"&&this.hidePanel(d[e]);f||a.focus();this.showPanel(b)}};
MCTabs.prototype.getAnchor=function(){var a,b=document.location.href;if((a=b.lastIndexOf("#"))!=-1)return b.substring(a+1);return""};var mcTabs=new MCTabs;
tinyMCEPopup.onInit.add(function(){var a=tinyMCEPopup.getWin().tinymce,b=tinyMCEPopup.dom,f=a.each;f(b.select("div.tabs"),function(g){var d;b.setAttrib(g,"role","tablist");var e=tinyMCEPopup.dom.select("li",g),h=function(c){mcTabs.displayTab(c,mcTabs.getPanelForTab(c));mcTabs.onChange.dispatch(c)};f(e,function(c){b.setAttrib(c,"role","tab");b.bind(c,"click",function(){h(c.id)})});b.bind(b.getRoot(),"keydown",function(c){if(c.keyCode===9&&c.ctrlKey&&!c.altKey){d.moveFocus(c.shiftKey?-1:1);a.dom.Event.cancel(c)}});
f(b.select("a",g),function(c){b.setAttrib(c,"tabindex","-1")});d=tinyMCEPopup.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",{root:g,items:e,onAction:h,actOnFocus:true,enableLeftRight:true,enableUpDown:true},tinyMCEPopup.dom)})});
