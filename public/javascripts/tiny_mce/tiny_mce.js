(function(i){var g=/^\s*|\s*$/g,h,j="B".replace(/A(.)|B/,"$1")==="$1";var f={majorVersion:"3",minorVersion:"4",releaseDate:"2011-03-10",_init:function(){var x=this,b=document,c=navigator,u=c.userAgent,d,v,e,n,p,a;x.isOpera=i.opera&&opera.buildNumber;x.isWebKit=/WebKit/.test(u);x.isIE=!x.isWebKit&&!x.isOpera&&(/MSIE/gi).test(u)&&(/Explorer/gi).test(c.appName);x.isIE6=x.isIE&&/MSIE [56]/.test(u);x.isGecko=!x.isWebKit&&/Gecko/.test(u);x.isMac=u.indexOf("Mac")!=-1;x.isAir=/adobeair/i.test(u);x.isIDevice=/(iPad|iPhone)/.test(u);if(i.tinyMCEPreInit){x.suffix=tinyMCEPreInit.suffix;x.baseURL=tinyMCEPreInit.base;x.query=tinyMCEPreInit.query;return}x.suffix="";v=b.getElementsByTagName("base");for(d=0;d<v.length;d++){if(a=v[d].href){if(/^https?:\/\/[^\/]+$/.test(a)){a+="/"}n=a?a.match(/.*\//)[0]:""}}function t(k){if(k.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(k.src)){if(/_(src|dev)\.js/g.test(k.src)){x.suffix="_src"}if((p=k.src.indexOf("?"))!=-1){x.query=k.src.substring(p+1)}x.baseURL=k.src.substring(0,k.src.lastIndexOf("/"));if(n&&x.baseURL.indexOf("://")==-1&&x.baseURL.indexOf("/")!==0){x.baseURL=n+x.baseURL}return x.baseURL}return null}v=b.getElementsByTagName("script");for(d=0;d<v.length;d++){if(t(v[d])){return}}e=b.getElementsByTagName("head")[0];if(e){v=e.getElementsByTagName("script");for(d=0;d<v.length;d++){if(t(v[d])){return}}}return},is:function(a,b){if(!b){return a!==h}if(b=="array"&&(a.hasOwnProperty&&a instanceof Array)){return true}return typeof(a)==b},makeMap:function(d,a,b){var c;d=d||[];a=a||",";if(typeof(d)=="string"){d=d.split(a)}b=b||{};c=d.length;while(c--){b[d[c]]={}}return b},each:function(b,e,c){var a,d;if(!b){return 0}c=c||b;if(b.length!==h){for(a=0,d=b.length;a<d;a++){if(e.call(c,b[a],a,b)===false){return 0}}}else{for(a in b){if(b.hasOwnProperty(a)){if(e.call(c,b[a],a,b)===false){return 0}}}}return 1},trim:function(a){return(a?""+a:"").replace(g,"")},create:function(a,t,p){var b=this,s,q,e,d,r,c=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a);e=a[3].match(/(^|\.)(\w+)$/i)[2];q=b.createNS(a[3].replace(/\.\w+$/,""),p);if(q[e]){return}if(a[2]=="static"){q[e]=t;if(this.onCreate){this.onCreate(a[2],a[3],q[e])}return}if(!t[e]){t[e]=function(){};c=1}q[e]=t[e];b.extend(q[e].prototype,t);if(a[5]){s=b.resolve(a[5]).prototype;d=a[5].match(/\.(\w+)$/i)[1];r=q[e];if(c){q[e]=function(){return s[d].apply(this,arguments)}}else{q[e]=function(){this.parent=s[d];return r.apply(this,arguments)}}q[e].prototype[e]=q[e];b.each(s,function(l,k){q[e].prototype[k]=s[k]});b.each(t,function(l,k){if(s[k]){q[e].prototype[k]=function(){this.parent=s[k];return l.apply(this,arguments)}}else{if(k!=e){q[e].prototype[k]=l}}})}b.each(t["static"],function(l,k){q[e][k]=l});if(this.onCreate){this.onCreate(a[2],a[3],q[e].prototype)}},walk:function(b,c,a,d){d=d||this;if(b){if(a){b=b[a]}f.each(b,function(e,l){if(c.call(d,e,l,a)===false){return false}f.walk(e,c,a,d)})}},createNS:function(a,b){var c,d;b=b||i;a=a.split(".");for(c=0;c<a.length;c++){d=a[c];if(!b[d]){b[d]={}}b=b[d]}return b},resolve:function(a,b){var c,d;b=b||i;a=a.split(".");for(c=0,d=a.length;c<d;c++){b=b[a[c]];if(!b){break}}return b},addUnload:function(b,c){var d=this;b={func:b,scope:c||this};if(!d.unloads){function e(){var o=d.unloads,n,k;if(o){for(k in o){n=o[k];if(n&&n.func){n.func.call(n.scope,1)}}if(i.detachEvent){i.detachEvent("onbeforeunload",a);i.detachEvent("onunload",e)}else{if(i.removeEventListener){i.removeEventListener("unload",e,false)}}d.unloads=n=o=w=e=0;if(i.CollectGarbage){CollectGarbage()}}}function a(){var k=document;if(k.readyState=="interactive"){function m(){k.detachEvent("onstop",m);if(e){e()}k=0}if(k){k.attachEvent("onstop",m)}i.setTimeout(function(){if(k){k.detachEvent("onstop",m)}},0)}}if(i.attachEvent){i.attachEvent("onunload",e);i.attachEvent("onbeforeunload",a)}else{if(i.addEventListener){i.addEventListener("unload",e,false)}}d.unloads=[b]}else{d.unloads.push(b)}return b},removeUnload:function(a){var c=this.unloads,b=null;f.each(c,function(d,e){if(d&&d.func==a){c.splice(e,1);b=a;return false}});return b},explode:function(b,a){return b?f.map(b.split(a||","),f.trim):b},_addVer:function(a){var b;if(!this.query){return a}b=(a.indexOf("?")==-1?"?":"&")+this.query;if(a.indexOf("#")==-1){return a+b}return a.replace("#",b+"#")},_replace:function(a,c,b){if(j){return b.replace(a,function(){var d=c,m=arguments,e;for(e=0;e<m.length-2;e++){if(m[e]===h){d=d.replace(new RegExp("\\$"+e,"g"),"")}else{d=d.replace(new RegExp("\\$"+e,"g"),m[e])}}return d})}return b.replace(a,c)}};f._init();i.tinymce=i.tinyMCE=f})(window);(function(j,k){var l=k.is,g=/^(href|src|style)$/i,i;if(!j){return alert("Load jQuery first!")}k.$=j;k.adapter={patchEditor:function(c){var d=j.fn;function e(r,q){var p=this;if(q){p.removeAttr("data-mce-style")}return d.css.apply(p,arguments)}function f(r,q){var p=this;if(g.test(r)){if(q!==i){p.each(function(n,m){c.dom.setAttrib(m,r,q)});return p}else{return p.attr("data-mce-"+r)}}return d.attr.apply(p,arguments)}function b(n){return function(m){if(m){m=c.dom.processHTML(m)}return n.call(this,m)}}function a(n){if(n.css!==e){n.css=e;n.attr=f;n.html=b(d.html);n.append=b(d.append);n.prepend=b(d.prepend);n.after=b(d.after);n.before=b(d.before);n.replaceWith=b(d.replaceWith);n.tinymce=c;n.pushStack=function(){return a(d.pushStack.apply(this,arguments))}}return n}c.$=function(p,r){var q=c.getDoc();return a(j(p||q,q||r))}}};k.extend=j.extend;k.extend(k,{map:j.map,grep:function(b,a){return j.grep(b,a||function(){return 1})},inArray:function(b,a){return j.inArray(a,b||[])}});var h={"tinymce.dom.DOMUtils":{select:function(a,b){var c=this;return j.find(a,c.get(b)||c.get(c.settings.root_element)||c.doc,[])},is:function(a,b){return j(this.get(a)).is(b)}}};k.onCreate=function(c,a,b){k.extend(b,h[a])}})(window.jQuery,tinymce);tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(b){this.scope=b||this;this.listeners=[]},add:function(d,c){this.listeners.push({cb:d,scope:c||this.scope});return d},addToTop:function(d,c){this.listeners.unshift({cb:d,scope:c||this.scope});return d},remove:function(e){var d=this.listeners,f=null;tinymce.each(d,function(a,b){if(e==a.cb){f=e;d.splice(b,1);return false}});return f},dispatch:function(){var h,j=arguments,i,a=this.listeners,c;for(i=0;i<a.length;i++){c=a[i];h=c.cb.apply(c.scope,j);if(h===false){break}}return h}});(function(){var b=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(k,i){var j=this,a,l,m;k=tinymce.trim(k);i=j.settings=i||{};if(/^(mailto|tel|news|javascript|about|data):/i.test(k)||/^\s*#/.test(k)){j.source=k;return}if(k.indexOf("/")===0&&k.indexOf("//")!==0){k=(i.base_uri?i.base_uri.protocol||"http":"http")+"://mce_host"+k}if(!/^\w*:?\/\//.test(k)){k=(i.base_uri.protocol||"http")+"://mce_host"+j.toAbsPath(i.base_uri.path,k)}k=k.replace(/@@/g,"(mce_at)");k=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(k);b(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(c,e){var d=k[e];if(d){d=d.replace(/\(mce_at\)/g,"@@")}j[c]=d});if(m=i.base_uri){if(!j.protocol){j.protocol=m.protocol}if(!j.userInfo){j.userInfo=m.userInfo}if(!j.port&&j.host=="mce_host"){j.port=m.port}if(!j.host||j.host=="mce_host"){j.host=m.host}j.source=""}},setPath:function(d){var a=this;d=/^(.*?)\/?(\w+)?$/.exec(d);a.path=d[0];a.directory=d[1];a.file=d[2];a.source="";a.getURI()},toRelative:function(a){var f=this,e;if(a==="./"){return a}a=new tinymce.util.URI(a,{base_uri:f});if((a.host!="mce_host"&&f.host!=a.host&&a.host)||f.port!=a.port||f.protocol!=a.protocol){return a.getURI()}e=f.toRelPath(f.path,a.path);if(a.query){e+="?"+a.query}if(a.anchor){e+="#"+a.anchor}return e},toAbsolute:function(a,d){var a=new tinymce.util.URI(a,{base_uri:this});return a.getURI(this.host==a.host&&this.protocol==a.protocol?d:0)},toRelPath:function(j,i){var n,k=0,m="",l,a;j=j.substring(0,j.lastIndexOf("/"));j=j.split("/");n=i.split("/");if(j.length>=n.length){for(l=0,a=j.length;l<a;l++){if(l>=n.length||j[l]!=n[l]){k=l+1;break}}}if(j.length<n.length){for(l=0,a=n.length;l<a;l++){if(l>=j.length||j[l]!=n[l]){k=l+1;break}}}if(k==1){return i}for(l=0,a=j.length-(k-1);l<a;l++){m+="../"}for(l=k-1,a=n.length;l<a;l++){if(l!=k-1){m+="/"+n[l]}else{m+=n[l]}}return m},toAbsPath:function(l,k){var n,a=0,i=[],m,j;m=/\/$/.test(k)?"/":"";l=l.split("/");k=k.split("/");b(l,function(c){if(c){i.push(c)}});l=i;for(n=k.length-1,i=[];n>=0;n--){if(k[n].length==0||k[n]=="."){continue}if(k[n]==".."){a++;continue}if(a>0){a--;continue}i.push(k[n])}n=l.length-a;if(n<=0){j=i.reverse().join("/")}else{j=l.slice(0,n).join("/")+"/"+i.reverse().join("/")}if(j.indexOf("/")!==0){j="/"+j}if(m&&j.lastIndexOf("/")!==j.length-1){j+=m}return j},getURI:function(e){var f,a=this;if(!a.source||e){f="";if(!e){if(a.protocol){f+=a.protocol+"://"}if(a.userInfo){f+=a.userInfo+"@"}if(a.host){f+=a.host}if(a.port){f+=":"+a.port}}if(a.path){f+=a.path}if(a.query){f+="?"+a.query}if(a.anchor){f+="#"+a.anchor}a.source=f}return a.source}})})();(function(){var b=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(e){var a=this.get(e),f;if(a){b(a.split("&"),function(c){c=c.split("=");f=f||{};f[unescape(c[0])]=unescape(c[1])})}return f},setHash:function(d,a,l,m,e,n){var k="";b(a,function(c,f){k+=(!k?"":"&")+escape(f)+"="+escape(c)});this.set(d,k,l,m,e,n)},get:function(a){var c=document.cookie,e,j=a+"=",k;if(!c){return}k=c.indexOf("; "+j);if(k==-1){k=c.indexOf(j);if(k!=0){return null}}else{k+=2}e=c.indexOf(";",k);if(e==-1){e=c.length}return unescape(c.substring(k+j.length,e))},set:function(d,a,j,k,e,l){document.cookie=d+"="+escape(a)+((j)?"; expires="+j.toGMTString():"")+((k)?"; path="+escape(k):"")+((e)?"; domain="+e:"")+((l)?"; secure":"")},remove:function(d,a){var f=new Date();f.setTime(f.getTime()-1000);this.set(d,"",f,a,f)}})})();(function(){function serialize(o,quote){var i,v,t;quote=quote||'"';if(o==null){return"null"}t=typeof o;if(t=="string"){v="\bb\tt\nn\ff\rr\"\"''\\\\";return quote+o.replace(/([\u0080-\uFFFF\x00-\x1f\"\'])/g,function(a,b){if(quote==='"'&&a==="'"){return a}i=v.indexOf(b);if(i+1){return"\\"+v.charAt(i+1)}a=b.charCodeAt().toString(16);return"\\u"+"0000".substring(a.length)+a})+quote}if(t=="object"){if(o.hasOwnProperty&&o instanceof Array){for(i=0,v="[";i<o.length;i++){v+=(i>0?",":"")+serialize(o[i],quote)}return v+"]"}v="{";for(i in o){v+=typeof o[i]!="function"?(v.length>1?","+quote:quote)+i+quote+":"+serialize(o[i],quote):""}return v+"}"}return""+o}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}})();tinymce.create("static tinymce.util.XHR",{send:function(k){var i,m,c=window,j=0;k.scope=k.scope||this;k.success_scope=k.success_scope||k.scope;k.error_scope=k.error_scope||k.scope;k.async=k.async===false?false:true;k.data=k.data||"";function n(a){i=0;try{i=new ActiveXObject(a)}catch(b){}return i}i=c.XMLHttpRequest?new XMLHttpRequest():n("Microsoft.XMLHTTP")||n("Msxml2.XMLHTTP");if(i){if(i.overrideMimeType){i.overrideMimeType(k.content_type)}i.open(k.type||(k.data?"POST":"GET"),k.url,k.async);if(k.content_type){i.setRequestHeader("Content-Type",k.content_type)}i.setRequestHeader("X-Requested-With","XMLHttpRequest");i.send(k.data);function l(){if(!k.async||i.readyState==4||j++>10000){if(k.success&&j<10000&&i.status==200){k.success.call(k.success_scope,""+i.responseText,i,k)}else{if(k.error){k.error.call(k.error_scope,j>10000?"TIMED_OUT":"GENERAL",i,k)}}i=null}else{c.setTimeout(l,10)}}if(!k.async){return l()}m=c.setTimeout(l,10)}}});(function(){var f=tinymce.extend,d=tinymce.util.JSON,e=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(a){this.settings=f({},a);this.count=0},send:function(a){var b=a.error,c=a.success;a=f(this.settings,a);a.success=function(i,j){i=d.parse(i);if(typeof(i)=="undefined"){i={error:"JSON Parse error."}}if(i.error){b.call(a.error_scope||a.scope,i.error,j)}else{c.call(a.success_scope||a.scope,i.result)}};a.error=function(i,j){if(b){b.call(a.error_scope||a.scope,i,j)}};a.data=d.serialize({id:a.id||"c"+(this.count++),method:a.method,params:a.params});a.content_type="application/json";e.send(a)},"static":{sendRPC:function(a){return new tinymce.util.JSONRequest().send(a)}}})}());(function(l){var t,n,q,k=/[&\"\u007E-\uFFFF]/g,s=/[<>&\u007E-\uFFFF]/g,o=/[<>&\"\']/g,r=/&(#)?([\w]+);/g;n={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};q={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function m(b){var a;a=document.createElement("div");a.innerHTML=b;return a.textContent||a.innerText||b}function p(b,e){var a,f,c,d={};if(b){b=b.split(",");e=e||10;for(a=0;a<b.length;a+=2){f=String.fromCharCode(parseInt(b[a],e));if(!n[f]){c="&"+b[a+1]+";";d[f]=c;d[c]=f}}return d}}t=p("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);l.html=l.html||{};l.html.Entities={encodeRaw:function(a,b){return a.replace(b?k:s,function(c){return n[c]||c})},encodeAllRaw:function(a){return(""+a).replace(o,function(b){return n[b]||b})},encodeNumeric:function(a,b){return a.replace(b?k:s,function(c){return n[c]||"&#"+c.charCodeAt(0)+";"})},encodeNamed:function(a,c,b){b=b||t;return a.replace(c?k:s,function(d){return n[d]||b[d]||d})},getEncodeFunc:function(c,e){var d=l.html.Entities;e=p(e)||t;function b(f,g){return f.replace(g?k:s,function(h){return n[h]||e[h]||"&#"+h.charCodeAt(0)+";"||h})}function a(f,g){return d.encodeNamed(f,g,e)}c=l.makeMap(c.replace(/\+/g,","));if(c.named&&c.numeric){return b}if(c.named){if(e){return a}return d.encodeNamed}if(c.numeric){return d.encodeNumeric}return d.encodeRaw},decode:function(a){return a.replace(r,function(b,c,d){if(c){return String.fromCharCode(d)}return q[b]||t[b]||m(b)})}}})(tinymce);tinymce.html.Styles=function(u,s){var o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,q=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,x=/\s*([^:]+):\s*([^;]+);?/g,n=/\s+$/,i=/rgb/,t,r,y={},p;u=u||{};p="\\\" \\' \\; \\: ; : _".split(" ");for(r=0;r<p.length;r++){y[p[r]]="_"+r;y["_"+r]=p[r]}function v(e,b,c,a){function d(f){f=parseInt(f).toString(16);return f.length>1?f:"0"+f}return"#"+d(b)+d(c)+d(a)}return{toHex:function(a){return a.replace(o,v)},parse:function(a){var h={},c,e,k,b,l=u.url_converter,j=u.url_converter_scope||this;function d(J,G){var H,K,z,I;H=h[J+"-top"+G];if(!H){return}K=h[J+"-right"+G];if(H!=K){return}z=h[J+"-bottom"+G];if(K!=z){return}I=h[J+"-left"+G];if(z!=I){return}h[J+G]=I;delete h[J+"-top"+G];delete h[J+"-right"+G];delete h[J+"-bottom"+G];delete h[J+"-left"+G]}function m(E){var D=h[E],z;if(!D||D.indexOf(" ")<0){return}D=D.split(" ");z=D.length;while(z--){if(D[z]!==D[0]){return false}}h[E]=D[0];return true}function g(F,G,z,E){if(!m(G)){return}if(!m(z)){return}if(!m(E)){return}h[F]=h[G]+" "+h[z]+" "+h[E];delete h[G];delete h[z];delete h[E]}function A(z){b=true;return y[z]}function f(C,z){if(b){C=C.replace(/_[0-9]/g,function(B){return y[B]})}if(!z){C=C.replace(/\\([\'\";:])/g,"$1")}return C}if(a){a=a.replace(/\\[\"\';:_]/g,A).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(z){return z.replace(/[;:]/g,A)});while(c=x.exec(a)){e=c[1].replace(n,"").toLowerCase();k=c[2].replace(n,"");if(e&&k.length>0){if(e==="font-weight"&&k==="700"){k="bold"}else{if(e==="color"||e==="background-color"){k=k.toLowerCase()}}k=k.replace(o,v);k=k.replace(q,function(K,z,H,I,G,J){G=G||J;if(G){G=f(G);return"'"+G.replace(/\'/g,"\\'")+"'"}z=f(z||H||I);if(l){z=l.call(j,z,"style")}return"url('"+z.replace(/\'/g,"\\'")+"')"});h[e]=b?f(k,true):k}x.lastIndex=c.index+c[0].length}d("border","");d("border","-width");d("border","-color");d("border","-style");d("padding","");d("margin","");g("border","border-width","border-style","border-color");if(h.border==="medium none"){delete h.border}}return h},serialize:function(d,b){var e="",f,c;function a(k){var g,j,l,k,h;g=s.styles[k];if(g){for(j=0,l=g.length;j<l;j++){k=g[j];h=d[k];if(h!==t){e+=(e.length>0?" ":"")+k+": "+h+";"}}}}if(b&&s&&s.styles){a("*");a(f)}else{for(f in d){c=d[f];if(c!==t){e+=(e.length>0?" ":"")+f+": "+c+";"}}}return e}}};(function(m){var r={},p,n,s,u,x,t,v=m.makeMap,o=m.each;function q(b,a){return b.split(a||",")}function y(b,c){var e,d={};function a(f){return f.replace(/[A-Z]+/g,function(g){return a(b[g])})}for(e in b){if(b.hasOwnProperty(e)){b[e]=a(b[e])}}a(c).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(f,h,i,g){i=q(i,"|");d[h]={attributes:v(i),attributesOrder:i,children:v(g,"|",{"#comment":{}})}});return d}n="h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,noscript,menu,isindex,samp,header,footer,article,section,hgroup";n=v(n,",",v(n.toUpperCase()));r=y({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]");p=v("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,preload,autoplay,loop,controls");s=v("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source");u=m.extend(v("td,th,iframe,video,object"),s);x=v("pre,script,style");t=v("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");m.html.Schema=function(c){var g=this,f={},e={},i=[],d;c=c||{};if(c.verify_html===false){c.valid_elements="*[*]"}if(c.valid_styles){d={};o(c.valid_styles,function(l,A){d[A]=m.explode(l)})}function h(l){return new RegExp("^"+l.replace(/([?+*])/g,".$1")+"$")}function a(ar){var at,ax,ab,af,aa,al,av,ag,ad,ak,ac,Y,ao,au,ae,an,ai,aw,Z,l,am,ah,ap=/^([#+-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,aj=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,aq=/[*?+]/;if(ar){ar=q(ar);if(f["@"]){ai=f["@"].attributes;aw=f["@"].attributesOrder}for(at=0,ax=ar.length;at<ax;at++){al=ap.exec(ar[at]);if(al){ae=al[1];ak=al[2];an=al[3];ad=al[4];ao={};au=[];av={attributes:ao,attributesOrder:au};if(ae==="#"){av.paddEmpty=true}if(ae==="-"){av.removeEmpty=true}if(ai){for(l in ai){ao[l]=ai[l]}au.push.apply(au,aw)}if(ad){ad=q(ad,"|");for(ab=0,af=ad.length;ab<af;ab++){al=aj.exec(ad[ab]);if(al){ag={};Y=al[1];ac=al[2].replace(/::/g,":");ae=al[3];ah=al[4];if(Y==="!"){av.attributesRequired=av.attributesRequired||[];av.attributesRequired.push(ac);ag.required=true}if(Y==="-"){delete ao[ac];au.splice(m.inArray(au,ac),1);continue}if(ae){if(ae==="="){av.attributesDefault=av.attributesDefault||[];av.attributesDefault.push({name:ac,value:ah});ag.defaultValue=ah}if(ae===":"){av.attributesForced=av.attributesForced||[];av.attributesForced.push({name:ac,value:ah});ag.forcedValue=ah}if(ae==="<"){ag.validValues=v(ah,"?")}}if(aq.test(ac)){av.attributePatterns=av.attributePatterns||[];ag.pattern=h(ac);av.attributePatterns.push(ag)}else{if(!ao[ac]){au.push(ac)}ao[ac]=ag}}}}if(!ai&&ak=="@"){ai=ao;aw=au}if(an){av.outputName=ak;f[an]=av}if(aq.test(ak)){av.pattern=h(ak);i.push(av)}else{f[ak]=av}}}}}function j(l){f={};i=[];a(l);o(r,function(B,C){e[C]=B.children})}function b(l){var A=/^(~)?(.+)$/;if(l){o(q(l),function(F){var G=A.exec(F),E=G[1]==="~"?"span":"div",z=G[2];e[z]=e[E];o(e,function(C,B){if(C[E]){C[z]=C[E]}})})}}function k(l){var A=/^([+\-]?)(\w+)\[([^\]]+)\]$/;if(l){o(q(l),function(E){var F=A.exec(E),z,G;if(F){G=F[1];if(G){z=e[F[2]]}else{z=e[F[2]]={"#comment":{}}}z=e[F[2]];o(q(F[3],"|"),function(B){if(G==="-"){delete z[B]}else{z[B]={}}})}})}}if(!c.valid_elements){o(r,function(l,A){f[A]={attributes:l.attributes,attributesOrder:l.attributesOrder};e[A]=l.children});o(q("strong/b,em/i"),function(l){l=q(l,"/");f[l[1]].outputName=l[0]});f.img.attributesDefault=[{name:"alt",value:""}];o(q("ol,ul,li,sub,sup,blockquote,tr,div,span,font,a,table,tbody"),function(l){f[l].removeEmpty=true});o(q("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(l){f[l].paddEmpty=true})}else{j(c.valid_elements)}b(c.custom_elements);k(c.valid_children);a(c.extended_valid_elements);k("+ol[ul|ol],+ul[ul|ol]");if(c.invalid_elements){m.each(m.explode(c.invalid_elements),function(l){if(f[l]){delete f[l]}})}g.children=e;g.styles=d;g.getBoolAttrs=function(){return p};g.getBlockElements=function(){return n};g.getShortEndedElements=function(){return s};g.getSelfClosingElements=function(){return t};g.getNonEmptyElements=function(){return u};g.getWhiteSpaceElements=function(){return x};g.isValidChild=function(C,l){var B=e[C];return !!(B&&B[l])};g.getElementRule=function(C){var l=f[C],B;if(l){return l}B=i.length;while(B--){l=i[B];if(l.pattern.test(C)){return l}}};g.addValidElements=a;g.setValidElements=j;g.addCustomElements=b;g.addValidChildren=k};m.html.Schema.boolAttrMap=p;m.html.Schema.blockElementsMap=n})(tinymce);(function(b){b.html.SaxParser=function(h,f){var a=this,g=function(){};h=h||{};a.schema=f=f||new b.html.Schema();if(h.fix_self_closing!==false){h.fix_self_closing=true}b.each("comment cdata text start end pi doctype".split(" "),function(c){if(c){a[c]=h[c]||g}});a.parse=function(af){var ag=this,aq,ak=0,V,an,al=[],ae,O,Z,c,X,am,ah,S,R,ad,Y,ai,Q,aj,T,d,e,i,ab,ao,ap,W,aa=0,U=b.html.Entities.decode,P;function ac(l){var j,k;j=al.length;while(j--){if(al[j].name===l){break}}if(j>=0){for(k=al.length-1;k>=j;k--){l=al[k];if(l.valid){ag.end(l.name)}}al.length=j}}ab=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([^\\s\\/<>]+)\\s*((?:[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*)>))","g");ao=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:\\.|[^\"])*)\")|(?:\'((?:\\.|[^\'])*)\')|([^>\s]+)))?/g;ap={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi};X=f.getShortEndedElements();i=f.getSelfClosingElements();am=f.getBoolAttrs();S=h.validate;P=h.fix_self_closing;while(aq=ab.exec(af)){if(ak<aq.index){ag.text(U(af.substr(ak,aq.index-ak)))}if(V=aq[6]){ac(V.toLowerCase())}else{if(V=aq[7]){V=V.toLowerCase();ah=V in X;if(P&&i[V]&&al.length>0&&al[al.length-1].name===V){ac(V)}if(!S||(R=f.getElementRule(V))){ad=true;if(S){Q=R.attributes;aj=R.attributePatterns}if(ai=aq[8]){ae=[];ae.map={};ai.replace(ao,function(o,p,k,l,m){var j,n;p=p.toLowerCase();k=p in am?p:U(k||l||m||"");if(S&&p.indexOf("data-")!==0){j=Q[p];if(!j&&aj){n=aj.length;while(n--){j=aj[n];if(j.pattern.test(p)){break}}if(n===-1){j=null}}if(!j){return}if(j.validValues&&!(k in j.validValues)){return}}ae.map[p]=k;ae.push({name:p,value:k})})}else{ae=[];ae.map={}}if(S){T=R.attributesRequired;d=R.attributesDefault;e=R.attributesForced;if(e){O=e.length;while(O--){Y=e[O];c=Y.name;W=Y.value;if(W==="{$uid}"){W="mce_"+aa++}ae.map[c]=W;ae.push({name:c,value:W})}}if(d){O=d.length;while(O--){Y=d[O];c=Y.name;if(!(c in ae.map)){W=Y.value;if(W==="{$uid}"){W="mce_"+aa++}ae.map[c]=W;ae.push({name:c,value:W})}}}if(T){O=T.length;while(O--){if(T[O] in ae.map){break}}if(O===-1){ad=false}}if(ae.map["data-mce-bogus"]){ad=false}}if(ad){ag.start(V,ae,ah)}}else{ad=false}if(an=ap[V]){an.lastIndex=ak=aq.index+aq[0].length;if(aq=an.exec(af)){if(ad){Z=af.substr(ak,aq.index-ak)}ak=aq.index+aq[0].length}else{Z=af.substr(ak);ak=af.length}if(ad&&Z.length>0){ag.text(Z,true)}if(ad){ag.end(V)}ab.lastIndex=ak;continue}if(!ah){if(!ai||ai.indexOf("/")!=ai.length-1){al.push({name:V,valid:ad})}else{if(ad){ag.end(V)}}}}else{if(V=aq[1]){ag.comment(V)}else{if(V=aq[2]){ag.cdata(V)}else{if(V=aq[3]){ag.doctype(V)}else{if(V=aq[4]){ag.pi(V,aq[5])}}}}}}ak=aq.index+aq[0].length}if(ak<af.length){ag.text(U(af.substr(ak)))}for(O=al.length-1;O>=0;O--){V=al[O];if(V.valid){ag.end(V.name)}}}}})(tinymce);(function(i){var j=/^[ \t\r\n]*$/,h={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function g(b,a,c){var d,e,n=c?"lastChild":"firstChild",m=c?"prev":"next";if(b[n]){return b[n]}if(b!==a){d=b[m];if(d){return d}for(e=b.parent;e&&e!==a;e=e.parent){d=e[m];if(d){return d}}}}function f(b,a){this.name=b;this.type=a;if(a===1){this.attributes=[];this.attributes.map={}}}i.extend(f.prototype,{replace:function(a){var b=this;if(a.parent){a.remove()}b.insert(a,b);b.remove();return b},attr:function(d,a){var m=this,e,c,b;if(typeof d!=="string"){for(c in d){m.attr(c,d[c])}return m}if(e=m.attributes){if(a!==b){if(a===null){if(d in e.map){delete e.map[d];c=e.length;while(c--){if(e[c].name===d){e=e.splice(c,1);return m}}}return m}if(d in e.map){c=e.length;while(c--){if(e[c].name===d){e[c].value=a;break}}}else{e.push({name:d,value:a})}e.map[d]=a;return m}else{return e.map[d]}}},clone:function(){var e=this,o=new f(e.name,e.type),d,l,a,c,b;if(a=e.attributes){b=[];b.map={};for(d=0,l=a.length;d<l;d++){c=a[d];if(c.name!=="id"){b[b.length]={name:c.name,value:c.value};b.map[c.name]=c.value}}o.attributes=b}o.value=e.value;o.shortEnded=e.shortEnded;return o},wrap:function(a){var b=this;b.parent.insert(a,b);a.append(b);return b},unwrap:function(){var c=this,a,b;for(a=c.firstChild;a;){b=a.next;c.insert(a,c,true);a=b}c.remove()},remove:function(){var d=this,b=d.parent,c=d.next,a=d.prev;if(b){if(b.firstChild===d){b.firstChild=c;if(c){c.prev=null}}else{a.next=c}if(b.lastChild===d){b.lastChild=a;if(a){a.next=null}}else{c.prev=a}d.parent=d.next=d.prev=null}return d},append:function(a){var c=this,b;if(a.parent){a.remove()}b=c.lastChild;if(b){b.next=a;a.prev=b;c.lastChild=a}else{c.lastChild=c.firstChild=a}a.parent=c;return a},insert:function(b,d,a){var c;if(b.parent){b.remove()}c=d.parent||this;if(a){if(d===c.firstChild){c.firstChild=b}else{d.prev.next=b}b.prev=d.prev;b.next=d;d.prev=b}else{if(d===c.lastChild){c.lastChild=b}else{d.next.prev=b}b.next=d.next;b.prev=d;d.next=b}b.parent=c;return b},getAll:function(c){var d=this,b,a=[];for(b=d.firstChild;b;b=g(b,d)){if(b.name===c){a.push(b)}}return a},empty:function(){var c=this,d,b,a;if(c.firstChild){d=[];for(a=c.firstChild;a;a=g(a,c)){d.push(a)}b=d.length;while(b--){a=d[b];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}c.firstChild=c.lastChild=null;return c},isEmpty:function(a){var d=this,b=d.firstChild,c;if(b){do{if(b.type===1){if(b.attributes.map["data-mce-bogus"]){continue}if(a[b.name]){return false}c=b.attributes.length;while(c--){if(b.attributes[c].name.indexOf("data-")===0){return false}}}if((b.type===3&&!j.test(b.value))){return false}}while(b=g(b,d))}return true}});i.extend(f,{create:function(c,d){var a,b;a=new f(c,h[c]||1);if(d){for(b in d){a.attr(b,d[b])}}return a}});i.html.Node=f})(tinymce);(function(c){var d=c.html.Node;c.html.DomParser=function(i,b){var j=this,k={},l=[];i=i||{};i.root_name=i.root_name||"body";j.schema=b=b||new c.html.Schema();function a(B){var z,h,G,H,E,A,g,C,J,I,D,e,F,f;e=c.makeMap("tr,td,th,tbody,thead,tfoot,table");D=b.getNonEmptyElements();for(z=0;z<B.length;z++){h=B[z];if(!h.parent){continue}H=[h];for(G=h.parent;G&&!b.isValidChild(G.name,h.name)&&!e[G.name];G=G.parent){H.push(G)}if(G&&H.length>1){H.reverse();E=A=H[0].clone();for(J=0;J<H.length-1;J++){if(b.isValidChild(A.name,H[J].name)){g=H[J].clone();A.append(g)}else{g=A}for(C=H[J].firstChild;C&&C!=H[J+1];){f=C.next;g.append(C);C=f}A=g}if(!E.isEmpty(D)){G.insert(E,H[0],true);G.insert(h,E)}else{G.insert(h,H[0],true)}if(H[0].isEmpty(D)){H[0].empty().remove()}}else{if(h.parent){if(h.name==="li"){F=h.prev;if(F&&(F.name==="ul"||F.name==="ul")){F.append(h);continue}F=h.next;if(F&&(F.name==="ul"||F.name==="ul")){F.insert(h,F.firstChild,true);continue}h.wrap(new d("ul",1));continue}if(b.isValidChild(h.parent.name,"div")&&b.isValidChild("div",h.name)){h.wrap(new d("div",1))}else{if(h.name==="style"||h.name==="script"){h.empty().remove()}else{h.unwrap()}}}}}}j.addNodeFilter=function(f,e){c.each(c.explode(f),function(h){var g=k[h];if(!g){k[h]=g=[]}g.push(e)})};j.addAttributeFilter=function(f,e){c.each(c.explode(f),function(h){var g;for(g=0;g<l.length;g++){if(l[g].name===h){l[g].callbacks.push(e);return}}l.push({name:h,callbacks:[e]})})};j.parse=function(J,Y){var X,N,e,f,Z={},V={},T,U,g,R,P,h,W,Q,I=[],M,aa,O,S,L;Y=Y||{};W=c.extend(c.makeMap("script,style,head,title,meta,param"),b.getBlockElements());L=b.getNonEmptyElements();S=b.children;O=b.getWhiteSpaceElements();Q=/^[ \t\r\n]+/;M=/[ \t\r\n]+$/;aa=/[ \t\r\n]+/g;function K(p,m){var o=new d(p,m),n;if(p in k){n=Z[p];if(n){n.push(o)}else{Z[p]=[o]}}return o}X=new c.html.SaxParser({validate:i.validate,fix_self_closing:false,cdata:function(m){e.append(K("#cdata",4)).value=m},text:function(n,o){var m;if(!O[e.name]){n=n.replace(aa," ");if(e.lastChild&&W[e.lastChild.name]){n=n.replace(Q,"")}}if(n.length!==0){m=K("#text",3);m.raw=!!o;e.append(m).value=n}},comment:function(m){e.append(K("#comment",8)).value=m},pi:function(n,m){e.append(K(n,7)).value=m},doctype:function(m){e.append(K("#doctype",10)).value=m},start:function(n,p,x){var r,u,v,m,t,o,q,s;v=b.getElementRule(n);if(v){r=K(v.outputName||n,1);r.attributes=p;r.shortEnded=x;e.append(r);s=S[e.name];if(s&&S[r.name]&&!s[r.name]){I.push(r)}u=l.length;while(u--){t=l[u].name;if(t in p.map){P=V[t];if(P){P.push(r)}else{V[t]=[r]}}}if(W[n]){for(m=r.prev;m&&m.type===3;){o=m.value.replace(M,"");if(o.length>0){m.value=o;m=m.prev}else{q=m.prev;m.remove();m=q}}}if(!x){e=r}}},end:function(r){var m,q,o,n,p;q=b.getElementRule(r);if(q){if(W[r]){if(!O[e.name]){for(m=e.firstChild;m&&m.type===3;){o=m.value.replace(Q,"");if(o.length>0){m.value=o;m=m.next}else{n=m.next;m.remove();m=n}}for(m=e.lastChild;m&&m.type===3;){o=m.value.replace(M,"");if(o.length>0){m.value=o;m=m.prev}else{n=m.prev;m.remove();m=n}}}m=e.prev;if(m&&m.type===3){o=m.value.replace(Q,"");if(o.length>0){m.value=o}else{m.remove()}}}if(q.removeEmpty||q.paddEmpty){if(e.isEmpty(L)){if(q.paddEmpty){e.empty().append(new d("#text","3")).value="\u00a0"}else{if(!e.attributes.map.name){p=e.parent;e.empty().remove();e=p;return}}}}e=e.parent}}},b);N=e=new d(i.root_name,11);X.parse(J);a(I);for(h in Z){P=k[h];f=Z[h];g=f.length;while(g--){if(!f[g].parent){f.splice(g,1)}}for(T=0,U=P.length;T<U;T++){P[T](f,h,Y)}}for(T=0,U=l.length;T<U;T++){P=l[T];if(P.name in V){f=V[P.name];g=f.length;while(g--){if(!f[g].parent){f.splice(g,1)}}for(g=0,R=P.callbacks.length;g<R;g++){P.callbacks[g](f,P.name,Y)}}}return N};if(i.remove_trailing_brs){j.addNodeFilter("br",function(v,x){var f,g=v.length,u,z=b.getBlockElements(),y=b.getNonEmptyElements(),e,h,A;for(f=0;f<g;f++){u=v[f];e=u.parent;if(z[u.parent.name]&&u===e.lastChild){h=u.prev;while(h){A=h.name;if(A!=="span"||h.attr("data-mce-type")!=="bookmark"){if(A!=="br"){break}if(A==="br"){u=null;break}}h=h.prev}if(u){u.remove();if(e.isEmpty(y)){elementRule=b.getElementRule(e.name);if(elementRule.removeEmpty){e.remove()}else{if(elementRule.paddEmpty){e.empty().append(new c.html.Node("#text",3)).value="\u00a0"}}}}}}})}}})(tinymce);tinymce.html.Writer=function(l){var n=[],i,h,m,k,j;l=l||{};i=l.indent;h=tinymce.makeMap(l.indent_before||"");m=tinymce.makeMap(l.indent_after||"");k=tinymce.html.Entities.getEncodeFunc(l.entity_encoding||"raw",l.entities);j=l.element_format=="html";return{start:function(a,b,e){var g,c,d,f;if(i&&h[a]&&n.length>0){f=n[n.length-1];if(f.length>0&&f!=="\n"){n.push("\n")}}n.push("<",a);if(b){for(g=0,c=b.length;g<c;g++){d=b[g];n.push(" ",d.name,'="',k(d.value,true),'"')}}if(!e||j){n[n.length]=">"}else{n[n.length]=" />"}},end:function(b){var a;n.push("</",b,">");if(i&&m[b]&&n.length>0){a=n[n.length-1];if(a.length>0&&a!=="\n"){n.push("\n")}}},text:function(a,b){if(a.length>0){n[n.length]=b?a:k(a)}},cdata:function(a){n.push("<![CDATA[",a,"]]>")},comment:function(a){n.push("<!--",a,"-->")},pi:function(b,a){if(a){n.push("<?",b," ",a,"?>")}else{n.push("<?",b,"?>")}},doctype:function(a){n.push("<!DOCTYPE",a,">")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}};(function(b){b.html.Serializer=function(h,g){var a=this,f=new b.html.Writer(h);h=h||{};h.validate="validate" in h?h.validate:true;a.schema=g=g||new b.html.Schema();a.writer=f;a.serialize=function(d){var e,c;c=h.validate;e={3:function(i,l){f.text(i.value,i.raw)},8:function(i){f.comment(i.value)},7:function(i){f.pi(i.name,i.value)},10:function(i){f.doctype(i.value)},4:function(i){f.cdata(i.value)},11:function(i){if((i=i.firstChild)){do{j(i)}while(i=i.next)}}};f.reset();function j(A){var D=e[A.type],B,x,E,i,v,C,y,z,l;if(!D){B=A.name;x=A.shortEnded;E=A.attributes;if(c&&E&&E.length>1){C=[];C.map={};l=g.getElementRule(A.name);for(y=0,z=l.attributesOrder.length;y<z;y++){i=l.attributesOrder[y];if(i in E.map){v=E.map[i];C.map[i]=v;C.push({name:i,value:v})}}for(y=0,z=E.length;y<z;y++){i=E[y].name;if(!(i in C.map)){v=E.map[i];C.map[i]=v;C.push({name:i,value:v})}}E=C}f.start(A.name,E,x);if(!x){if((A=A.firstChild)){do{j(A)}while(A=A.next)}f.end(B)}}else{D(A)}}if(d.type==1&&!h.inner){j(d)}else{e[11](d)}return f.getContent()}}})(tinymce);(function(o){var m=o.each,p=o.is,n=o.isWebKit,j=o.isIE,k=o.html.Entities,i=/^([a-z0-9],?)+$/i,l=o.html.Schema.blockElementsMap;o.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(a,c){var d=this,e;d.doc=a;d.win=window;d.files={};d.cssFlicker=false;d.counter=0;d.stdMode=!o.isIE||a.documentMode>=8;d.boxModel=!o.isIE||a.compatMode=="CSS1Compat"||d.stdMode;d.hasOuterHTML="outerHTML" in a.createElement("a");d.settings=c=o.extend({keep_values:false,hex_colors:1},c);d.styles=new o.html.Styles({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema);if(o.isIE6){try{a.execCommand("BackgroundImageCache",false,true)}catch(b){d.cssFlicker=true}}if(j){("abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video").replace(/\w+/g,function(f){a.createElement(f)})}o.addUnload(d.destroy,d)},getRoot:function(){var b=this,a=b.settings;return(a&&b.get(a.root_element))||b.doc.body},getViewPort:function(b){var a,c;b=!b?this.win:b;a=b.document;c=this.boxModel?a.documentElement:a.body;return{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(a){var b,d=this,c;a=d.get(a);b=d.getPos(a);c=d.getSize(a);return{x:b.x,y:b.y,w:c.w,h:c.h}},getSize:function(a){var c=this,d,b;a=c.get(a);d=c.getStyle(a,"width");b=c.getStyle(a,"height");if(d.indexOf("px")===-1){d=0}if(b.indexOf("px")===-1){b=0}return{w:parseInt(d)||a.offsetWidth||a.clientWidth,h:parseInt(b)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,false)},getParents:function(f,a,c,g){var d=this,e,b=d.settings,h=[];f=d.get(f);g=g===undefined;if(b.strict_root){c=c||d.getRoot()}if(p(a,"string")){e=a;if(a==="*"){a=function(q){return q.nodeType==1}}else{a=function(q){return d.is(q,e)}}}while(f){if(f==c||!f.nodeType||f.nodeType===9){break}if(!a||a(f)){if(g){h.push(f)}else{return f}}f=f.parentNode}return g?h:null},get:function(b){var a;if(b&&this.doc&&typeof(b)=="string"){a=b;b=this.doc.getElementById(b);if(b&&b.id!==a){return this.doc.getElementsByName(a)[1]}}return b},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},add:function(b,f,e,c,a){var d=this;return this.run(b,function(g){var h,s;h=p(f,"string")?d.doc.createElement(f):f;d.setAttribs(h,e);if(c){if(c.nodeType){h.appendChild(c)}else{d.setHTML(h,c)}}return !a?g.appendChild(h):h})},create:function(a,c,b){return this.add(this.doc.createElement(a),a,c,b,1)},createHTML:function(e,d,a){var f="",b=this,c;f+="<"+e;for(c in d){if(d.hasOwnProperty(c)){f+=" "+c+'="'+b.encode(d[c])+'"'}}if(typeof(a)!="undefined"){return f+">"+a+"</"+e+">"}return f+" />"},remove:function(b,a){return this.run(b,function(d){var e,c;e=d.parentNode;if(!e){return null}if(a){while(c=d.firstChild){if(!o.isIE||c.nodeType!==3||c.nodeValue){e.insertBefore(c,d)}else{d.removeChild(c)}}}return e.removeChild(d)})},setStyle:function(a,d,c){var b=this;return b.run(a,function(f){var g,e;g=f.style;d=d.replace(/-(\D)/g,function(h,r){return r.toUpperCase()});if(b.pixelStyles.test(d)&&(o.is(c,"number")||/^[\-0-9\.]+$/.test(c))){c+="px"}switch(d){case"opacity":if(j){g.filter=c===""?"":"alpha(opacity="+(c*100)+")";if(!a.currentStyle||!a.currentStyle.hasLayout){g.display="inline-block"}}g[d]=g["-moz-opacity"]=g["-khtml-opacity"]=c||"";break;case"float":j?g.styleFloat=c:g.cssFloat=c;break;default:g[d]=c||""}if(b.settings.update_styles){b.setAttrib(f,"data-mce-style")}})},getStyle:function(a,d,b){a=this.get(a);if(!a){return false}if(this.doc.defaultView&&b){d=d.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(a,null).getPropertyValue(d)}catch(c){return null}}d=d.replace(/-(\D)/g,function(f,e){return e.toUpperCase()});if(d=="float"){d=j?"styleFloat":"cssFloat"}if(a.currentStyle&&b){return a.currentStyle[d]}return a.style[d]},setStyles:function(b,a){var d=this,c=d.settings,e;e=c.update_styles;c.update_styles=0;m(a,function(g,f){d.setStyle(b,f,g)});c.update_styles=e;if(c.update_styles){d.setAttrib(b,c.cssText)}},removeAllAttribs:function(a){return this.run(a,function(b){var d=b.attributes;for(var c=d.length-1;c>=0;c--){b.removeAttributeNode(d.item(c))}})},setAttrib:function(b,a,d){var c=this;if(!b||!a){return}if(c.settings.strict){a=a.toLowerCase()}return this.run(b,function(f){var e=c.settings;switch(a){case"style":if(!p(d,"string")){m(d,function(h,g){c.setStyle(f,g,h)});return}if(e.keep_values){if(d&&!c._isRes(d)){f.setAttribute("data-mce-style",d,2)}else{f.removeAttribute("data-mce-style",2)}}f.style.cssText=d;break;case"class":f.className=d||"";break;case"src":case"href":if(e.keep_values){if(e.url_converter){d=e.url_converter.call(e.url_converter_scope||c,d,a,f)}c.setAttrib(f,"data-mce-"+a,d,2)}break;case"shape":f.setAttribute("data-mce-style",d);break}if(p(d)&&d!==null&&d.length!==0){f.setAttribute(a,""+d,2)}else{f.removeAttribute(a,2)}})},setAttribs:function(b,a){var c=this;return this.run(b,function(d){m(a,function(e,f){c.setAttrib(d,f,e)})})},getAttrib:function(b,a,c){var e,d=this;b=d.get(b);if(!b||b.nodeType!==1){return false}if(!p(c)){c=""}if(/^(src|href|style|coords|shape)$/.test(a)){e=b.getAttribute("data-mce-"+a);if(e){return e}}if(j&&d.props[a]){e=b[d.props[a]];e=e&&e.nodeValue?e.nodeValue:e}if(!e){e=b.getAttribute(a,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(a)){if(b[d.props[a]]===true&&e===""){return a}return e?a:""}if(b.nodeName==="FORM"&&b.getAttributeNode(a)){return b.getAttributeNode(a).nodeValue}if(a==="style"){e=e||b.style.cssText;if(e){e=d.serializeStyle(d.parseStyle(e),b.nodeName);if(d.settings.keep_values&&!d._isRes(e)){b.setAttribute("data-mce-style",e)}}}if(n&&a==="class"&&e){e=e.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(j){switch(a){case"rowspan":case"colspan":if(e===1){e=""}break;case"size":if(e==="+0"||e===20||e===0){e=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(e===0){e=""}break;case"hspace":if(e===-1){e=""}break;case"maxlength":case"tabindex":if(e===32768||e===2147483647||e==="32768"){e=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(e===65535){return a}return c;case"shape":e=e.toLowerCase();break;default:if(a.indexOf("on")===0&&e){e=o._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+e)}}}return(e!==undefined&&e!==null&&e!=="")?""+e:c},getPos:function(f,b){var d=this,e=0,g=0,a,h=d.doc,c;f=d.get(f);b=b||h.body;if(f){if(j&&!d.stdMode){f=f.getBoundingClientRect();a=d.boxModel?h.documentElement:h.body;e=d.getStyle(d.select("html")[0],"borderWidth");e=(e=="medium"||d.boxModel&&!d.isIE6)&&2||e;return{x:f.left+a.scrollLeft-e,y:f.top+a.scrollTop-e}}c=f;while(c&&c!=b&&c.nodeType){e+=c.offsetLeft||0;g+=c.offsetTop||0;c=c.offsetParent}c=f.parentNode;while(c&&c!=b&&c.nodeType){e-=c.scrollLeft||0;g-=c.scrollTop||0;c=c.parentNode}}return{x:e,y:g}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},loadCSS:function(d){var b=this,a=b.doc,c;if(!d){d=""}c=b.select("head")[0];m(d.split(","),function(e){var f;if(b.files[e]){return}b.files[e]=true;f=b.create("link",{rel:"stylesheet",href:o._addVer(e)});if(j&&a.documentMode&&a.recalc){f.onload=function(){if(a.recalc){a.recalc()}f.onload=null}}c.appendChild(f)})},addClass:function(b,a){return this.run(b,function(d){var c;if(!a){return 0}if(this.hasClass(d,a)){return d.className}c=this.removeClass(d,a);return d.className=(c!=""?(c+" "):"")+a})},removeClass:function(b,a){var d=this,c;return d.run(b,function(f){var e;if(d.hasClass(f,a)){if(!c){c=new RegExp("(^|\\s+)"+a+"(\\s+|$)","g")}e=f.className.replace(c," ");e=o.trim(e!=" "?e:"");f.className=e;if(!e){f.removeAttribute("class");f.removeAttribute("className")}return e}return f.className})},hasClass:function(a,b){a=this.get(a);if(!a||!b){return false}return(" "+a.className+" ").indexOf(" "+b+" ")!==-1},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){a=this.get(a);return !a||a.style.display=="none"||this.getStyle(a,"display")=="none"},uniqueId:function(a){return(!a?"mce_":a)+(this.counter++)},setHTML:function(a,b){var c=this;return c.run(a,function(d){if(j){while(d.firstChild){d.removeChild(d.firstChild)}try{d.innerHTML="<br />"+b;d.removeChild(d.firstChild)}catch(e){d=c.create("div");d.innerHTML="<br />"+b;m(d.childNodes,function(f,g){if(g){d.appendChild(f)}})}}else{d.innerHTML=b}return b})},getOuterHTML:function(a){var b,c=this;a=c.get(a);if(!a){return null}if(a.nodeType===1&&c.hasOuterHTML){return a.outerHTML}b=(a.ownerDocument||c.doc).createElement("body");b.appendChild(a.cloneNode(true));return b.innerHTML},setOuterHTML:function(b,d,a){var e=this;function c(t,u,g){var f,h;h=g.createElement("body");h.innerHTML=u;f=h.lastChild;while(f){e.insertAfter(f.cloneNode(true),t);f=f.previousSibling}e.remove(t)}return this.run(b,function(f){f=e.get(f);if(f.nodeType==1){a=a||f.ownerDocument||e.doc;if(j){try{if(j&&f.nodeType==1){f.outerHTML=d}else{c(f,d,a)}}catch(g){c(f,d,a)}}else{c(f,d,a)}}})},decode:k.decode,encode:k.encodeAllRaw,insertAfter:function(b,a){a=this.get(a);return this.run(b,function(d){var e,c;e=a.parentNode;c=a.nextSibling;if(c){e.insertBefore(d,c)}else{e.appendChild(d)}return d})},isBlock:function(a){var b=a.nodeType;if(b){return !!(b===1&&l[a.nodeName])}return !!l[a]},replace:function(a,b,d){var c=this;if(p(b,"array")){a=a.cloneNode(true)}return c.run(b,function(e){if(d){m(o.grep(e.childNodes),function(f){a.appendChild(f)})}return e.parentNode.replaceChild(a,e)})},rename:function(a,d){var b=this,c;if(a.nodeName!=d.toUpperCase()){c=b.create(d);m(b.getAttribs(a),function(e){b.setAttrib(c,e.nodeName,b.getAttrib(a,e.nodeName))});b.replace(c,a,1)}return c||a},findCommonAncestor:function(b,d){var a=b,c;while(a){c=d;while(c&&a!=c){c=c.parentNode}if(a==c){break}a=a.parentNode}if(!a&&b.ownerDocument){return b.ownerDocument.documentElement}return a},toHex:function(c){var a=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(c);function b(d){d=parseInt(d).toString(16);return d.length>1?d:"0"+d}if(a){c="#"+b(a[1])+b(a[2])+b(a[3]);return c}return c},getClasses:function(){var h=this,d=[],a,g={},f=h.settings.class_filter,b;if(h.classes){return h.classes}function e(q){m(q.imports,function(r){e(r)});m(q.cssRules||q.rules,function(r){switch(r.type||1){case 1:if(r.selectorText){m(r.selectorText.split(","),function(s){s=s.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(s)||!/\.[\w\-]+$/.test(s)){return}b=s;s=o._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",s);if(f&&!(s=f(s,b))){return}if(!g[s]){d.push({"class":s});g[s]=1}})}break;case 3:e(r.styleSheet);break}})}try{m(h.doc.styleSheets,e)}catch(c){}if(d.length>0){h.classes=d}return d},run:function(b,c,d){var e=this,a;if(e.doc&&typeof(b)==="string"){b=e.get(b)}if(!b){return false}d=d||this;if(!b.nodeType&&(b.length||b.length===0)){a=[];m(b,function(f,g){if(f){if(typeof(f)=="string"){f=e.doc.getElementById(f)}a.push(c.call(d,f,g))}});return a}return c.call(d,b)},getAttribs:function(a){var b;a=this.get(a);if(!a){return[]}if(j){b=[];if(a.nodeName=="OBJECT"){return a.attributes}if(a.nodeName==="OPTION"&&this.getAttrib(a,"selected")){b.push({specified:1,nodeName:"selected"})}a.cloneNode(false).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(c){b.push({specified:1,nodeName:c})});return b}return a.attributes},destroy:function(a){var b=this;if(b.events){b.events.destroy()}b.win=b.doc=b.root=b.events=null;if(!a){o.removeUnload(b.destroy)}},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new o.dom.Range(this)},nodeIndex:function(h,g){var e=0,b,a,c,d;if(h){for(b=h.nodeType,h=h.previousSibling,a=h;h;h=h.previousSibling){c=h.nodeType;if(g&&c==3){d=false;try{d==h.nodeValue.length}catch(f){}if(c==b||!d){continue}}e++;b=c}}return e},split:function(e,f,b){var a=this,r=a.createRng(),d,g,c;function h(q){var u,v=q.childNodes;if(q.nodeType==1&&q.getAttribute("data-mce-type")=="bookmark"){return}for(u=v.length-1;u>=0;u--){h(v[u])}if(q.nodeType!=9){if(q.nodeType==3&&q.nodeValue.length>0){if(!a.isBlock(q.parentNode)||o.trim(q.nodeValue).length>0){return}}if(q.nodeType==1){v=q.childNodes;if(v.length==1&&v[0]&&v[0].nodeType==1&&v[0].getAttribute("data-mce-type")=="bookmark"){q.parentNode.insertBefore(v[0],q)}if(v.length||/^(br|hr|input|img)$/i.test(q.nodeName)){return}}a.remove(q)}return q}if(e&&f){r.setStart(e.parentNode,a.nodeIndex(e));r.setEnd(f.parentNode,a.nodeIndex(f));d=r.extractContents();r=a.createRng();r.setStart(f.parentNode,a.nodeIndex(f)+1);r.setEnd(e.parentNode,a.nodeIndex(e)+1);g=r.extractContents();c=e.parentNode;c.insertBefore(h(d),e);if(b){c.replaceChild(b,f)}else{c.insertBefore(f,e)}c.insertBefore(h(g),e);a.remove(e);return b||f}},bind:function(a,e,b,c){var d=this;if(!d.events){d.events=new o.dom.EventUtils()}return d.events.add(a,e,b,c||this)},unbind:function(a,d,b){var c=this;if(!c.events){c.events=new o.dom.EventUtils()}return c.events.remove(a,d,b)},_findSib:function(b,e,d){var c=this,a=e;if(b){if(p(a,"string")){a=function(f){return c.is(f,e)}}for(b=b[d];b;b=b[d]){if(a(b)){return b}}}return null},_isRes:function(a){return/^(top|left|bottom|right|width|height)/i.test(a)||/;\s*(top|left|bottom|right|width|height)/i.test(a)}});o.DOM=new o.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(d){function c(aJ){var Z=this,aH=aJ.doc,t=0,ai=1,aC=2,aj=true,V=false,a="startOffset",aE="startContainer",X="endContainer",an="endOffset",aB=tinymce.extend,ay=aJ.nodeIndex;aB(Z,{startContainer:aH,startOffset:0,endContainer:aH,endOffset:0,collapsed:aj,commonAncestorContainer:aH,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:av,setEnd:at,setStartBefore:aF,setStartAfter:ae,setEndBefore:ad,setEndAfter:ar,collapse:am,selectNode:ap,selectNodeContents:ah,compareBoundaryPoints:aq,deleteContents:aw,extractContents:af,cloneContents:aI,insertNode:ak,surroundContents:aa,cloneRange:ac});function av(e,f){al(aj,e,f)}function at(e,f){al(V,e,f)}function aF(e){av(e.parentNode,ay(e))}function ae(e){av(e.parentNode,ay(e)+1)}function ad(e){at(e.parentNode,ay(e))}function ar(e){at(e.parentNode,ay(e)+1)}function am(e){if(e){Z[X]=Z[aE];Z[an]=Z[a]}else{Z[aE]=Z[X];Z[a]=Z[an]}Z.collapsed=aj}function ap(e){aF(e);ar(e)}function ah(e){av(e,0);at(e,e.nodeType===1?e.childNodes.length:e.nodeValue.length)}function aq(g,m){var n=Z[aE],i=Z[a],e=Z[X],j=Z[an],f=m.startContainer,k=m.startOffset,h=m.endContainer,l=m.endOffset;if(g===0){return ag(n,i,f,k)}if(g===1){return ag(e,j,f,k)}if(g===2){return ag(e,j,h,l)}if(g===3){return ag(n,i,h,l)}}function aw(){az(aC)}function af(){return az(t)}function aI(){return az(ai)}function ak(h){var f=this[aE],g=this[a],i,e;if((f.nodeType===3||f.nodeType===4)&&f.nodeValue){if(!g){f.parentNode.insertBefore(h,f)}else{if(g>=f.nodeValue.length){aJ.insertAfter(h,f)}else{i=f.splitText(g);f.parentNode.insertBefore(h,i)}}}else{if(f.childNodes.length>0){e=f.childNodes[g]}if(e){f.insertBefore(h,e)}else{f.appendChild(h)}}}function aa(e){var f=Z.extractContents();Z.insertNode(e);e.appendChild(f);Z.selectNode(e)}function ac(){return aB(new c(aJ),{startContainer:Z[aE],startOffset:Z[a],endContainer:Z[X],endOffset:Z[an],collapsed:Z.collapsed,commonAncestorContainer:Z.commonAncestorContainer})}function Y(g,f){var e;if(g.nodeType==3){return g}if(f<0){return g}e=g.firstChild;while(e&&f>0){--f;e=e.nextSibling}if(e){return e}return g}function aA(){return(Z[aE]==Z[X]&&Z[a]==Z[an])}function ag(h,f,j,g){var e,i,m,n,k,l;if(h==j){if(f==g){return 0}if(f<g){return -1}return 1}e=j;while(e&&e.parentNode!=h){e=e.parentNode}if(e){i=0;m=h.firstChild;while(m!=e&&i<f){i++;m=m.nextSibling}if(f<=i){return -1}return 1}e=h;while(e&&e.parentNode!=j){e=e.parentNode}if(e){i=0;m=j.firstChild;while(m!=e&&i<g){i++;m=m.nextSibling}if(i<g){return -1}return 1}n=aJ.findCommonAncestor(h,j);k=h;while(k&&k.parentNode!=n){k=k.parentNode}if(!k){k=n}l=j;while(l&&l.parentNode!=n){l=l.parentNode}if(!l){l=n}if(k==l){return 0}m=n.firstChild;while(m){if(m==k){return -1}if(m==l){return 1}m=m.nextSibling}}function al(f,h,i){var g,e;if(f){Z[aE]=h;Z[a]=i}else{Z[X]=h;Z[an]=i}g=Z[X];while(g.parentNode){g=g.parentNode}e=Z[aE];while(e.parentNode){e=e.parentNode}if(e==g){if(ag(Z[aE],Z[a],Z[X],Z[an])>0){Z.collapse(f)}}else{Z.collapse(f)}Z.collapsed=aA();Z.commonAncestorContainer=aJ.findCommonAncestor(Z[aE],Z[X])}function az(n){var e,h=0,k=0,j,f,i,g,m,l;if(Z[aE]==Z[X]){return aG(n)}for(e=Z[X],j=e.parentNode;j;e=j,j=j.parentNode){if(j==Z[aE]){return au(e,n)}++h}for(e=Z[aE],j=e.parentNode;j;e=j,j=j.parentNode){if(j==Z[X]){return b(e,n)}++k}f=k-h;i=Z[aE];while(f>0){i=i.parentNode;f--}g=Z[X];while(f<0){g=g.parentNode;f++}for(m=i.parentNode,l=g.parentNode;m!=l;m=m.parentNode,l=l.parentNode){i=m;g=l}return ax(i,g,n)}function aG(j){var h,k,l,i,g,e,f;if(j!=aC){h=aH.createDocumentFragment()}if(Z[a]==Z[an]){return h}if(Z[aE].nodeType==3){k=Z[aE].nodeValue;l=k.substring(Z[a],Z[an]);if(j!=ai){Z[aE].deleteData(Z[a],Z[an]-Z[a]);Z.collapse(aj)}if(j==aC){return}h.appendChild(aH.createTextNode(l));return h}i=Y(Z[aE],Z[a]);g=Z[an]-Z[a];while(g>0){e=i.nextSibling;f=ao(i,j);if(h){h.appendChild(f)}--g;i=e}if(j!=ai){Z.collapse(aj)}return h}function au(h,k){var j,i,f,g,l,e;if(k!=aC){j=aH.createDocumentFragment()}i=aD(h,k);if(j){j.appendChild(i)}f=ay(h);g=f-Z[a];if(g<=0){if(k!=ai){Z.setEndBefore(h);Z.collapse(V)}return j}i=h.previousSibling;while(g>0){l=i.previousSibling;e=ao(i,k);if(j){j.insertBefore(e,j.firstChild)}--g;i=l}if(k!=ai){Z.setEndBefore(h);Z.collapse(V)}return j}function b(j,k){var h,f,i,g,l,e;if(k!=aC){h=aH.createDocumentFragment()}i=W(j,k);if(h){h.appendChild(i)}f=ay(j);++f;g=Z[an]-f;i=j.nextSibling;while(g>0){l=i.nextSibling;e=ao(i,k);if(h){h.appendChild(e)}--g;i=l}if(k!=ai){Z.setStartAfter(j);Z.collapse(aj)}return h}function ax(f,n,m){var i,k,g,e,o,j,l,h;if(m!=aC){k=aH.createDocumentFragment()}i=W(f,m);if(k){k.appendChild(i)}g=f.parentNode;e=ay(f);o=ay(n);++e;j=o-e;l=f.nextSibling;while(j>0){h=l.nextSibling;i=ao(l,m);if(k){k.appendChild(i)}l=h;--j}i=aD(n,m);if(k){k.appendChild(i)}if(m!=ai){Z.setStartAfter(f);Z.collapse(aj)}return k}function aD(e,m){var i=Y(Z[X],Z[an]-1),k,f,g,l,j,h=i!=Z[X];if(i==e){return ab(i,h,V,m)}k=i.parentNode;f=ab(k,V,V,m);while(k){while(i){g=i.previousSibling;l=ab(i,h,V,m);if(m!=aC){f.insertBefore(l,f.firstChild)}h=aj;i=g}if(k==e){return f}i=k.previousSibling;k=k.parentNode;j=ab(k,V,V,m);if(m!=aC){j.appendChild(f)}f=j}}function W(e,m){var h=Y(Z[aE],Z[a]),g=h!=Z[aE],k,f,i,l,j;if(h==e){return ab(h,g,aj,m)}k=h.parentNode;f=ab(k,V,aj,m);while(k){while(h){i=h.nextSibling;l=ab(h,g,aj,m);if(m!=aC){f.appendChild(l)}g=aj;h=i}if(k==e){return f}h=k.nextSibling;k=k.parentNode;j=ab(k,V,aj,m);if(m!=aC){j.appendChild(f)}f=j}}function ab(l,g,m,k){var h,i,f,j,e;if(g){return ao(l,k)}if(l.nodeType==3){h=l.nodeValue;if(m){j=Z[a];i=h.substring(j);f=h.substring(0,j)}else{j=Z[an];i=h.substring(0,j);f=h.substring(j)}if(k!=ai){l.nodeValue=f}if(k==aC){return}e=l.cloneNode(V);e.nodeValue=i;return e}if(k==aC){return}return l.cloneNode(V)}function ao(e,f){if(f!=aC){return f==ai?e.cloneNode(aj):e}e.parentNode.removeChild(e)}}d.Range=c})(tinymce.dom);(function(){function b(m){var k=this,a="\uFEFF",o,l,p=m.dom,q=true,n=false;function r(){var g=m.getRng(),e=p.createRng(),c,f;c=g.item?g.item(0):g.parentElement();if(c.ownerDocument!=p.doc){return e}f=m.isCollapsed();if(g.item||!c.hasChildNodes()){if(f){e.setStart(c,0);e.setEnd(c,0)}else{e.setStart(c.parentNode,p.nodeIndex(c));e.setEnd(e.startContainer,e.startOffset+1)}return e}function d(I){var G,i,H,j,B=0,E,D,C,h,F;h=g.duplicate();h.collapse(I);G=p.create("a");C=h.parentElement();if(!C.hasChildNodes()){e[I?"setStart":"setEnd"](C,0);return}C.appendChild(G);h.moveToElementText(G);F=g.compareEndPoints(I?"StartToStart":"EndToEnd",h);if(F>0){e[I?"setStartAfter":"setEndAfter"](C);p.remove(G);return}j=tinymce.grep(C.childNodes);E=j.length-1;while(B<=E){D=Math.floor((B+E)/2);C.insertBefore(G,j[D]);h.moveToElementText(G);F=g.compareEndPoints(I?"StartToStart":"EndToEnd",h);if(F>0){B=D+1}else{if(F<0){E=D-1}else{found=true;break}}}i=F>0||D==0?G.nextSibling:G.previousSibling;if(i.nodeType==1){p.remove(G);H=p.nodeIndex(i);i=i.parentNode;if(!I||D>0){H++}}else{if(F>0||D==0){h.setEndPoint(I?"StartToStart":"EndToEnd",g);H=h.text.length}else{h.setEndPoint(I?"StartToStart":"EndToEnd",g);H=i.nodeValue.length-h.text.length}p.remove(G)}e[I?"setStart":"setEnd"](i,H)}d(true);if(!f){d()}return e}this.addRange=function(j){var e,g,h,c,v,y,x=m.dom.doc,f=x.body;function i(E){var t,s,u,C,D;u=p.create("a");t=E?h:v;s=E?c:y;C=e.duplicate();if(t==x||t==x.documentElement){t=f;s=0}if(t.nodeType==3){t.parentNode.insertBefore(u,t);C.moveToElementText(u);C.moveStart("character",s);p.remove(u);e.setEndPoint(E?"StartToStart":"EndToEnd",C)}else{D=t.childNodes;if(D.length){if(s>=D.length){p.insertAfter(u,D[D.length-1])}else{t.insertBefore(u,D[s])}C.moveToElementText(u)}else{u=x.createTextNode(a);t.appendChild(u);C.moveToElementText(u.parentNode);C.collapse(q)}e.setEndPoint(E?"StartToStart":"EndToEnd",C);p.remove(u)}}this.destroy();h=j.startContainer;c=j.startOffset;v=j.endContainer;y=j.endOffset;e=f.createTextRange();if(h==v&&h.nodeType==1&&c==y-1){if(c==y-1){try{g=f.createControlRange();g.addElement(h.childNodes[c]);g.select();return}catch(d){}}}i(true);i();e.select()};this.getRangeAt=function(){if(!o||!tinymce.dom.RangeUtils.compareRanges(l,m.getRng())){o=r();l=m.getRng()}try{o.startContainer.nextSibling}catch(c){o=r();l=null}return o};this.destroy=function(){l=o=null}}tinymce.dom.TridentSelection=b})();(function(k){var i=k.each,l=k.DOM,g=k.isIE,j=k.isWebKit,h;k.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[];this.events=[]},add:function(a,o,b,d){var n,f=this,e=f.events,c;if(o instanceof Array){c=[];i(o,function(m){c.push(f.add(a,m,b,d))});return c}if(a&&a.hasOwnProperty&&a instanceof Array){c=[];i(a,function(m){m=l.get(m);c.push(f.add(m,o,b,d))});return c}a=l.get(a);if(!a){return}n=function(m){if(f.disabled){return}m=m||window.event;if(m&&g){if(!m.target){m.target=m.srcElement}k.extend(m,f._stoppers)}if(!d){return b(m)}return b.call(d,m)};if(o=="unload"){k.unloads.unshift({func:n});return n}if(o=="init"){if(f.domLoaded){n()}else{f.inits.push(n)}return n}e.push({obj:a,name:o,func:b,cfunc:n,scope:d});f._add(a,o,n);return b},remove:function(b,a,c){var f=this,n=f.events,e=false,d;if(b&&b.hasOwnProperty&&b instanceof Array){d=[];i(b,function(m){m=l.get(m);d.push(f.remove(m,a,c))});return d}b=l.get(b);i(n,function(m,p){if(m.obj==b&&m.name==a&&(!c||(m.func==c||m.cfunc==c))){n.splice(p,1);f._remove(b,a,m.cfunc);e=true;return false}});return e},clear:function(a){var c=this,e=c.events,d,b;if(a){a=l.get(a);for(d=e.length-1;d>=0;d--){b=e[d];if(b.obj===a){c._remove(b.obj,b.name,b.cfunc);b.obj=b.cfunc=null;e.splice(d,1)}}}},cancel:function(a){if(!a){return false}this.stop(a);return this.prevent(a)},stop:function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}return false},prevent:function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}return false},destroy:function(){var a=this;i(a.events,function(b,c){a._remove(b.obj,b.name,b.cfunc);b.obj=b.cfunc=null});a.events=[];a=null},_add:function(b,a,c){if(b.attachEvent){b.attachEvent("on"+a,c)}else{if(b.addEventListener){b.addEventListener(a,c,false)}else{b["on"+a]=c}}},_remove:function(b,a,c){if(b){try{if(b.detachEvent){b.detachEvent("on"+a,c)}else{if(b.removeEventListener){b.removeEventListener(a,c,false)}else{b["on"+a]=null}}}catch(d){}}},_pageInit:function(a){var b=this;if(b.domLoaded){return}b.domLoaded=true;i(b.inits,function(c){c()});b.inits=[]},_wait:function(a){var c=this,b=a.document;if(a.tinyMCE_GZ&&tinyMCE_GZ.loaded){c.domLoaded=1;return}if(b.attachEvent){b.attachEvent("onreadystatechange",function(){if(b.readyState==="complete"){b.detachEvent("onreadystatechange",arguments.callee);c._pageInit(a)}});if(b.documentElement.doScroll&&a==a.top){(function(){if(c.domLoaded){return}try{b.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,0);return}c._pageInit(a)})()}}else{if(b.addEventListener){c._add(a,"DOMContentLoaded",function(){c._pageInit(a)})}}c._add(a,"load",function(){c._pageInit(a)})},_stoppers:{preventDefault:function(){this.returnValue=false},stopPropagation:function(){this.cancelBubble=true}}});h=k.dom.Event=new k.dom.EventUtils();h._wait(window);k.addUnload(function(){h.destroy()})})(tinymce);(function(b){b.dom.Element=function(g,i){var a=this,h,j;a.settings=i=i||{};a.id=g;a.dom=h=i.dom||b.DOM;if(!b.isIE){j=h.get(a.id)}b.each(("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get").split(/,/),function(c){a[c]=function(){var e=[g],d;for(d=0;d<arguments.length;d++){e.push(arguments[d])}e=h[c].apply(h,e);a.update(c);return e}});b.extend(a,{on:function(c,d,e){return b.dom.Event.add(a.id,c,d,e)},getXY:function(){return{x:parseInt(a.getStyle("left")),y:parseInt(a.getStyle("top"))}},getSize:function(){var c=h.get(a.id);return{w:parseInt(a.getStyle("width")||c.clientWidth),h:parseInt(a.getStyle("height")||c.clientHeight)}},moveTo:function(d,c){a.setStyles({left:d,top:c})},moveBy:function(e,c){var d=a.getXY();a.moveTo(d.x+e,d.y+c)},resizeTo:function(d,c){a.setStyles({width:d,height:c})},resizeBy:function(e,c){var d=a.getSize();a.resizeTo(d.w+e,d.h+c)},update:function(c){var d;if(b.isIE6&&i.blocker){c=c||"";if(c.indexOf("get")===0||c.indexOf("has")===0||c.indexOf("is")===0){return}if(c=="remove"){h.remove(a.blocker);return}if(!a.blocker){a.blocker=h.uniqueId();d=h.add(i.container||h.getRoot(),"iframe",{id:a.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'});h.setStyle(d,"opacity",0)}else{d=h.get(a.blocker)}h.setStyles(d,{left:a.getStyle("left",1),top:a.getStyle("top",1),width:a.getStyle("width",1),height:a.getStyle("height",1),display:a.getStyle("display",1),zIndex:parseInt(a.getStyle("zIndex",1)||0)-1})}}})}})(tinymce);(function(j){function h(a){return a.replace(/[\n\r]+/g,"")}var f=j.is,g=j.isIE,i=j.each;j.create("tinymce.dom.Selection",{Selection:function(a,b,c){var d=this;d.dom=a;d.win=b;d.serializer=c;i(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(e){d[e]=new j.util.Dispatcher(d)});if(!d.win.getSelection){d.tridentSel=new j.dom.TridentSelection(d)}if(j.isIE&&a.boxModel){this._fixIESelection()}j.addUnload(d.destroy,d)},getContent:function(o){var p=this,n=p.getRng(),b=p.dom.create("body"),d=p.getSel(),e,c,a;o=o||{};e=c="";o.get=true;o.format=o.format||"html";p.onBeforeGetContent.dispatch(p,o);if(o.format=="text"){return p.isCollapsed()?"":(n.text||(d.toString?d.toString():""))}if(n.cloneContents){a=n.cloneContents();if(a){b.appendChild(a)}}else{if(f(n.item)||f(n.htmlText)){b.innerHTML=n.item?n.item(0).outerHTML:n.htmlText}else{b.innerHTML=n.toString()}}if(/^\s/.test(b.innerHTML)){e=" "}if(/\s+$/.test(b.innerHTML)){c=" "}o.getInner=true;o.content=p.isCollapsed()?"":e+p.serializer.serialize(b,o)+c;p.onGetContent.dispatch(p,o);return o.content},setContent:function(c,d){var n=this,p=n.getRng(),e,b=n.win.document,a,o;d=d||{format:"html"};d.set=true;c=d.content=c;if(!d.no_events){n.onBeforeSetContent.dispatch(n,d)}c=d.content;if(p.insertNode){c+='<span id="__caret">_</span>';if(p.startContainer==b&&p.endContainer==b){b.body.innerHTML=c}else{p.deleteContents();if(b.body.childNodes.length==0){b.body.innerHTML=c}else{if(p.createContextualFragment){p.insertNode(p.createContextualFragment(c))}else{a=b.createDocumentFragment();o=b.createElement("div");a.appendChild(o);o.outerHTML=c;p.insertNode(a)}}}e=n.dom.get("__caret");p=b.createRange();p.setStartBefore(e);p.setEndBefore(e);n.setRng(p);n.dom.remove("__caret");n.setRng(p)}else{if(p.item){b.execCommand("Delete",false,null);p=n.getRng()}p.pasteHTML(c)}if(!d.no_events){n.onSetContent.dispatch(n,d)}},getStart:function(){var d=this.getRng(),c,e,a,b;if(d.duplicate||d.item){if(d.item){return d.item(0)}a=d.duplicate();a.collapse(1);c=a.parentElement();e=b=d.parentElement();while(b=b.parentNode){if(b==c){c=e;break}}return c}else{c=d.startContainer;if(c.nodeType==1&&c.hasChildNodes()){c=c.childNodes[Math.min(c.childNodes.length-1,d.startOffset)]}if(c&&c.nodeType==3){return c.parentNode}return c}},getEnd:function(){var c=this,b=c.getRng(),a,d;if(b.duplicate||b.item){if(b.item){return b.item(0)}b=b.duplicate();b.collapse(0);a=b.parentElement();if(a&&a.nodeName=="BODY"){return a.lastChild||a}return a}else{a=b.endContainer;d=b.endOffset;if(a.nodeType==1&&a.hasChildNodes()){a=a.childNodes[d>0?d-1:d]}if(a&&a.nodeType==3){return a.parentNode}return a}},getBookmark:function(a,G){var E=this,t=E.dom,C,z,A,e,B,d,c,x="\uFEFF",F;function D(k,m){var l=0;i(t.select(k),function(n,o){if(n==m){l=o}});return l}if(a==2){function y(){var k=E.getRng(true),l=t.getRoot(),n={};function m(v,p){var I=v[p?"startContainer":"endContainer"],q=v[p?"startOffset":"endOffset"],o=[],u,r,s=0;if(I.nodeType==3){if(G){for(u=I.previousSibling;u&&u.nodeType==3;u=u.previousSibling){q+=u.nodeValue.length}}o.push(q)}else{r=I.childNodes;if(q>=r.length&&r.length){s=1;q=Math.max(0,r.length-1)}o.push(E.dom.nodeIndex(r[q],G)+s)}for(;I&&I!=l;I=I.parentNode){o.push(E.dom.nodeIndex(I,G))}return o}n.start=m(k,true);if(!E.isCollapsed()){n.end=m(k)}return n}return y()}if(a){return{rng:E.getRng()}}C=E.getRng();A=t.uniqueId();e=tinyMCE.activeEditor.selection.isCollapsed();F="overflow:hidden;line-height:0px";if(C.duplicate||C.item){if(!C.item){z=C.duplicate();try{C.collapse();C.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_start" style="'+F+'">'+x+"</span>");if(!e){z.collapse(false);z.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_end" style="'+F+'">'+x+"</span>")}}catch(b){return null}}else{d=C.item(0);B=d.nodeName;return{name:B,index:D(B,d)}}}else{d=E.getNode();B=d.nodeName;if(B=="IMG"){return{name:B,index:D(B,d)}}z=C.cloneRange();if(!e){z.collapse(false);z.insertNode(t.create("span",{"data-mce-type":"bookmark",id:A+"_end",style:F},x))}C.collapse(true);C.insertNode(t.create("span",{"data-mce-type":"bookmark",id:A+"_start",style:F},x))}E.moveToBookmark({id:A,keep:1});return{id:A}},moveToBookmark:function(e){var a=this,u=a.dom,y,z,B,b,x,C,d,c;if(a.tridentSel){a.tridentSel.destroy()}if(e){if(e.start){B=u.createRng();b=u.getRoot();function A(o){var n=e[o?"start":"end"],l,k,p,m;if(n){for(k=b,l=n.length-1;l>=1;l--){m=k.childNodes;if(m.length){k=m[n[l]];if(!k){return}}}if(k.nodeType===3&&n[0]>k.nodeValue.length-1){return}else{if(k.nodeType===1&&n[0]>k.childNodes.length){return}}if(o){B.setStart(k,n[0])}else{B.setEnd(k,n[0])}}return true}if(A(true)&&A()){a.setRng(B)}}else{if(e.id){function v(l){var n=u.get(e.id+"_"+l),p,o,k,q,m=e.keep;if(n){p=n.parentNode;if(l=="start"){if(!m){o=u.nodeIndex(n)}else{p=n.firstChild;o=1}x=C=p;d=c=o}else{if(!m){o=u.nodeIndex(n)}else{p=n.firstChild;o=1}C=p;c=o}if(!m){q=n.previousSibling;k=n.nextSibling;i(j.grep(n.childNodes),function(r){if(r.nodeType==3){r.nodeValue=r.nodeValue.replace(/\uFEFF/g,"")}});while(n=u.get(e.id+"_"+l)){u.remove(n,1)}if(q&&k&&q.nodeType==k.nodeType&&q.nodeType==3&&!j.isOpera){o=q.nodeValue.length;q.appendData(k.nodeValue);u.remove(k);if(l=="start"){x=C=q;d=c=o}else{C=q;c=o}}}}}function t(k){if(u.isBlock(k)&&!k.innerHTML){k.innerHTML=!g?'<br data-mce-bogus="1" />':" "}return k}v("start");v("end");if(x){B=u.createRng();B.setStart(t(x),d);B.setEnd(t(C),c);a.setRng(B)}}else{if(e.name){a.select(u.select(e.name)[e.index])}else{if(e.rng){a.setRng(e.rng)}}}}}},select:function(b,c){var d=this,a=d.dom,m=a.createRng(),n;if(b){n=a.nodeIndex(b);m.setStart(b.parentNode,n);m.setEnd(b.parentNode,n+1);if(c){function e(k,l){var p=new j.dom.TreeWalker(k,k);do{if(k.nodeType==3&&j.trim(k.nodeValue).length!=0){if(l){m.setStart(k,0)}else{m.setEnd(k,k.nodeValue.length)}return}if(k.nodeName=="BR"){if(l){m.setStartBefore(k)}else{m.setEndBefore(k)}return}}while(k=(l?p.next():p.prev()))}e(b,1);e(b)}d.setRng(m)}return b},isCollapsed:function(){var c=this,a=c.getRng(),b=c.getSel();if(!a||a.item){return false}if(a.compareEndPoints){return a.compareEndPoints("StartToEnd",a)===0}return !b||a.collapsed},collapse:function(d){var b=this,c=b.getRng(),a;if(c.item){a=c.item(0);c=b.win.document.body.createTextRange();c.moveToElementText(a)}c.collapse(!!d);b.setRng(c)},getSel:function(){var a=this,b=this.win;return b.getSelection?b.getSelection():b.document.selection},getRng:function(a){var m=this,e,d,b,c=m.win.document;if(a&&m.tridentSel){return m.tridentSel.getRangeAt(0)}try{if(e=m.getSel()){d=e.rangeCount>0?e.getRangeAt(0):(e.createRange?e.createRange():c.createRange())}}catch(n){}if(j.isIE&&d.setStart&&c.selection.createRange().item){b=c.selection.createRange().item(0);d=c.createRange();d.setStartBefore(b);d.setEndAfter(b)}if(!d){d=c.createRange?c.createRange():c.body.createTextRange()}if(m.selectedRange&&m.explicitRange){if(d.compareBoundaryPoints(d.START_TO_START,m.selectedRange)===0&&d.compareBoundaryPoints(d.END_TO_END,m.selectedRange)===0){d=m.explicitRange}else{m.selectedRange=null;m.explicitRange=null}}return d},setRng:function(a){var b,c=this;if(!c.tridentSel){b=c.getSel();if(b){c.explicitRange=a;b.removeAllRanges();b.addRange(a);c.selectedRange=b.getRangeAt(0)}}else{if(a.cloneRange){c.tridentSel.addRange(a);return}try{a.select()}catch(d){}}},setNode:function(a){var b=this;b.setContent(b.dom.getOuterHTML(a));return a},getNode:function(){var e=this,m=e.getRng(),d=e.getSel(),a,b=m.startContainer,n=m.endContainer;if(!m){return e.dom.getRoot()}if(m.setStart){a=m.commonAncestorContainer;if(!m.collapsed){if(m.startContainer==m.endContainer){if(m.endOffset-m.startOffset<2){if(m.startContainer.hasChildNodes()){a=m.startContainer.childNodes[m.startOffset]}}}if(b.nodeType===3&&n.nodeType===3){function c(l,k){var q=l;while(l&&l.nodeType===3&&l.length===0){l=k?l.nextSibling:l.previousSibling}return l||q}if(b.length===m.startOffset){b=c(b.nextSibling,true)}else{b=b.parentNode}if(m.endOffset===0){n=c(n.previousSibling,false)}else{n=n.parentNode}if(b&&b===n){return b}}}if(a&&a.nodeType==3){return a.parentNode}return a}return m.item?m.item(0):m.parentElement()},getSelectedBlocks:function(o,p){var e=this,d=e.dom,a,n,b,c=[];a=d.getParent(o||e.getStart(),d.isBlock);n=d.getParent(p||e.getEnd(),d.isBlock);if(a){c.push(a)}if(a&&n&&a!=n){b=a;while((b=b.nextSibling)&&b!=n){if(d.isBlock(b)){c.push(b)}}}if(n&&a!=n){c.push(n)}return c},destroy:function(a){var b=this;b.win=null;if(b.tridentSel){b.tridentSel.destroy()}if(!a){j.removeUnload(b.destroy)}},_fixIESelection:function(){var q=this.dom,b=q.doc,p=b.body,e,a,r;b.documentElement.unselectable=true;function o(n,k){var m=p.createTextRange();try{m.moveToPoint(n,k)}catch(l){m=null}return m}function c(k){var l;if(k.button){l=o(k.x,k.y);if(l){if(l.compareEndPoints("StartToStart",a)>0){l.setEndPoint("StartToStart",a)}else{l.setEndPoint("EndToEnd",a)}l.select()}}else{d()}}function d(){var k=b.selection.createRange();if(a&&!k.item&&k.compareEndPoints("StartToEnd",k)===0){a.select()}q.unbind(b,"mouseup",d);q.unbind(b,"mousemove",c);a=e=0}q.bind(b,["mousedown","contextmenu"],function(k){if(k.target.nodeName==="HTML"){if(e){d()}r=b.documentElement;if(r.scrollHeight>r.clientHeight){return}e=1;a=o(k.x,k.y);if(a){q.bind(b,"mouseup",d);q.bind(b,"mousemove",c);q.win.focus();a.select()}}})}})})(tinymce);(function(b){b.dom.Serializer=function(n,j,m){var k,a,o=b.isIE,l=b.each,p;if(!n.apply_source_formatting){n.indent=false}n.remove_trailing_brs=true;j=j||b.DOM;m=m||new b.html.Schema(n);n.entity_encoding=n.entity_encoding||"named";k=new b.util.Dispatcher(self);a=new b.util.Dispatcher(self);p=new b.html.DomParser(n,m);p.addAttributeFilter("src,href,style",function(s,t){var f=s.length,i,d,g="data-mce-"+t,e=n.url_converter,c=n.url_converter_scope,h;while(f--){i=s[f];d=i.attributes.map[g];if(d!==h){i.attr(t,d.length>0?d:null);i.attr(g,null)}else{d=i.attributes.map[t];if(t==="style"){d=j.serializeStyle(j.parseStyle(d),i.name)}else{if(e){d=e.call(c,d,t,i.name)}}i.attr(t,d.length>0?d:null)}}});p.addAttributeFilter("class",function(f,e){var d=f.length,c,g;while(d--){c=f[d];g=c.attr("class").replace(/\s*mceItem\w+\s*/g,"");c.attr("class",g.length>0?g:null)}});p.addAttributeFilter("data-mce-type",function(f,d,e){var c=f.length,g;while(c--){g=f[c];if(g.attributes.map["data-mce-type"]==="bookmark"&&!e.cleanup){g.remove()}}});p.addNodeFilter("script,style",function(e,d){var c=e.length,h,g;function f(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*(\/\/\s*<!--|\/\/\s*<!\[CDATA\[|<!--|<!\[CDATA\[)[\r\n]*/g,"").replace(/\s*(\/\/\s*\]\]>|\/\/\s*-->|\]\]>|-->|\]\]-->)\s*$/g,"")}while(c--){h=e[c];g=h.firstChild?h.firstChild.value:"";if(d==="script"){h.attr("type",(h.attr("type")||"text/javascript").replace(/^mce\-/,""));if(g.length>0){h.firstChild.value="// <![CDATA[\n"+f(g)+"\n// ]]>"}}else{if(g.length>0){h.firstChild.value="<!--\n"+f(g)+"\n-->"}}}});p.addNodeFilter("#comment",function(f,e){var d=f.length,c;while(d--){c=f[d];if(c.value.indexOf("[CDATA[")===0){c.name="#cdata";c.type=4;c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")}else{if(c.value.indexOf("mce:protected ")===0){c.name="#text";c.type=3;c.raw=true;c.value=unescape(c.value).substr(14)}}}});p.addNodeFilter("xml:namespace,input",function(f,e){var d=f.length,c;while(d--){c=f[d];if(c.type===7){c.remove()}else{if(c.type===1){if(e==="input"&&!("type" in c.attributes.map)){c.attr("type","text")}}}}});if(n.fix_list_elements){p.addNodeFilter("ul,ol",function(e,d){var c=e.length,g,f;while(c--){g=e[c];f=g.parent;if(f.name==="ul"||f.name==="ol"){if(g.prev&&g.prev.name==="li"){g.prev.append(g)}}}})}p.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(e,d){var c=e.length;while(c--){e[c].attr(d,null)}});return{schema:m,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,onPreProcess:k,onPostProcess:a,serialize:function(h,c){var d,g,e,f,i;if(o&&j.select("script,style,select").length>0){i=h.innerHTML;h=h.cloneNode(false);j.setHTML(h,i)}else{h=h.cloneNode(true)}d=h.ownerDocument.implementation;if(d.createHTMLDocument){g=d.createHTMLDocument("");l(h.nodeName=="BODY"?h.childNodes:[h],function(r){g.body.appendChild(g.importNode(r,true))});if(h.nodeName!="BODY"){h=g.body.firstChild}else{h=g.body}e=j.doc;j.doc=g}c=c||{};c.format=c.format||"html";if(!c.no_events){c.node=h;k.dispatch(self,c)}f=new b.html.Serializer(n,m);c.content=f.serialize(p.parse(c.getInner?h.innerHTML:b.trim(j.getOuterHTML(h),c),c));if(!c.no_events){a.dispatch(self,c)}if(e){j.doc=e}c.node=null;return c.content},addRules:function(c){m.addValidElements(c)},setRules:function(c){m.setValidElements(c)}}}})(tinymce);(function(b){b.dom.ScriptLoader=function(p){var u=0,m=1,o=2,a={},n=[],r={},t=[],q=0,s;function v(h,j){var i=this,d=b.DOM,k,f,c,g;function e(){d.remove(g);if(k){k.onreadystatechange=k.onload=k=null}j()}g=d.uniqueId();if(b.isIE6){f=new b.util.URI(h);c=location;if(f.host==c.hostname&&f.port==c.port&&(f.protocol+":")==c.protocol){b.util.XHR.send({url:b._addVer(f.getURI()),success:function(l){var y=d.create("script",{type:"text/javascript"});y.text=l;document.getElementsByTagName("head")[0].appendChild(y);d.remove(y);e()}});return}}k=d.create("script",{id:g,type:"text/javascript",src:b._addVer(h)});if(!b.isIE){k.onload=e}if(!b.isOpera){k.onreadystatechange=function(){var l=k.readyState;if(l=="complete"||l=="loaded"){e()}}}(document.getElementsByTagName("head")[0]||document.body).appendChild(k)}this.isDone=function(c){return a[c]==o};this.markDone=function(c){a[c]=o};this.add=this.load=function(c,d,g){var f,e=a[c];if(e==s){n.push(c);a[c]=u}if(d){if(!r[c]){r[c]=[]}r[c].push({func:d,scope:g||this})}};this.loadQueue=function(d,c){this.loadScripts(n,d,c)};this.loadScripts=function(c,d,e){var f;function g(h){b.each(r[h],function(i){i.func.call(i.scope)});r[h]=s}t.push({func:d,scope:e||this});f=function(){var h=b.grep(c);c.length=0;b.each(h,function(i){if(a[i]==o){g(i);return}if(a[i]!=m){a[i]=m;q++;v(i,function(){a[i]=o;q--;g(i);f()})}});if(!q){b.each(t,function(i){i.func.call(i.scope)});t.length=0}};f()}};b.ScriptLoader=new b.dom.ScriptLoader()})(tinymce);tinymce.dom.TreeWalker=function(f,h){var e=f;function g(b,k,l,a){var c,d;if(b){if(!a&&b[k]){return b[k]}if(b!=h){c=b[l];if(c){return c}for(d=b.parentNode;d&&d!=h;d=d.parentNode){c=d[l];if(c){return c}}}}}this.current=function(){return e};this.next=function(a){return(e=g(e,"firstChild","nextSibling",a))};this.prev=function(a){return(e=g(e,"lastChild","previousSibling",a))}};(function(b){b.dom.RangeUtils=function(d){var a="\uFEFF";this.walk=function(H,c){var D=H.startContainer,A=H.startOffset,I=H.endContainer,z=H.endOffset,C,F,x,E,t,u,G;G=d.select("td.mceSelected,th.mceSelected");if(G.length>0){b.each(G,function(e){c([e])});return}function v(f,g,h){var e=[];for(;f&&f!=h;f=f[g]){e.push(f)}return e}function y(e,f){do{if(e.parentNode==f){return e}e=e.parentNode}while(e)}function B(f,g,e){var h=e?"nextSibling":"previousSibling";for(E=f,t=E.parentNode;E&&E!=g;E=t){t=E.parentNode;u=v(E==f?E:E[h],h);if(u.length){if(!e){u.reverse()}c(u)}}}if(D.nodeType==1&&D.hasChildNodes()){D=D.childNodes[A]}if(I.nodeType==1&&I.hasChildNodes()){I=I.childNodes[Math.min(z-1,I.childNodes.length-1)]}C=d.findCommonAncestor(D,I);if(D==I){return c([D])}for(E=D;E;E=E.parentNode){if(E==I){return B(D,C,true)}if(E==C){break}}for(E=I;E;E=E.parentNode){if(E==D){return B(I,C)}if(E==C){break}}F=y(D,C)||D;x=y(I,C)||I;B(D,F,true);u=v(F==D?F:F.nextSibling,"nextSibling",x==I?x.nextSibling:x);if(u.length){c(u)}B(I,x)}};b.dom.RangeUtils.compareRanges=function(d,a){if(d&&a){if(d.item||d.duplicate){if(d.item&&a.item&&d.item(0)===a.item(0)){return true}if(d.isEqual&&a.isEqual&&a.isEqual(d)){return true}}else{return d.startContainer==a.startContainer&&d.startOffset==a.startOffset}}return false}})(tinymce);(function(d){var e=d.dom.Event,f=d.each;d.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(z,y){var a=this,q=z.root,r=z.items,c=z.enableUpDown,u=z.enableLeftRight||!z.enableUpDown,s=z.excludeFromTabOrder,t,v,b,A,x;y=y||d.DOM;t=function(g){x=g.target.id};v=function(g){y.setAttrib(g.target.id,"tabindex","-1")};A=function(h){var g=y.get(x);y.setAttrib(g,"tabindex","0");g.focus()};a.focus=function(){y.get(x).focus()};a.destroy=function(){f(r,function(g){y.unbind(y.get(g.id),"focus",t);y.unbind(y.get(g.id),"blur",v)});y.unbind(y.get(q),"focus",A);y.unbind(y.get(q),"keydown",b);r=y=q=a.focus=t=v=b=A=null;a.destroy=function(){}};a.moveFocus=function(g,j){var k=-1,h=a.controls,i;if(!x){return}f(r,function(l,m){if(l.id===x){k=m;return false}});k+=g;if(k<0){k=r.length-1}else{if(k>=r.length){k=0}}i=r[k];y.setAttrib(x,"tabindex","-1");y.setAttrib(i.id,"tabindex","0");y.get(i.id).focus();if(z.actOnFocus){z.onAction(i.id)}if(j){e.cancel(j)}};b=function(j){var m=37,n=39,k=38,i=40,h=27,o=14,g=13,l=32;switch(j.keyCode){case m:if(u){a.moveFocus(-1)}break;case n:if(u){a.moveFocus(1)}break;case k:if(c){a.moveFocus(-1)}break;case i:if(c){a.moveFocus(1)}break;case h:if(z.onCancel){z.onCancel();e.cancel(j)}break;case o:case g:case l:if(z.onAction){z.onAction(x);e.cancel(j)}break}};f(r,function(g,i){var h;if(!g.id){g.id=y.uniqueId("_mce_item_")}if(s){y.bind(g.id,"blur",v);h="-1"}else{h=(i===0?"0":"-1")}y.setAttrib(g.id,"tabindex",h);y.bind(y.get(g.id),"focus",t)});if(r[0]){x=r[0].id}y.setAttrib(q,"tabindex","-1");y.bind(y.get(q),"focus",A);y.bind(y.get(q),"keydown",b)}})})(tinymce);(function(f){var d=f.DOM,e=f.is;f.create("tinymce.ui.Control",{Control:function(a,b,c){this.id=a;this.settings=b=b||{};this.rendered=false;this.onRender=new f.util.Dispatcher(this);this.classPrefix="";this.scope=b.scope||this;this.disabled=0;this.active=0;this.editor=c},setAriaProperty:function(a,b){var c=d.get(this.id+"_aria")||d.get(this.id);if(c){d.setAttrib(c,"aria-"+a,!!b)}},focus:function(){d.get(this.id).focus()},setDisabled:function(a){if(a!=this.disabled){this.setAriaProperty("disabled",a);this.setState("Disabled",a);this.setState("Enabled",!a);this.disabled=a}},isDisabled:function(){return this.disabled},setActive:function(a){if(a!=this.active){this.setState("Active",a);this.active=a;this.setAriaProperty("pressed",a)}},isActive:function(){return this.active},setState:function(a,c){var b=d.get(this.id);a=this.classPrefix+a;if(c){d.addClass(b,a)}else{d.removeClass(b,a)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(a){d.setHTML(a,this.renderHTML())},postRender:function(){var a=this,b;if(e(a.disabled)){b=a.disabled;a.disabled=-1;a.setDisabled(b)}if(e(a.active)){b=a.active;a.active=-1;a.setActive(b)}},remove:function(){d.remove(this.id);this.destroy()},destroy:function(){f.dom.Event.clear(this.id)}})})(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(f,d,e){this.parent(f,d,e);this.controls=[];this.lookup={}},add:function(b){this.lookup[b.id]=b;this.controls.push(b);return b},get:function(b){return this.lookup[b]}});tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(c,d){this.parent(c,d);this.classPrefix="mceSeparator";this.setDisabled(true)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}});(function(i){var j=i.is,f=i.DOM,h=i.each,g=i.walk;i.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(a,b){this.parent(a,b);this.classPrefix="mceMenuItem"},setSelected:function(a){this.setState("Selected",a);this.setAriaProperty("checked",!!a);this.selected=a},isSelected:function(){return this.selected},postRender:function(){var a=this;a.parent();if(j(a.selected)){a.setSelected(a.selected)}}})})(tinymce);(function(i){var j=i.is,f=i.DOM,h=i.each,g=i.walk;i.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(a,b){var c=this;c.parent(a,b);c.items={};c.collapsed=false;c.menuCount=0;c.onAddItem=new i.util.Dispatcher(this)},expand:function(a){var b=this;if(a){g(b,function(c){if(c.expand){c.expand()}},"items",b)}b.collapsed=false},collapse:function(a){var b=this;if(a){g(b,function(c){if(c.collapse){c.collapse()}},"items",b)}b.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(a){if(!a.settings){a=new i.ui.MenuItem(a.id||f.uniqueId(),a)}this.onAddItem.dispatch(this,a);return this.items[a.id]=a},addSeparator:function(){return this.add({separator:true})},addMenu:function(a){if(!a.collapse){a=this.createMenu(a)}this.menuCount++;return this.add(a)},hasMenus:function(){return this.menuCount!==0},remove:function(a){delete this.items[a.id]},removeAll:function(){var a=this;g(a,function(b){if(b.removeAll){b.removeAll()}else{b.remove()}b.destroy()},"items",a);a.items={}},createMenu:function(a){var b=new i.ui.Menu(a.id||f.uniqueId(),a);b.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return b}})})(tinymce);(function(j){var k=j.is,l=j.DOM,i=j.each,h=j.dom.Event,g=j.dom.Element;j.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(a,b){b=b||{};b.container=b.container||l.doc.body;b.offset_x=b.offset_x||0;b.offset_y=b.offset_y||0;b.vp_offset_x=b.vp_offset_x||0;b.vp_offset_y=b.vp_offset_y||0;if(k(b.icons)&&!b.icons){b["class"]+=" mceNoIcons"}this.parent(a,b);this.onShowMenu=new j.util.Dispatcher(this);this.onHideMenu=new j.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(a){var c=this,b=c.settings,d;a.container=a.container||b.container;a.parent=c;a.constrain=a.constrain||b.constrain;a["class"]=a["class"]||b["class"];a.vp_offset_x=a.vp_offset_x||b.vp_offset_x;a.vp_offset_y=a.vp_offset_y||b.vp_offset_y;a.keyboard_focus=b.keyboard_focus;d=new j.ui.DropMenu(a.id||l.uniqueId(),a);d.onAddItem.add(c.onAddItem.dispatch,c.onAddItem);return d},focus:function(){var a=this;if(a.keyboardNav){a.keyboardNav.focus()}},update:function(){var d=this,c=d.settings,f=l.get("menu_"+d.id+"_tbl"),a=l.get("menu_"+d.id+"_co"),e,b;e=c.max_width?Math.min(f.clientWidth,c.max_width):f.clientWidth;b=c.max_height?Math.min(f.clientHeight,c.max_height):f.clientHeight;if(!l.boxModel){d.element.setStyles({width:e+2,height:b+2})}else{d.element.setStyles({width:e,height:b})}if(c.max_width){l.setStyle(a,"width",e)}if(c.max_height){l.setStyle(a,"height",b);if(f.clientHeight<c.max_height){l.setStyle(a,"overflow","hidden")}}},showMenu:function(c,f,a){var D=this,e=D.settings,d,C=l.getViewPort(),F,t,E,b,B=2,x,y,s=D.classPrefix;D.collapse(1);if(D.isMenuVisible){return}if(!D.rendered){d=l.add(D.settings.container,D.renderNode());i(D.items,function(m){m.postRender()});D.element=new g("menu_"+D.id,{blocker:1,container:e.container})}else{d=l.get("menu_"+D.id)}if(!j.isOpera){l.setStyles(d,{left:-65535,top:-65535})}l.show(d);D.update();c+=e.offset_x||0;f+=e.offset_y||0;C.w-=4;C.h-=4;if(e.constrain){F=d.clientWidth-B;t=d.clientHeight-B;E=C.x+C.w;b=C.y+C.h;if((c+e.vp_offset_x+F)>E){c=a?a-F:Math.max(0,(E-e.vp_offset_x)-F)}if((f+e.vp_offset_y+t)>b){f=Math.max(0,(b-e.vp_offset_y)-t)}}l.setStyles(d,{left:c,top:f});D.element.update();D.isMenuVisible=1;D.mouseClickFunc=h.add(d,"click",function(n){var m;n=n.target;if(n&&(n=l.getParent(n,"tr"))&&!l.hasClass(n,s+"ItemSub")){m=D.items[n.id];if(m.isDisabled()){return}x=D;while(x){if(x.hideMenu){x.hideMenu()}x=x.settings.parent}if(m.settings.onclick){m.settings.onclick(n)}return h.cancel(n)}});if(D.hasMenus()){D.mouseOverFunc=h.add(d,"mouseover",function(m){var p,n,o;m=m.target;if(m&&(m=l.getParent(m,"tr"))){p=D.items[m.id];if(D.lastMenu){D.lastMenu.collapse(1)}if(p.isDisabled()){return}if(m&&l.hasClass(m,s+"ItemSub")){n=l.getRect(m);p.showMenu((n.x+n.w-B),n.y-B,n.x);D.lastMenu=p;l.addClass(l.get(p.id).firstChild,s+"ItemActive")}}})}h.add(d,"keydown",D._keyHandler,D);D.onShowMenu.dispatch(D);if(e.keyboard_focus){D._setupKeyboardNav()}},hideMenu:function(a){var d=this,b=l.get("menu_"+d.id),c;if(!d.isMenuVisible){return}if(d.keyboardNav){d.keyboardNav.destroy()}h.remove(b,"mouseover",d.mouseOverFunc);h.remove(b,"click",d.mouseClickFunc);h.remove(b,"keydown",d._keyHandler);l.hide(b);d.isMenuVisible=0;if(!a){d.collapse(1)}if(d.element){d.element.hide()}if(c=l.get(d.id)){l.removeClass(c.firstChild,d.classPrefix+"ItemActive")}d.onHideMenu.dispatch(d)},add:function(a){var c=this,b;a=c.parent(a);if(c.isRendered&&(b=l.get("menu_"+c.id))){c._add(l.select("tbody",b)[0],a)}return a},collapse:function(a){this.parent(a);this.hideMenu(1)},remove:function(a){l.remove(a.id);this.destroy();return this.parent(a)},destroy:function(){var b=this,a=l.get("menu_"+b.id);if(b.keyboardNav){b.keyboardNav.destroy()}h.remove(a,"mouseover",b.mouseOverFunc);h.remove(l.select("a",a),"focus",b.mouseOverFunc);h.remove(a,"click",b.mouseClickFunc);h.remove(a,"keydown",b._keyHandler);if(b.element){b.element.remove()}l.remove(a)},renderNode:function(){var d=this,c=d.settings,a,e,b,f;f=l.create("div",{role:"listbox",id:"menu_"+d.id,"class":c["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"});if(d.settings.parent){l.setAttrib(f,"aria-parent","menu_"+d.settings.parent.id)}b=l.add(f,"div",{role:"presentation",id:"menu_"+d.id+"_co","class":d.classPrefix+(c["class"]?" "+c["class"]:"")});d.element=new g("menu_"+d.id,{blocker:1,container:c.container});if(c.menu_line){l.add(b,"span",{"class":d.classPrefix+"Line"})}a=l.add(b,"table",{role:"presentation",id:"menu_"+d.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});e=l.add(a,"tbody");i(d.items,function(n){d._add(e,n)});d.rendered=true;return f},_setupKeyboardNav:function(){var a,b,c=this;a=l.select("#menu_"+c.id)[0];b=l.select("a[role=option]","menu_"+c.id);b.splice(0,0,a);c.keyboardNav=new j.ui.KeyboardNavigation({root:"menu_"+c.id,items:b,onCancel:function(){c.hideMenu()},enableUpDown:true});a.focus()},_keyHandler:function(c){var b=this,a;switch(c.keyCode){case 37:if(b.settings.parent){b.hideMenu();b.settings.parent.focus();h.cancel(c)}break;case 39:if(b.mouseOverFunc){b.mouseOverFunc(c)}break}},_add:function(f,o){var n,a=o.settings,b,d,e,c=this.classPrefix,r;if(a.separator){d=l.add(f,"tr",{id:o.id,"class":c+"ItemSeparator"});l.add(d,"td",{"class":c+"ItemSeparator"});if(n=d.previousSibling){l.addClass(n,"mceLast")}return}n=d=l.add(f,"tr",{id:o.id,"class":c+"Item "+c+"ItemEnabled"});n=e=l.add(n,a.titleItem?"th":"td");n=b=l.add(n,"a",{id:o.id+"_aria",role:a.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"});if(a.parent){l.setAttrib(b,"aria-haspopup","true");l.setAttrib(b,"aria-owns","menu_"+o.id)}l.addClass(e,a["class"]);r=l.add(n,"span",{"class":"mceIcon"+(a.icon?" mce_"+a.icon:"")});if(a.icon_src){l.add(r,"img",{src:a.icon_src})}n=l.add(n,a.element||"span",{"class":"mceText",title:o.settings.title},o.settings.title);if(o.settings.style){l.setAttrib(n,"style",o.settings.style)}if(f.childNodes.length==1){l.addClass(d,"mceFirst")}if((n=d.previousSibling)&&l.hasClass(n,c+"ItemSeparator")){l.addClass(d,"mceFirst")}if(o.collapse){l.addClass(d,c+"ItemSub")}if(n=d.previousSibling){l.removeClass(n,"mceLast")}l.addClass(d,"mceLast")}})})(tinymce);(function(c){var d=c.DOM;c.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(a,b,f){this.parent(a,b,f);this.classPrefix="mceButton"},renderHTML:function(){var a=this.classPrefix,b=this.settings,g,h;h=d.encode(b.label||"");g='<a role="button" id="'+this.id+'" href="javascript:;" class="'+a+" "+a+"Enabled "+b["class"]+(h?" "+a+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+d.encode(b.title)+'">';if(b.image){g+='<img class="mceIcon" src="'+b.image+'" alt="'+d.encode(b.title)+'" />'+h}else{g+='<span class="mceIcon '+b["class"]+'"></span>'+(h?'<span class="'+a+'Label">'+h+"</span>":"")}g+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+b.title+"</span>";g+="</a>";return g},postRender:function(){var b=this,a=b.settings;c.dom.Event.add(b.id,"click",function(e){if(!b.isDisabled()){return a.onclick.call(a.scope,e)}})}})})(tinymce);(function(i){var j=i.DOM,f=i.dom.Event,h=i.each,g=i.util.Dispatcher;i.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(a,b,d){var c=this;c.parent(a,b,d);c.items=[];c.onChange=new g(c);c.onPostRender=new g(c);c.onAdd=new g(c);c.onRenderMenu=new i.util.Dispatcher(this);c.classPrefix="mceListBox"},select:function(c){var d=this,a,b;if(c==undefined){return d.selectByIndex(-1)}if(c&&c.call){b=c}else{b=function(e){return e==c}}if(c!=d.selectedValue){h(d.items,function(e,l){if(b(e.value)){a=1;d.selectByIndex(l);return false}});if(!a){d.selectByIndex(-1)}}},selectByIndex:function(d){var c=this,b,a;if(d!=c.selectedIndex){b=j.get(c.id+"_text");a=c.items[d];if(a){c.selectedValue=a.value;c.selectedIndex=d;j.setHTML(b,j.encode(a.title));j.removeClass(b,"mceTitle");j.setAttrib(c.id,"aria-valuenow",a.title)}else{j.setHTML(b,j.encode(c.settings.title));j.addClass(b,"mceTitle");c.selectedValue=c.selectedIndex=null;j.setAttrib(c.id,"aria-valuenow",c.settings.title)}b=0}},add:function(a,d,b){var c=this;b=b||{};b=i.extend(b,{title:a,value:d});c.items.push(b);c.onAdd.dispatch(c,b)},getLength:function(){return this.items.length},renderHTML:function(){var b="",d=this,c=d.settings,a=d.classPrefix;b='<span role="button" aria-haspopup="true" aria-labelledby="'+d.id+'_text" aria-describedby="'+d.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+d.id+'" cellpadding="0" cellspacing="0" class="'+a+" "+a+"Enabled"+(c["class"]?(" "+c["class"]):"")+'"><tbody><tr>';b+="<td>"+j.createHTML("span",{id:d.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},d.settings.title);b+=j.createHTML("a",{id:d.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},j.encode(d.settings.title))+"</td>";b+="<td>"+j.createHTML("a",{id:d.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span></span>')+"</td>";b+="</tr></tbody></table></span>";return b},showMenu:function(){var d=this,a,b,c=j.get(this.id),e;if(d.isDisabled()||d.items.length==0){return}if(d.menu&&d.menu.isMenuVisible){return d.hideMenu()}if(!d.isMenuRendered){d.renderMenu();d.isMenuRendered=true}a=j.getPos(this.settings.menu_container);b=j.getPos(c);e=d.menu;e.settings.offset_x=b.x;e.settings.offset_y=b.y;e.settings.keyboard_focus=!i.isOpera;if(d.oldID){e.items[d.oldID].setSelected(0)}h(d.items,function(l){if(l.value===d.selectedValue){e.items[l.id].setSelected(1);d.oldID=l.id}});e.showMenu(0,c.clientHeight);f.add(j.doc,"mousedown",d.hideMenu,d);j.addClass(d.id,d.classPrefix+"Selected")},hideMenu:function(a){var b=this;if(b.menu&&b.menu.isMenuVisible){j.removeClass(b.id,b.classPrefix+"Selected");if(a&&a.type=="mousedown"&&(a.target.id==b.id+"_text"||a.target.id==b.id+"_open")){return}if(!a||!j.getParent(a.target,".mceMenu")){j.removeClass(b.id,b.classPrefix+"Selected");f.remove(j.doc,"mousedown",b.hideMenu,b);b.menu.hideMenu()}}},renderMenu:function(){var a=this,b;b=a.settings.control_manager.createDropMenu(a.id+"_menu",{menu_line:1,"class":a.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150});b.onHideMenu.add(function(){a.hideMenu();a.focus()});b.add({title:a.settings.title,"class":"mceMenuItemTitle",onclick:function(){if(a.settings.onselect("")!==false){a.select("")}}});h(a.items,function(c){if(c.value===undefined){b.add({title:c.title,"class":"mceMenuItemTitle",onclick:function(){if(a.settings.onselect("")!==false){a.select("")}}})}else{c.id=j.uniqueId();c.onclick=function(){if(a.settings.onselect(c.value)!==false){a.select(c.value)}};b.add(c)}});a.onRenderMenu.dispatch(a,b);a.menu=b},postRender:function(){var b=this,a=b.classPrefix;f.add(b.id,"click",b.showMenu,b);f.add(b.id,"keydown",function(c){if(c.keyCode==32){b.showMenu(c);f.cancel(c)}});f.add(b.id,"focus",function(){if(!b._focused){b.keyDownHandler=f.add(b.id,"keydown",function(c){if(c.keyCode==40){b.showMenu();f.cancel(c)}});b.keyPressHandler=f.add(b.id,"keypress",function(c){var d;if(c.keyCode==13){d=b.selectedValue;b.selectedValue=null;f.cancel(c);b.settings.onselect(d)}})}b._focused=1});f.add(b.id,"blur",function(){f.remove(b.id,"keydown",b.keyDownHandler);f.remove(b.id,"keypress",b.keyPressHandler);b._focused=0});if(i.isIE6||!j.boxModel){f.add(b.id,"mouseover",function(){if(!j.hasClass(b.id,a+"Disabled")){j.addClass(b.id,a+"Hover")}});f.add(b.id,"mouseout",function(){if(!j.hasClass(b.id,a+"Disabled")){j.removeClass(b.id,a+"Hover")}})}b.onPostRender.dispatch(b,j.get(b.id))},destroy:function(){this.parent();f.clear(this.id+"_text");f.clear(this.id+"_open")}})})(tinymce);(function(i){var j=i.DOM,f=i.dom.Event,h=i.each,g=i.util.Dispatcher;i.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(a,b){this.parent(a,b);this.classPrefix="mceNativeListBox"},setDisabled:function(a){j.get(this.id).disabled=a;this.setAriaProperty("disabled",a)},isDisabled:function(){return j.get(this.id).disabled},select:function(c){var d=this,a,b;if(c==undefined){return d.selectByIndex(-1)}if(c&&c.call){b=c}else{b=function(e){return e==c}}if(c!=d.selectedValue){h(d.items,function(e,l){if(b(e.value)){a=1;d.selectByIndex(l);return false}});if(!a){d.selectByIndex(-1)}}},selectByIndex:function(a){j.get(this.id).selectedIndex=a+1;this.selectedValue=this.items[a]?this.items[a].value:null},add:function(a,d,e){var b,c=this;e=e||{};e.value=d;if(c.isRendered()){j.add(j.get(this.id),"option",e,a)}b={title:a,value:d,attribs:e};c.items.push(b);c.onAdd.dispatch(c,b)},getLength:function(){return this.items.length},renderHTML:function(){var a,b=this;a=j.createHTML("option",{value:""},"-- "+b.settings.title+" --");h(b.items,function(c){a+=j.createHTML("option",{value:c.value},c.title)});a=j.createHTML("select",{id:b.id,"class":"mceNativeListBox","aria-labelledby":b.id+"_aria"},a);a+=j.createHTML("span",{id:b.id+"_aria",style:"display: none"},b.settings.title);return a},postRender:function(){var c=this,b,a=true;c.rendered=true;function d(e){var l=c.items[e.target.selectedIndex-1];if(l&&(l=l.value)){c.onChange.dispatch(c,l);if(c.settings.onselect){c.settings.onselect(l)}}}f.add(c.id,"change",d);f.add(c.id,"keydown",function(e){var l;f.remove(c.id,"change",b);a=false;l=f.add(c.id,"blur",function(){if(a){return}a=true;f.add(c.id,"change",d);f.remove(c.id,"blur",l)});if(e.keyCode==13||e.keyCode==32){d(e);return f.cancel(e)}});c.onPostRender.dispatch(c,j.get(c.id))}})})(tinymce);(function(h){var e=h.DOM,f=h.dom.Event,g=h.each;h.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(a,b,c){this.parent(a,b,c);this.onRenderMenu=new h.util.Dispatcher(this);b.menu_container=b.menu_container||e.doc.body},showMenu:function(){var d=this,a,b,c=e.get(d.id),k;if(d.isDisabled()){return}if(!d.isMenuRendered){d.renderMenu();d.isMenuRendered=true}if(d.isMenuVisible){return d.hideMenu()}a=e.getPos(d.settings.menu_container);b=e.getPos(c);k=d.menu;k.settings.offset_x=b.x;k.settings.offset_y=b.y;k.settings.vp_offset_x=b.x;k.settings.vp_offset_y=b.y;k.settings.keyboard_focus=d._focused;k.showMenu(0,c.clientHeight);f.add(e.doc,"mousedown",d.hideMenu,d);d.setState("Selected",1);d.isMenuVisible=1},renderMenu:function(){var a=this,b;b=a.settings.control_manager.createDropMenu(a.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:a.settings.icons});b.onHideMenu.add(function(){a.hideMenu();a.focus()});a.onRenderMenu.dispatch(a,b);a.menu=b},hideMenu:function(a){var b=this;if(a&&a.type=="mousedown"&&e.getParent(a.target,function(c){return c.id===b.id||c.id===b.id+"_open"})){return}if(!a||!e.getParent(a.target,".mceMenu")){b.setState("Selected",0);f.remove(e.doc,"mousedown",b.hideMenu,b);if(b.menu){b.menu.hideMenu()}}b.isMenuVisible=0},postRender:function(){var b=this,a=b.settings;f.add(b.id,"click",function(){if(!b.isDisabled()){if(a.onclick){a.onclick(b.value)}b.showMenu()}})}})})(tinymce);(function(h){var e=h.DOM,f=h.dom.Event,g=h.each;h.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(a,b,c){this.parent(a,b,c);this.classPrefix="mceSplitButton"},renderHTML:function(){var a,c=this,b=c.settings,d;a="<tbody><tr>";if(b.image){d=e.createHTML("img ",{src:b.image,role:"presentation","class":"mceAction "+b["class"]})}else{d=e.createHTML("span",{"class":"mceAction "+b["class"]},"")}d+=e.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:c.id+"_voice",style:"display:none;"},b.title);a+="<td >"+e.createHTML("a",{role:"button",id:c.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+b["class"],onclick:"return false;",onmousedown:"return false;",title:b.title},d)+"</td>";d=e.createHTML("span",{"class":"mceOpen "+b["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span>');a+="<td >"+e.createHTML("a",{role:"button",id:c.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+b["class"],onclick:"return false;",onmousedown:"return false;",title:b.title},d)+"</td>";a+="</tr></tbody>";a=e.createHTML("table",{id:c.id,role:"presentation",tabindex:"0","class":"mceSplitButton mceSplitButtonEnabled "+b["class"],cellpadding:"0",cellspacing:"0",title:b.title},a);return e.createHTML("span",{role:"button","aria-labelledby":c.id+"_voice","aria-haspopup":"true"},a)},postRender:function(){var c=this,a=c.settings,b;if(a.onclick){b=function(d){if(!c.isDisabled()){a.onclick(c.value);f.cancel(d)}};f.add(c.id+"_action","click",b);f.add(c.id,["click","keydown"],function(r){var o=32,d=14,q=13,p=38,n=40;if((r.keyCode===32||r.keyCode===13||r.keyCode===14)&&!r.altKey&&!r.ctrlKey&&!r.metaKey){b();f.cancel(r)}else{if(r.type==="click"||r.keyCode===n){c.showMenu();f.cancel(r)}}})}f.add(c.id+"_open","click",function(d){c.showMenu();f.cancel(d)});f.add([c.id,c.id+"_open"],"focus",function(){c._focused=1});f.add([c.id,c.id+"_open"],"blur",function(){c._focused=0});if(h.isIE6||!e.boxModel){f.add(c.id,"mouseover",function(){if(!e.hasClass(c.id,"mceSplitButtonDisabled")){e.addClass(c.id,"mceSplitButtonHover")}});f.add(c.id,"mouseout",function(){if(!e.hasClass(c.id,"mceSplitButtonDisabled")){e.removeClass(c.id,"mceSplitButtonHover")}})}},destroy:function(){this.parent();f.clear(this.id+"_action");f.clear(this.id+"_open");f.clear(this.id)}})})(tinymce);(function(i){var j=i.DOM,g=i.dom.Event,f=i.is,h=i.each;i.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(a,b,d){var c=this;c.parent(a,b,d);c.settings=b=i.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},c.settings);c.onShowMenu=new i.util.Dispatcher(c);c.onHideMenu=new i.util.Dispatcher(c);c.value=b.default_color},showMenu:function(){var e=this,d,a,b,c;if(e.isDisabled()){return}if(!e.isMenuRendered){e.renderMenu();e.isMenuRendered=true}if(e.isMenuVisible){return e.hideMenu()}b=j.get(e.id);j.show(e.id+"_menu");j.addClass(b,"mceSplitButtonSelected");c=j.getPos(b);j.setStyles(e.id+"_menu",{left:c.x,top:c.y+b.clientHeight,zIndex:200000});b=0;g.add(j.doc,"mousedown",e.hideMenu,e);e.onShowMenu.dispatch(e);if(e._focused){e._keyHandler=g.add(e.id+"_menu","keydown",function(l){if(l.keyCode==27){e.hideMenu()}});j.select("a",e.id+"_menu")[0].focus()}e.isMenuVisible=1},hideMenu:function(a){var b=this;if(a&&a.type=="mousedown"&&j.getParent(a.target,function(c){return c.id===b.id+"_open"})){return}if(!a||!j.getParent(a.target,".mceSplitButtonMenu")){j.removeClass(b.id,"mceSplitButtonSelected");g.remove(j.doc,"mousedown",b.hideMenu,b);g.remove(b.id+"_menu","keydown",b._keyHandler);j.hide(b.id+"_menu")}b.onHideMenu.dispatch(b);b.isMenuVisible=0;b.editor.focus()},renderMenu:function(){var b=this,n,e=0,a=b.settings,r,m,d,c,s;c=j.add(a.menu_container,"div",{role:"listbox",id:b.id+"_menu","class":a.menu_class+" "+a["class"],style:"position:absolute;left:0;top:-1000px;"});n=j.add(c,"div",{"class":a["class"]+" mceSplitButtonMenu"});j.add(n,"span",{"class":"mceMenuLine"});r=j.add(n,"table",{role:"presentation","class":"mceColorSplitMenu"});m=j.add(r,"tbody");e=0;h(f(a.colors,"array")?a.colors:a.colors.split(","),function(k){k=k.replace(/^#/,"");if(!e--){d=j.add(m,"tr");e=a.grid_width-1}r=j.add(d,"td");r=j.add(r,"a",{role:"option",href:"javascript:;",style:{backgroundColor:"#"+k},title:b.editor.getLang("colors."+k,k),"data-mce-color":"#"+k});if(b.editor.forcedHighContrastMode){r=j.add(r,"canvas",{width:16,height:16,"aria-hidden":"true"});if(r.getContext&&(s=r.getContext("2d"))){s.fillStyle="#"+k;s.fillRect(0,0,16,16)}else{j.remove(r)}}});if(a.more_colors_func){r=j.add(m,"tr");r=j.add(r,"td",{colspan:a.grid_width,"class":"mceMoreColors"});r=j.add(r,"a",{role:"option",id:b.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},a.more_colors_title);g.add(r,"click",function(k){a.more_colors_func.call(a.more_colors_scope||this);return g.cancel(k)})}j.addClass(n,"mceColorSplitMenu");new i.ui.KeyboardNavigation({root:b.id+"_menu",items:j.select("a",b.id+"_menu"),onCancel:function(){b.hideMenu();b.focus()}});g.add(b.id+"_menu","mousedown",function(k){return g.cancel(k)});g.add(b.id+"_menu","click",function(l){var k;l=j.getParent(l.target,"a",m);if(l&&l.nodeName.toLowerCase()=="a"&&(k=l.getAttribute("data-mce-color"))){b.setColor(k)}return g.cancel(l)});return c},setColor:function(a){this.displayColor(a);this.hideMenu();this.settings.onselect(a)},displayColor:function(a){var b=this;j.setStyle(b.id+"_preview","backgroundColor",a);b.value=a},postRender:function(){var b=this,a=b.id;b.parent();j.add(a+"_action","div",{id:a+"_preview","class":"mceColorPreview"});j.setStyle(b.id+"_preview","backgroundColor",b.value)},destroy:function(){this.parent();g.clear(this.id+"_menu");g.clear(this.id+"_more");j.remove(this.id+"_menu")}})})(tinymce);(function(e){var g=e.DOM,h=e.each,f=e.dom.Event;e.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var d=this,b=[],k=d.controls,a=e.each,c=d.settings;b.push('<div id="'+d.id+'" role="group" aria-labelledby="'+d.id+'_voice">');b.push("<span role='application'>");b.push('<span id="'+d.id+'_voice" class="mceVoiceLabel" style="display:none;">'+g.encode(c.name)+"</span>");a(k,function(i){b.push(i.renderHTML())});b.push("</span>");b.push("</div>");return b.join("")},focus:function(){this.keyNav.focus()},postRender:function(){var a=this,b=[];h(a.controls,function(c){h(c.controls,function(d){if(d.id){b.push(d)}})});a.keyNav=new e.ui.KeyboardNavigation({root:a.id,items:b,onCancel:function(){a.editor.focus()},excludeFromTabOrder:!a.settings.tab_focus_toolbar})},destroy:function(){var a=this;a.parent();a.keyNav.destroy();f.clear(a.id)}})})(tinymce);(function(e){var f=e.DOM,d=e.each;e.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var b=this,p="",i,h,a=b.settings,q,r,o,c;c=b.controls;for(q=0;q<c.length;q++){h=c[q];r=c[q-1];o=c[q+1];if(q===0){i="mceToolbarStart";if(h.Button){i+=" mceToolbarStartButton"}else{if(h.SplitButton){i+=" mceToolbarStartSplitButton"}else{if(h.ListBox){i+=" mceToolbarStartListBox"}}}p+=f.createHTML("td",{"class":i},f.createHTML("span",null,"<!-- IE -->"))}if(r&&h.ListBox){if(r.Button||r.SplitButton){p+=f.createHTML("td",{"class":"mceToolbarEnd"},f.createHTML("span",null,"<!-- IE -->"))}}if(f.stdMode){p+='<td style="position: relative">'+h.renderHTML()+"</td>"}else{p+="<td>"+h.renderHTML()+"</td>"}if(o&&h.ListBox){if(o.Button||o.SplitButton){p+=f.createHTML("td",{"class":"mceToolbarStart"},f.createHTML("span",null,"<!-- IE -->"))}}}i="mceToolbarEnd";if(h.Button){i+=" mceToolbarEndButton"}else{if(h.SplitButton){i+=" mceToolbarEndSplitButton"}else{if(h.ListBox){i+=" mceToolbarEndListBox"}}}p+=f.createHTML("td",{"class":i},f.createHTML("span",null,"<!-- IE -->"));return f.createHTML("table",{id:b.id,"class":"mceToolbar"+(a["class"]?" "+a["class"]:""),cellpadding:"0",cellspacing:"0",align:b.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+p+"</tr></tbody>")}})})(tinymce);(function(d){var e=d.util.Dispatcher,f=d.each;d.create("tinymce.AddOnManager",{AddOnManager:function(){var a=this;a.items=[];a.urls={};a.lookup={};a.onAdd=new e(a)},get:function(a){return this.lookup[a]},requireLangPack:function(a){var b=d.settings;if(b&&b.language&&b.language_load!==false){d.ScriptLoader.add(this.urls[a]+"/langs/"+b.language+".js")}},add:function(a,b){this.items.push(b);this.lookup[a]=b;this.onAdd.dispatch(this,a,b);return b},load:function(a,i,j,b){var c=this;if(c.urls[a]){return}if(i.indexOf("/")!=0&&i.indexOf("://")==-1){i=d.baseURL+"/"+i}c.urls[a]=i.substring(0,i.lastIndexOf("/"));if(!c.lookup[a]){d.ScriptLoader.add(i,j,b)}}});d.PluginManager=new d.AddOnManager();d.ThemeManager=new d.AddOnManager()}(tinymce));(function(m){var p=m.each,s=m.extend,l=m.DOM,n=m.dom.Event,q=m.ThemeManager,u=m.PluginManager,r=m.explode,o=m.util.Dispatcher,v,t=0;m.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(m.documentBaseURL)){m.documentBaseURL+="/"}m.baseURL=new m.util.URI(m.documentBaseURL).toAbsolute(m.baseURL);m.baseURI=new m.util.URI(m.baseURL);m.onBeforeUnload=new o(m);n.add(window,"beforeunload",function(a){m.onBeforeUnload.dispatch(m,a)});m.onAddEditor=new o(m);m.onRemoveEditor=new o(m);m.EditorManager=s(m,{editors:[],i18n:{},activeEditor:null,init:function(e){var h=this,f,b=m.ScriptLoader,c,g=[],a;function d(i,z,k){var j=i[z];if(!j){return}if(m.is(j,"string")){k=j.replace(/\.\w+$/,"");k=k?m.resolve(k):0;j=m.resolve(j)}return j.apply(k||this,Array.prototype.slice.call(arguments,2))}e=s({theme:"simple",language:"en"},e);h.settings=e;n.add(document,"init",function(){var k,i;d(e,"onpageload");switch(e.mode){case"exact":k=e.elements||"";if(k.length>0){p(r(k),function(y){if(l.get(y)){a=new m.Editor(y,e);g.push(a);a.render(1)}else{p(document.forms,function(x){p(x.elements,function(A){if(A.name===y){y="mce_editor_"+t++;l.setAttrib(A,"id",y);a=new m.Editor(y,e);g.push(a);a.render(1)}})})}})}break;case"textareas":case"specific_textareas":function j(A,z){return z.constructor===RegExp?z.test(A.className):l.hasClass(A,z)}p(l.select("textarea"),function(y){if(e.editor_deselector&&j(y,e.editor_deselector)){return}if(!e.editor_selector||j(y,e.editor_selector)){c=l.get(y.name);if(!y.id&&!c){y.id=y.name}if(!y.id||h.get(y.id)){y.id=l.uniqueId()}a=new m.Editor(y.id,e);g.push(a);a.render(1)}});break}if(e.oninit){k=i=0;p(g,function(y){i++;if(!y.initialized){y.onInit.add(function(){k++;if(k==i){d(e,"oninit")}})}else{k++}if(k==i){d(e,"oninit")}})}})},get:function(a){if(a===v){return this.editors}return this.editors[a]},getInstanceById:function(a){return this.get(a)},add:function(a){var b=this,c=b.editors;c[a.id]=a;c.push(a);b._setActive(a);b.onAddEditor.dispatch(b,a);if(m.adapter){m.adapter.patchEditor(a)}return a},remove:function(d){var a=this,b,c=a.editors;if(!c[d.id]){return null}delete c[d.id];for(b=0;b<c.length;b++){if(c[b]==d){c.splice(b,1);break}}if(a.activeEditor==d){a._setActive(c[0])}d.destroy();a.onRemoveEditor.dispatch(a,d);return d},execCommand:function(c,e,f){var d=this,g=d.get(f),b;switch(c){case"mceFocus":g.focus();return true;case"mceAddEditor":case"mceAddControl":if(!d.get(f)){new m.Editor(f,d.settings).render()}return true;case"mceAddFrameControl":b=f.window;b.tinyMCE=tinyMCE;b.tinymce=m;m.DOM.doc=b.document;m.DOM.win=b;g=new m.Editor(f.element_id,f);g.render();if(m.isIE){function a(){g.destroy();b.detachEvent("onunload",a);b=b.tinyMCE=b.tinymce=null}b.attachEvent("onunload",a)}f.page_window=null;return true;case"mceRemoveEditor":case"mceRemoveControl":if(g){g.remove()}return true;case"mceToggleEditor":if(!g){d.execCommand("mceAddControl",0,f);return true}if(g.isHidden()){g.show()}else{g.hide()}return true}if(d.activeEditor){return d.activeEditor.execCommand(c,e,f)}return false},execInstanceCommand:function(c,d,e,a){var b=this.get(c);if(b){return b.execCommand(d,e,a)}return false},triggerSave:function(){p(this.editors,function(a){a.save()})},addI18n:function(d,c){var b,a=this.i18n;if(!m.is(d,"string")){p(d,function(e,f){p(e,function(g,h){p(g,function(i,j){if(h==="common"){a[f+"."+j]=i}else{a[f+"."+h+"."+j]=i}})})})}else{p(c,function(e,f){a[d+"."+f]=e})}},_setActive:function(a){this.selectedInstance=this.activeEditor=a}})})(tinymce);(function(r){var q=r.DOM,u=r.dom.Event,z=r.extend,t=r.util.Dispatcher,v=r.each,E=r.isGecko,D=r.isIE,A=r.isWebKit,B=r.is,x=r.ThemeManager,C=r.PluginManager,p=r.inArray,s=r.grep,y=r.explode;r.create("tinymce.Editor",{Editor:function(a,b){var c=this;c.id=c.editorId=a;c.execCommands={};c.queryStateCommands={};c.queryValueCommands={};c.isNotDirty=false;c.plugins={};v(["onPreInit","onBeforeRenderUI","onPostRender","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState"],function(d){c[d]=new t(c)});c.settings=b=z({id:a,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:r.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:true,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",validate:true,entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c,ie7_compat:true},b);c.documentBaseURI=new r.util.URI(b.document_base_url||r.documentBaseURL,{base_uri:tinyMCE.baseURI});c.baseURI=r.baseURI;c.contentCSS=[];c.execCallback("setup",c)},render:function(d){var c=this,b=c.settings,a=c.id,f=r.ScriptLoader;if(!u.domLoaded){u.add(document,"init",function(){c.render()});return}tinyMCE.settings=b;if(!c.getElement()){return}if(r.isIDevice){return}if(!/TEXTAREA|INPUT/i.test(c.getElement().nodeName)&&b.hidden_input&&q.getParent(a,"form")){q.insertAfter(q.create("input",{type:"hidden",name:a}),a)}if(r.WindowManager){c.windowManager=new r.WindowManager(c)}if(b.encoding=="xml"){c.onGetContent.add(function(h,g){if(g.save){g.content=q.encode(g.content)}})}if(b.add_form_submit_trigger){c.onSubmit.addToTop(function(){if(c.initialized){c.save();c.isNotDirty=1}})}if(b.add_unload_trigger){c._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(c.initialized&&!c.destroyed&&!c.isHidden()){c.save({format:"raw",no_events:true})}})}r.addUnload(c.destroy,c);if(b.submit_patch){c.onBeforeRenderUI.add(function(){var g=c.getElement().form;if(!g){return}if(g._mceOldSubmit){return}if(!g.submit.nodeType&&!g.submit.length){c.formElement=g;g._mceOldSubmit=g.submit;g.submit=function(){r.triggerSave();c.isNotDirty=1;return c.formElement._mceOldSubmit(c.formElement)}}g=null})}function e(){if(b.language&&b.language_load!==false){f.add(r.baseURL+"/langs/"+b.language+".js")}if(b.theme&&b.theme.charAt(0)!="-"&&!x.urls[b.theme]){x.load(b.theme,"themes/"+b.theme+"/editor_template"+r.suffix+".js")}v(y(b.plugins),function(g){if(g&&g.charAt(0)!="-"&&!C.urls[g]){if(g=="safari"){return}C.load(g,"plugins/"+g+"/editor_plugin"+r.suffix+".js")}});f.loadQueue(function(){if(!c.removed){c.init()}})}e()},init:function(){var b,m=this,l=m.settings,c,h,e=m.getElement(),d,f,a,j,g,n,i;r.add(m);l.aria_label=l.aria_label||q.getAttrib(e,"aria-label",m.getLang("aria.rich_text_area"));if(l.theme){l.theme=l.theme.replace(/-/,"");d=x.get(l.theme);m.theme=new d();if(m.theme.init&&l.init_theme){m.theme.init(m,x.urls[l.theme]||r.documentBaseURL.replace(/\/$/,""))}}v(y(l.plugins.replace(/\-/g,"")),function(G){var o=C.get(G),F=C.urls[G]||r.documentBaseURL.replace(/\/$/,""),J;if(o){J=new o(m,F);m.plugins[G]=J;if(J.init){J.init(m,F)}}});if(l.popup_css!==false){if(l.popup_css){l.popup_css=m.documentBaseURI.toAbsolute(l.popup_css)}else{l.popup_css=m.baseURI.toAbsolute("themes/"+l.theme+"/skins/"+l.skin+"/dialog.css")}}if(l.popup_css_add){l.popup_css+=","+m.documentBaseURI.toAbsolute(l.popup_css_add)}m.controlManager=new r.ControlManager(m);if(l.custom_undo_redo){m.onExecCommand.add(function(J,G,F,o,K){if(G!="Undo"&&G!="Redo"&&G!="mceRepaint"&&(!K||!K.skip_undo)){m.undoManager.add()}})}m.onExecCommand.add(function(F,o){if(!/^(FontName|FontSize)$/.test(o)){m.nodeChanged()}});if(E){function k(F,o){if(!o||!o.initial){m.execCommand("mceRepaint")}}m.onUndo.add(k);m.onRedo.add(k);m.onSetContent.add(k)}m.onBeforeRenderUI.dispatch(m,m.controlManager);if(l.render_ui){c=l.width||e.style.width||e.offsetWidth;h=l.height||e.style.height||e.offsetHeight;m.orgDisplay=e.style.display;n=/^[0-9\.]+(|px)$/i;if(n.test(""+c)){c=Math.max(parseInt(c)+(d.deltaWidth||0),100)}if(n.test(""+h)){h=Math.max(parseInt(h)+(d.deltaHeight||0),100)}d=m.theme.renderUI({targetNode:e,width:c,height:h,deltaWidth:l.delta_width,deltaHeight:l.delta_height});m.editorContainer=d.editorContainer}if(document.domain&&location.hostname!=document.domain){r.relaxedDomain=document.domain}q.setStyles(d.sizeContainer||d.editorContainer,{width:c,height:h});if(l.content_css){r.each(y(l.content_css),function(o){m.contentCSS.push(m.documentBaseURI.toAbsolute(o))})}h=(d.iframeHeight||h)+(typeof(h)=="number"?(d.deltaHeight||0):"");if(h<100){h=100}m.iframeHTML=l.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';if(l.document_base_url!=r.documentBaseURL){m.iframeHTML+='<base href="'+m.documentBaseURI.getURI()+'" />'}if(l.ie7_compat){m.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}else{m.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=edge" />'}m.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(!E||!/Firefox\/2/.test(navigator.userAgent)){for(i=0;i<m.contentCSS.length;i++){m.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+m.contentCSS[i]+'" />'}m.contentCSS=[]}j=l.body_id||"tinymce";if(j.indexOf("=")!=-1){j=m.getParam("body_id","","hash");j=j[m.id]||j}g=l.body_class||"";if(g.indexOf("=")!=-1){g=m.getParam("body_class","","hash");g=g[m.id]||""}m.iframeHTML+='</head><body id="'+j+'" class="mceContentBody '+g+'"></body></html>';if(r.relaxedDomain&&(D||(r.isOpera&&parseFloat(opera.version())<11))){a='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+m.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()'}b=q.add(d.iframeContainer,"iframe",{id:m.id+"_ifr",src:a||'javascript:""',frameBorder:"0",title:l.aria_label,style:{width:"100%",height:h}});m.contentAreaContainer=d.iframeContainer;q.get(d.editorContainer).style.display=m.orgDisplay;q.get(m.id).style.display="none";q.setAttrib(m.id,"aria-hidden",true);if(!r.relaxedDomain||!a){m.setupIframe()}e=b=d=null},setupIframe:function(){var d=this,a=d.settings,h=q.get(d.id),g=d.getDoc(),b,f;if(!D||!r.relaxedDomain){g.open();g.write(d.iframeHTML);g.close();if(r.relaxedDomain){g.domain=r.relaxedDomain}}if(!D){try{if(!a.readonly){g.designMode="On"}}catch(e){}}if(D){f=d.getBody();q.hide(f);if(!a.readonly){f.contentEditable=true}q.show(f)}d.schema=new r.html.Schema(a);d.dom=new r.dom.DOMUtils(d.getDoc(),{keep_values:true,url_converter:d.convertURL,url_converter_scope:d,hex_colors:a.force_hex_style_colors,class_filter:a.class_filter,update_styles:1,fix_ie_paragraphs:1,schema:d.schema});d.parser=new r.html.DomParser(a,d.schema);d.parser.addAttributeFilter("name",function(k,j){var o=k.length,m,i,n,l;while(o--){l=k[o];if(l.name==="a"&&l.firstChild){n=l.parent;m=l.lastChild;do{i=m.prev;n.insert(m,l);m=i}while(m)}}});d.parser.addAttributeFilter("src,href,style",function(k,j){var i=k.length,n,l=d.dom,m;while(i--){n=k[i];m=n.attr(j);if(j==="style"){n.attr("data-mce-style",l.serializeStyle(l.parseStyle(m),n.name))}else{n.attr("data-mce-"+j,d.convertURL(m,j,n.name))}}});d.parser.addNodeFilter("script",function(k,j){var i=k.length;while(i--){k[i].attr("type","mce-text/javascript")}});d.parser.addNodeFilter("#cdata",function(k,j){var i=k.length,l;while(i--){l=k[i];l.type=8;l.name="#comment";l.value="[CDATA["+l.value+"]]"}});d.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(j,i){var m=j.length,l,k=d.schema.getNonEmptyElements();while(m--){l=j[m];if(l.isEmpty(k)){l.empty().append(new r.html.Node("br",1)).shortEnded=true}}});d.serializer=new r.dom.Serializer(a,d.dom,d.schema);d.selection=new r.dom.Selection(d.dom,d.getWin(),d.serializer);d.formatter=new r.Formatter(this);d.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",collapsed:false,styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",collapsed:false,styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:false},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:false},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});v("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(i){d.formatter.register(i,{block:i,remove:"all"})});d.formatter.register(d.settings.formats);d.undoManager=new r.UndoManager(d);d.undoManager.onAdd.add(function(i,j){if(!j.initial){return d.onChange.dispatch(d,j,i)}});d.undoManager.onUndo.add(function(i,j){return d.onUndo.dispatch(d,j,i)});d.undoManager.onRedo.add(function(i,j){return d.onRedo.dispatch(d,j,i)});d.forceBlocks=new r.ForceBlocks(d,{forced_root_block:a.forced_root_block});d.editorCommands=new r.EditorCommands(d);d.serializer.onPreProcess.add(function(j,i){return d.onPreProcess.dispatch(d,i,j)});d.serializer.onPostProcess.add(function(j,i){return d.onPostProcess.dispatch(d,i,j)});d.onPreInit.dispatch(d);if(!a.gecko_spellcheck){d.getBody().spellcheck=0}if(!a.readonly){d._addEvents()}d.controlManager.onPostRender.dispatch(d,d.controlManager);d.onPostRender.dispatch(d);if(a.directionality){d.getBody().dir=a.directionality}if(a.nowrap){d.getBody().style.whiteSpace="nowrap"}if(a.handle_node_change_callback){d.onNodeChange.add(function(j,k,i){d.execCallback("handle_node_change_callback",d.id,i,-1,-1,true,d.selection.isCollapsed())})}if(a.save_callback){d.onSaveContent.add(function(k,i){var j=d.execCallback("save_callback",d.id,i.content,d.getBody());if(j){i.content=j}})}if(a.onchange_callback){d.onChange.add(function(i,j){d.execCallback("onchange_callback",d,j)})}if(a.protect){d.onBeforeSetContent.add(function(j,i){if(a.protect){v(a.protect,function(k){i.content=i.content.replace(k,function(l){return"<!--mce:protected "+escape(l)+"-->"})})}})}if(a.convert_newlines_to_brs){d.onBeforeSetContent.add(function(j,i){if(i.initial){i.content=i.content.replace(/\r?\n/g,"<br />")}})}if(a.preformatted){d.onPostProcess.add(function(j,i){i.content=i.content.replace(/^\s*<pre.*?>/,"");i.content=i.content.replace(/<\/pre>\s*$/,"");if(i.set){i.content='<pre class="mceItemHidden">'+i.content+"</pre>"}})}if(a.verify_css_classes){d.serializer.attribValueFilter=function(k,i){var l,j;if(k=="class"){if(!d.classesRE){j=d.dom.getClasses();if(j.length>0){l="";v(j,function(m){l+=(l?"|":"")+m["class"]});d.classesRE=new RegExp("("+l+")","gi")}}return !d.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(i)||d.classesRE.test(i)?i:""}return i}}if(a.cleanup_callback){d.onBeforeSetContent.add(function(j,i){i.content=d.execCallback("cleanup_callback","insert_to_editor",i.content,i)});d.onPreProcess.add(function(j,i){if(i.set){d.execCallback("cleanup_callback","insert_to_editor_dom",i.node,i)}if(i.get){d.execCallback("cleanup_callback","get_from_editor_dom",i.node,i)}});d.onPostProcess.add(function(j,i){if(i.set){i.content=d.execCallback("cleanup_callback","insert_to_editor",i.content,i)}if(i.get){i.content=d.execCallback("cleanup_callback","get_from_editor",i.content,i)}})}if(a.save_callback){d.onGetContent.add(function(j,i){if(i.save){i.content=d.execCallback("save_callback",d.id,i.content,d.getBody())}})}if(a.handle_event_callback){d.onEvent.add(function(k,j,i){if(d.execCallback("handle_event_callback",j,k,i)===false){u.cancel(j)}})}d.onSetContent.add(function(){d.addVisual(d.getBody())});if(a.padd_empty_editor){d.onPostProcess.add(function(j,i){i.content=i.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}if(E){function c(j,i){v(j.dom.select("a"),function(l){var k=l.parentNode;if(j.dom.isBlock(k)&&k.lastChild===l){j.dom.add(k,"br",{"data-mce-bogus":1})}})}d.onExecCommand.add(function(j,i){if(i==="CreateLink"){c(j)}});d.onSetContent.add(d.selection.onSetContent.add(c));if(!a.readonly){try{g.designMode="Off";g.designMode="On"}catch(e){}}}setTimeout(function(){if(d.removed){return}d.load({initial:true,format:"html"});d.startContent=d.getContent({format:"raw"});d.undoManager.add();d.initialized=true;d.onInit.dispatch(d);d.execCallback("setupcontent_callback",d.id,d.getBody(),d.getDoc());d.execCallback("init_instance_callback",d);d.focus(true);d.nodeChanged({initial:1});v(d.contentCSS,function(i){d.dom.loadCSS(i)});if(a.auto_focus){setTimeout(function(){var i=r.get(a.auto_focus);i.selection.select(i.getBody(),1);i.selection.collapse(1);i.getWin().focus()},100)}},1);h=null},focus:function(d){var a,f=this,b=f.settings.content_editable,e,g,c=f.getDoc();if(!d){e=f.selection.getRng();if(e.item){g=e.item(0)}if(!b){f.getWin().focus()}if(g&&g.ownerDocument==c){e=c.body.createControlRange();e.addElement(g);e.select()}}if(r.activeEditor!=f){if((a=r.activeEditor)!=null){a.onDeactivate.dispatch(a,f)}f.onActivate.dispatch(f,a)}r._setActive(f)},execCallback:function(a){var d=this,b=d.settings[a],c;if(!b){return}if(d.callbackLookup&&(c=d.callbackLookup[a])){b=c.func;c=c.scope}if(B(b,"string")){c=b.replace(/\.\w+$/,"");c=c?r.resolve(c):0;b=r.resolve(b);d.callbackLookup=d.callbackLookup||{};d.callbackLookup[a]={func:b,scope:c}}return b.apply(c||d,Array.prototype.slice.call(arguments,1))},translate:function(c){var a=this.settings.language||"en",b=r.i18n;if(!c){return""}return b[a+"."+c]||c.replace(/{\#([^}]+)\}/g,function(d,e){return b[a+"."+e]||"{#"+e+"}"})},getLang:function(a,b){return r.i18n[(this.settings.language||"en")+"."+a]||(B(b)?b:"{#"+a+"}")},getParam:function(a,d,f){var c=r.trim,e=B(this.settings[a])?this.settings[a]:d,b;if(f==="hash"){b={};if(B(e,"string")){v(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(g){g=g.split("=");if(g.length>1){b[c(g[0])]=c(g[1])}else{b[c(g[0])]=c(g)}})}else{b=e}return b}return e},nodeChanged:function(b){var d=this,c=d.selection,a=(D?c.getNode():c.getStart())||d.getBody();if(d.initialized){b=b||{};a=D&&a.ownerDocument!=d.getDoc()?d.getBody():a;b.parents=[];d.dom.getParent(a,function(e){if(e.nodeName=="BODY"){return true}b.parents.push(e)});d.onNodeChange.dispatch(d,b?b.controlManager||d.controlManager:d.controlManager,a,c.isCollapsed(),b)}},addButton:function(a,b){var c=this;c.buttons=c.buttons||{};c.buttons[a]=b},addCommand:function(c,a,b){this.execCommands[c]={func:a,scope:b||this}},addQueryStateHandler:function(c,a,b){this.queryStateCommands[c]={func:a,scope:b||this}},addQueryValueHandler:function(c,a,b){this.queryValueCommands[c]={func:a,scope:b||this}},addShortcut:function(d,b,f,c){var e=this,a;if(!e.settings.custom_shortcuts){return false}e.shortcuts=e.shortcuts||{};if(B(f,"string")){a=f;f=function(){e.execCommand(a,false,null)}}if(B(f,"object")){a=f;f=function(){e.execCommand(a[0],a[1],a[2])}}v(y(d),function(h){var g={func:f,scope:c||this,desc:b,alt:false,ctrl:false,shift:false};v(y(h,"+"),function(i){switch(i){case"alt":case"ctrl":case"shift":g[i]=true;break;default:g.charCode=i.charCodeAt(0);g.keyCode=i.toUpperCase().charCodeAt(0)}});e.shortcuts[(g.ctrl?"ctrl":"")+","+(g.alt?"alt":"")+","+(g.shift?"shift":"")+","+g.keyCode]=g});return true},execCommand:function(a,b,g,f){var d=this,c=0,h,e;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(a)&&(!f||!f.skip_focus)){d.focus()}h={};d.onBeforeExecCommand.dispatch(d,a,b,g,h);if(h.terminate){return false}if(d.execCallback("execcommand_callback",d.id,d.selection.getNode(),a,b,g)){d.onExecCommand.dispatch(d,a,b,g,f);return true}if(h=d.execCommands[a]){e=h.func.call(h.scope,b,g);if(e!==true){d.onExecCommand.dispatch(d,a,b,g,f);return e}}v(d.plugins,function(i){if(i.execCommand&&i.execCommand(a,b,g)){d.onExecCommand.dispatch(d,a,b,g,f);c=1;return false}});if(c){return true}if(d.theme&&d.theme.execCommand&&d.theme.execCommand(a,b,g)){d.onExecCommand.dispatch(d,a,b,g,f);return true}if(d.editorCommands.execCommand(a,b,g)){d.onExecCommand.dispatch(d,a,b,g,f);return true}d.getDoc().execCommand(a,b,g);d.onExecCommand.dispatch(d,a,b,g,f)},queryCommandState:function(b){var d=this,a,c;if(d._isHidden()){return}if(a=d.queryStateCommands[b]){c=a.func.call(a.scope);if(c!==true){return c}}a=d.editorCommands.queryCommandState(b);if(a!==-1){return a}try{return this.getDoc().queryCommandState(b)}catch(e){}},queryCommandValue:function(a){var d=this,b,c;if(d._isHidden()){return}if(b=d.queryValueCommands[a]){c=b.func.call(b.scope);if(c!==true){return c}}b=d.editorCommands.queryCommandValue(a);if(B(b)){return b}try{return this.getDoc().queryCommandValue(a)}catch(e){}},show:function(){var a=this;q.show(a.getContainer());q.hide(a.id);a.load()},hide:function(){var b=this,a=b.getDoc();if(D&&a){a.execCommand("SelectAll")}b.save();q.hide(b.getContainer());q.setStyle(b.id,"display",b.orgDisplay)},isHidden:function(){return !q.isHidden(this.id)},setProgressState:function(c,b,a){this.onSetProgressState.dispatch(this,c,b,a);return c},load:function(a){var d=this,b=d.getElement(),c;if(b){a=a||{};a.load=true;c=d.setContent(B(b.value)?b.value:b.innerHTML,a);a.element=b;if(!a.no_events){d.onLoadContent.dispatch(d,a)}a.element=b=null;return c}},save:function(a){var e=this,b=e.getElement(),d,c;if(!b||!e.initialized){return}a=a||{};a.save=true;if(!a.no_events){e.undoManager.typing=false;e.undoManager.add()}a.element=b;d=a.content=e.getContent(a);if(!a.no_events){e.onSaveContent.dispatch(e,a)}d=a.content;if(!/TEXTAREA|INPUT/i.test(b.nodeName)){b.innerHTML=d;if(c=q.getParent(e.id,"form")){v(c.elements,function(f){if(f.name==e.id){f.value=d;return false}})}}else{b.value=d}a.element=b=null;return d},setContent:function(a,b){var c=this,d,e=c.getBody();b=b||{};b.format=b.format||"html";b.set=true;b.content=a;if(!b.no_events){c.onBeforeSetContent.dispatch(c,b)}if(!r.isIE&&(a.length===0||/^\s+$/.test(a))){e.innerHTML='<br data-mce-bogus="1" />';return}if(b.format!=="raw"){b.content=new r.html.Serializer({},c.schema).serialize(c.parser.parse(b.content))}e.innerHTML=r.trim(b.content);if(!b.no_events){c.onSetContent.dispatch(c,b)}return b.content},getContent:function(b){var c=this,a;b=b||{};b.format=b.format||"html";b.get=true;if(!b.no_events){c.onBeforeGetContent.dispatch(c,b)}if(b.format=="raw"){a=c.getBody().innerHTML}else{a=c.serializer.serialize(c.getBody(),b)}b.content=r.trim(a);if(!b.no_events){c.onGetContent.dispatch(c,b)}return b.content},isDirty:function(){var a=this;return r.trim(a.startContent)!=r.trim(a.getContent({format:"raw",no_events:1}))&&!a.isNotDirty},getContainer:function(){var a=this;if(!a.container){a.container=q.get(a.editorContainer||a.id+"_parent")}return a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return q.get(this.settings.content_element||this.id)},getWin:function(){var b=this,a;if(!b.contentWindow){a=q.get(b.id+"_ifr");if(a){b.contentWindow=a.contentWindow}}return b.contentWindow},getDoc:function(){var a=this,b;if(!a.contentDocument){b=a.getWin();if(b){a.contentDocument=b.document}}return a.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,a,b){var d=this,c=d.settings;if(c.urlconverter_callback){return d.execCallback("urlconverter_callback",e,b,true,a)}if(!c.convert_urls||(b&&b.nodeName=="LINK")||e.indexOf("file:")===0){return e}if(c.relative_urls){return d.documentBaseURI.toRelative(e)}e=d.documentBaseURI.toAbsolute(e,c.remove_script_host);return e},addVisual:function(a){var c=this,b=c.settings;a=a||c.getBody();if(!B(c.hasVisual)){c.hasVisual=b.visual}v(c.dom.select("table,a",a),function(d){var e;switch(d.nodeName){case"TABLE":e=c.dom.getAttrib(d,"border");if(!e||e=="0"){if(c.hasVisual){c.dom.addClass(d,b.visual_table_class)}else{c.dom.removeClass(d,b.visual_table_class)}}return;case"A":e=c.dom.getAttrib(d,"name");if(e){if(c.hasVisual){c.dom.addClass(d,"mceItemAnchor")}else{c.dom.removeClass(d,"mceItemAnchor")}}return}});c.onVisualAid.dispatch(c,a,c.hasVisual)},remove:function(){var b=this,a=b.getContainer();b.removed=1;b.hide();b.execCallback("remove_instance_callback",b);b.onRemove.dispatch(b);b.onExecCommand.listeners=[];r.remove(b);q.remove(a)},destroy:function(a){var b=this;if(b.destroyed){return}if(!a){r.removeUnload(b.destroy);tinyMCE.onBeforeUnload.remove(b._beforeUnload);if(b.theme&&b.theme.destroy){b.theme.destroy()}b.controlManager.destroy();b.selection.destroy();b.dom.destroy();if(!b.settings.content_editable){u.clear(b.getWin());u.clear(b.getDoc())}u.clear(b.getBody());u.clear(b.formElement)}if(b.formElement){b.formElement.submit=b.formElement._mceOldSubmit;b.formElement._mceOldSubmit=null}b.contentAreaContainer=b.formElement=b.container=b.settings.content_element=b.bodyElement=b.contentDocument=b.contentWindow=null;if(b.selection){b.selection=b.selection.win=b.selection.dom=b.selection.dom.doc=null}b.destroyed=1},_addEvents:function(){var d=this,a,b=d.settings,c=d.dom,i={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};function e(l,n){var m=l.type;if(d.removed){return}if(d.onEvent.dispatch(d,l,n)!==false){d[i[l.fakeType||l.type]].dispatch(d,l,n)}}v(i,function(l,m){switch(m){case"contextmenu":c.bind(d.getDoc(),m,e);break;case"paste":c.bind(d.getBody(),m,function(n){e(n)});break;case"submit":case"reset":c.bind(d.getElement().form||q.getParent(d.id,"form"),m,e);break;default:c.bind(b.content_editable?d.getBody():d.getDoc(),m,e)}});c.bind(b.content_editable?d.getBody():(E?d.getDoc():d.getWin()),"focus",function(l){d.focus(true)});if(r.isGecko){c.bind(d.getDoc(),"DOMNodeInserted",function(l){var m;l=l.target;if(l.nodeType===1&&l.nodeName==="IMG"&&(m=l.getAttribute("data-mce-src"))){l.src=d.documentBaseURI.toAbsolute(m)}})}if(E){function k(){var n=this,l=n.getDoc(),m=n.settings;if(E&&!m.readonly){if(n._isHidden()){try{if(!m.content_editable){l.designMode="On"}}catch(o){}}try{l.execCommand("styleWithCSS",0,false)}catch(o){if(!n._isHidden()){try{l.execCommand("useCSS",0,true)}catch(o){}}}if(!m.table_inline_editing){try{l.execCommand("enableInlineTableEditing",false,false)}catch(o){}}if(!m.object_resizing){try{l.execCommand("enableObjectResizing",false,false)}catch(o){}}}}d.onBeforeExecCommand.add(k);d.onMouseDown.add(k)}if(r.isWebKit){d.onClick.add(function(m,l){l=l.target;if(l.nodeName=="IMG"||(l.nodeName=="A"&&c.hasClass(l,"mceItemAnchor"))){d.selection.getSel().setBaseAndExtent(l,0,l,1);d.nodeChanged()}})}d.onMouseUp.add(d.nodeChanged);d.onKeyUp.add(function(m,l){var n=l.keyCode;if((n>=33&&n<=36)||(n>=37&&n<=40)||n==13||n==45||n==46||n==8||(r.isMac&&(n==91||n==93))||l.ctrlKey){d.nodeChanged()}});d.onReset.add(function(){d.setContent(d.startContent,{format:"raw"})});if(b.custom_shortcuts){if(b.custom_undo_redo_keyboard_shortcuts){d.addShortcut("ctrl+z",d.getLang("undo_desc"),"Undo");d.addShortcut("ctrl+y",d.getLang("redo_desc"),"Redo")}d.addShortcut("ctrl+b",d.getLang("bold_desc"),"Bold");d.addShortcut("ctrl+i",d.getLang("italic_desc"),"Italic");d.addShortcut("ctrl+u",d.getLang("underline_desc"),"Underline");for(a=1;a<=6;a++){d.addShortcut("ctrl+"+a,"",["FormatBlock",false,"h"+a])}d.addShortcut("ctrl+7","",["FormatBlock",false,"<p>"]);d.addShortcut("ctrl+8","",["FormatBlock",false,"<div>"]);d.addShortcut("ctrl+9","",["FormatBlock",false,"<address>"]);function j(l){var m=null;if(!l.altKey&&!l.ctrlKey&&!l.metaKey){return m}v(d.shortcuts,function(n){if(r.isMac&&n.ctrl!=l.metaKey){return}else{if(!r.isMac&&n.ctrl!=l.ctrlKey){return}}if(n.alt!=l.altKey){return}if(n.shift!=l.shiftKey){return}if(l.keyCode==n.keyCode||(l.charCode&&l.charCode==n.charCode)){m=n;return false}});return m}d.onKeyUp.add(function(m,l){var n=j(l);if(n){return u.cancel(l)}});d.onKeyPress.add(function(m,l){var n=j(l);if(n){return u.cancel(l)}});d.onKeyDown.add(function(m,l){var n=j(l);if(n){n.func.call(n.scope);return u.cancel(l)}})}if(r.isIE){c.bind(d.getDoc(),"controlselect",function(n){var l=d.resizeInfo,m;n=n.target;if(n.nodeName!=="IMG"){return}if(l){c.unbind(l.node,l.ev,l.cb)}if(!c.hasClass(n,"mceItemNoResize")){ev="resizeend";m=c.bind(n,ev,function(o){var G;o=o.target;if(G=c.getStyle(o,"width")){c.setAttrib(o,"width",G.replace(/[^0-9%]+/g,""));c.setStyle(o,"width","")}if(G=c.getStyle(o,"height")){c.setAttrib(o,"height",G.replace(/[^0-9%]+/g,""));c.setStyle(o,"height","")}})}else{ev="resizestart";m=c.bind(n,"resizestart",u.cancel,u)}l=d.resizeInfo={node:n,ev:ev,cb:m}});d.onKeyDown.add(function(m,n){var l;switch(n.keyCode){case 8:l=d.getDoc().selection;if(l.createRange&&l.createRange().item){m.dom.remove(l.createRange().item(0));return u.cancel(n)}}})}if(r.isOpera){d.onClick.add(function(m,l){u.prevent(l)})}if(b.custom_undo_redo){function h(){d.undoManager.typing=false;d.undoManager.add()}c.bind(d.getDoc(),"focusout",function(l){if(!d.removed&&d.undoManager.typing){h()}});d.onKeyUp.add(function(l,n){var m,o,G;if(D&&n.keyCode==8){m=d.selection.getRng();if(m.parentElement){o=m.parentElement();G=d.selection.getBookmark();o.innerHTML=o.innerHTML;d.selection.moveToBookmark(G)}}if((n.keyCode>=33&&n.keyCode<=36)||(n.keyCode>=37&&n.keyCode<=40)||n.keyCode==13||n.keyCode==45||n.ctrlKey){h()}});d.onKeyDown.add(function(l,n){var m,o,H;if(D&&n.keyCode==46){m=d.selection.getRng();if(m.parentElement){o=m.parentElement();if(n.ctrlKey){m.moveEnd("word",1);m.select()}d.selection.getSel().clear();if(m.parentElement()==o){H=d.selection.getBookmark();try{o.innerHTML=o.innerHTML}catch(I){}d.selection.moveToBookmark(H)}n.preventDefault();return}}if((n.keyCode>=33&&n.keyCode<=36)||(n.keyCode>=37&&n.keyCode<=40)||n.keyCode==13||n.keyCode==45){if(d.undoManager.typing){h()}return}if(!d.undoManager.typing){d.undoManager.add();d.undoManager.typing=true}});d.onMouseDown.add(function(){if(d.undoManager.typing){h()}})}if(r.isGecko){function f(){d.undoManager.typing=false;d.undoManager.add();var l=d.dom.getAttribs(d.selection.getStart().cloneNode(false));return function(){var m=d.selection.getStart();d.dom.removeAllAttribs(m);v(l,function(n){m.setAttributeNode(n.cloneNode(true))});d.undoManager.typing=false;d.undoManager.add()}}function g(){var l=d.selection;return !l.isCollapsed()&&l.getStart()!=l.getEnd()}d.onKeyPress.add(function(m,n){if((n.keyCode==8||n.keyCode==46)&&g()){var l=f();d.getDoc().execCommand("delete",false,null);l();return u.cancel(n)}});d.dom.bind(d.getDoc(),"cut",function(l){if(g()){var m=f();d.onKeyUp.addToTop(u.cancel,u);setTimeout(function(){m();d.onKeyUp.remove(u.cancel,u)},0)}})}},_isHidden:function(){var a;if(!E){return 0}a=this.selection.getSel();return(!a||!a.rangeCount||a.rangeCount==0)}})})(tinymce);(function(j){var i=j.each,h,g=true,f=false;j.EditorCommands=function(e){var v=e.dom,c=e.selection,y={state:{},exec:{},value:{}},x=e.settings,d;function b(n,k,l){var m;n=n.toLowerCase();if(m=y.exec[n]){m(n,k,l);return g}return f}function u(k){var l;k=k.toLowerCase();if(l=y.state[k]){return l(k)}return -1}function A(k){var l;k=k.toLowerCase();if(l=y.value[k]){return l(k)}return f}function D(l,k){k=k||"exec";i(l,function(n,m){i(m.toLowerCase().split(","),function(o){y[k][o]=n})})}j.extend(this,{execCommand:b,queryCommandState:u,queryCommandValue:A,addCommands:D});function C(k,l,m){if(l===h){l=f}if(m===h){m=null}return e.getDoc().execCommand(k,l,m)}function E(k){return e.formatter.match(k)}function a(l,k){e.formatter.toggle(l,k?{value:k}:h)}function z(k){d=c.getBookmark(k)}function B(){c.moveToBookmark(d)}D({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var k=e.getDoc(),m;try{C(n)}catch(l){m=g}if(m||!k.queryCommandSupported(n)){if(j.isGecko){e.windowManager.confirm(e.getLang("clipboard_msg"),function(o){if(o){open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}})}else{e.windowManager.alert(e.getLang("clipboard_no_support"))}}},unlink:function(k){if(c.isCollapsed()){c.select(c.getNode())}C(k);c.collapse(f)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(l){var k=l.substring(7);i("left,center,right,full".split(","),function(m){if(k!=m){e.formatter.remove("align"+m)}});a("align"+k);b("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(k){var m,l;C(k);m=v.getParent(c.getNode(),"ol,ul");if(m){l=m.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(l.nodeName)){z();v.split(l,m);B()}}},"Bold,Italic,Underline,Strikethrough":function(k){a(k)},"ForeColor,HiliteColor,FontName":function(k,l,m){a(k,m)},FontSize:function(o,k,l){var m,n;if(l>=1&&l<=7){n=j.explode(x.font_size_style_values);m=j.explode(x.font_size_classes);if(m){l=m[l-1]||l}else{l=n[l-1]||l}}a(o,l)},RemoveFormat:function(k){e.formatter.remove(k)},mceBlockQuote:function(k){a("blockquote")},FormatBlock:function(k,l,m){return a(m||"p")},mceCleanup:function(){var k=c.getBookmark();e.setContent(e.getContent({cleanup:g}),{cleanup:g});c.moveToBookmark(k)},mceRemoveNode:function(n,k,l){var m=l||c.getNode();if(m!=e.getBody()){z();e.dom.remove(m,g);B()}},mceSelectNodeDepth:function(n,k,l){var m=0;v.getParent(c.getNode(),function(o){if(o.nodeType==1&&m++==l){c.select(o);return f}},e.getBody())},mceSelectNode:function(k,l,m){c.select(m)},mceInsertContent:function(o,k,I){var l,t,q,H,p,t,n,s,m;function r(M,G){var L,F=new j.dom.TreeWalker(M,G);while((L=F.current())){if((L.nodeType==3&&j.trim(L.nodeValue).length)||L.nodeName=="BR"||L.nodeName=="IMG"){return L}F.prev()}}m={content:I,format:"html"};c.onBeforeSetContent.dispatch(c,m);I=m.content;if(I.indexOf("{$caret}")==-1){I+="{$caret}"}c.setContent('<span id="__mce">\uFEFF</span>',{no_events:false});v.setOuterHTML("__mce",I.replace(/\{\$caret\}/,'<span data-mce-type="bookmark" id="__mce">\uFEFF</span>'));l=v.select("#__mce")[0];q=v.getRoot();if(l.previousSibling&&v.isBlock(l.previousSibling)||l.parentNode==q){p=r(l.previousSibling,q);if(p){if(p.nodeName=="BR"){p.parentNode.insertBefore(l,p)}else{v.insertAfter(l,p)}}}while(l){if(l===q){v.setOuterHTML(H,new j.html.Serializer({},e.schema).serialize(new j.html.DomParser({remove_trailing_brs:true},e.schema).parse(v.getOuterHTML(H))));break}H=l;l=l.parentNode}l=v.select("#__mce")[0];if(l){p=r(l.previousSibling,q);v.remove(l);if(p){t=v.createRng();if(p.nodeType==3){t.setStart(p,p.length);t.setEnd(p,p.length)}else{if(p.nodeName=="BR"){t.setStartBefore(p);t.setEndBefore(p)}else{t.setStartAfter(p);t.setEndAfter(p)}}c.setRng(t);if(!j.isIE){p=v.create("span",null,"\u00a0");t.insertNode(p);n=v.getRect(p);s=v.getViewPort(e.getWin());if((n.y>s.y+s.h||n.y<s.y)||(n.x>s.x+s.w||n.x<s.x)){e.getBody().scrollLeft=n.x;e.getBody().scrollTop=n.y}v.remove(p)}}}c.onSetContent.dispatch(c,m);e.addVisual()},mceInsertRawHTML:function(k,l,m){c.setContent("tiny_mce_marker");e.setContent(e.getContent().replace(/tiny_mce_marker/g,function(){return m}))},mceSetContent:function(k,l,m){e.setContent(m)},"Indent,Outdent":function(n){var l,m,k;l=x.indentation;m=/[a-z%]+$/i.exec(l);l=parseInt(l);if(!u("InsertUnorderedList")&&!u("InsertOrderedList")){i(c.getSelectedBlocks(),function(o){if(n=="outdent"){k=Math.max(0,parseInt(o.style.paddingLeft||0)-l);v.setStyle(o,"paddingLeft",k?k+m:"")}else{v.setStyle(o,"paddingLeft",(parseInt(o.style.paddingLeft||0)+l)+m)}})}else{C(n)}},mceRepaint:function(){var k;if(j.isGecko){try{z(g);if(c.getSel()){c.getSel().selectAllChildren(e.getBody())}c.collapse(g);B()}catch(l){}}},mceToggleFormat:function(k,l,m){e.formatter.toggle(m)},InsertHorizontalRule:function(){c.setContent("<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual;e.addVisual()},mceReplaceContent:function(k,l,m){e.execCommand("mceInsertContent",false,c.setContent(m.replace(/\{\$selection\}/g,c.getContent({format:"text"}))))},mceInsertLink:function(l,o,p){var k=v.getParent(c.getNode(),"a"),m,n;if(j.is(p,"string")){p={href:p}}p.href=p.href.replace(" ","%20");if(!k){if(j.isWebKit){m=v.getParent(c.getNode(),"img");if(m){n=m.style.cssFloat;m.style.cssFloat=null}}C("CreateLink",f,"javascript:mctmp(0);");if(n){m.style.cssFloat=n}i(v.select("a[href='javascript:mctmp(0);']"),function(q){v.setAttribs(q,p)})}else{if(p.href){v.setAttribs(k,p)}else{e.dom.remove(k,g)}}},selectAll:function(){var k=v.getRoot(),l=v.createRng();l.setStart(k,0);l.setEnd(k,k.childNodes.length);e.selection.setRng(l)}});D({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(k){return E("align"+k.substring(7))},"Bold,Italic,Underline,Strikethrough":function(k){return E(k)},mceBlockQuote:function(){return E("blockquote")},Outdent:function(){var k;if(x.inline_styles){if((k=v.getParent(c.getStart(),v.isBlock))&&parseInt(k.style.paddingLeft)>0){return g}if((k=v.getParent(c.getEnd(),v.isBlock))&&parseInt(k.style.paddingLeft)>0){return g}}return u("InsertUnorderedList")||u("InsertOrderedList")||(!x.inline_styles&&!!v.getParent(c.getNode(),"BLOCKQUOTE"))},"InsertUnorderedList,InsertOrderedList":function(k){return v.getParent(c.getNode(),k=="insertunorderedlist"?"UL":"OL")}},"state");D({"FontSize,FontName":function(k){var l=0,m;if(m=v.getParent(c.getNode(),"span")){if(k=="fontsize"){l=m.style.fontSize}else{l=m.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return l}},"value");if(x.custom_undo_redo){D({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})}}})(tinymce);(function(c){var d=c.util.Dispatcher;c.UndoManager=function(h){var j,i=0,a=[];function b(){return c.trim(h.getContent({format:"raw",no_events:1}))}return j={typing:false,onAdd:new d(j),onUndo:new d(j),onRedo:new d(j),add:function(e){var m,g=h.settings,f;e=e||{};e.content=b();f=a[i];if(f&&f.content==e.content){if(i>0||a.length==1){return null}}if(g.custom_undo_redo_levels){if(a.length>g.custom_undo_redo_levels){for(m=0;m<a.length-1;m++){a[m]=a[m+1]}a.length--;i=a.length}}e.bookmark=h.selection.getBookmark(2,true);if(i<a.length-1){a.length=i+1}a.push(e);i=a.length-1;j.onAdd.dispatch(j,e);h.isNotDirty=0;return e},undo:function(){var e,f;if(j.typing){j.add();j.typing=false}if(i>0){e=a[--i];h.setContent(e.content,{format:"raw"});h.selection.moveToBookmark(e.bookmark);j.onUndo.dispatch(j,e)}return e},redo:function(){var e;if(i<a.length-1){e=a[++i];h.setContent(e.content,{format:"raw"});h.selection.moveToBookmark(e.bookmark);j.onRedo.dispatch(j,e)}return e},clear:function(){a=[];i=0;j.typing=false},hasUndo:function(){return i>0||j.typing},hasRedo:function(){return i<a.length-1}}}})(tinymce);(function(n){var p=n.dom.Event,y=n.isIE,A=n.isGecko,z=n.isOpera,q=n.each,r=n.extend,x=true,s=false;function o(b){var a,c,d;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(b.nodeName)){if(a){c=b.cloneNode(false);c.appendChild(a);a=c}else{a=d=b.cloneNode(false)}a.removeAttribute("id")}}while(b=b.parentNode);if(a){return{wrapper:a,inner:d}}}function t(b,a){var c=a.ownerDocument.createRange();c.setStart(b.endContainer,b.endOffset);c.setEndAfter(a);return c.cloneContents().textContent.length==0}function u(a){a=a.innerHTML;a=a.replace(/<(img|hr|table|input|select|textarea)[ \>]/gi,"-");a=a.replace(/<[^>]+>/g,"");return a.replace(/[ \u00a0\t\r\n]+/g,"")==""}function v(c,a,e){var d,b;if(u(e)){d=a.getParent(e,"ul,ol");if(!a.getParent(d.parentNode,"ul,ol")){a.split(d,e);b=a.create("p",0,'<br data-mce-bogus="1" />');a.replace(b,e);c.select(b,1)}return s}return x}n.create("tinymce.ForceBlocks",{ForceBlocks:function(d){var c=this,b=d.settings,a;c.editor=d;c.dom=d.dom;a=(b.forced_root_block||"p").toLowerCase();b.element=a.toUpperCase();d.onPreInit.add(c.setup,c);if(b.forced_root_block){d.onInit.add(c.forceRoots,c);d.onSetContent.add(c.forceRoots,c);d.onBeforeGetContent.add(c.forceRoots,c);d.onExecCommand.add(function(f,e){if(e=="mceInsertContent"){c.forceRoots();f.nodeChanged()}})}},setup:function(){var e=this,f=e.editor,c=f.settings,a=f.dom,d=f.selection;if(c.forced_root_block){f.onBeforeExecCommand.add(e.forceRoots,e);f.onKeyUp.add(e.forceRoots,e);f.onPreProcess.add(e.forceRoots,e)}if(c.force_br_newlines){if(y){f.onKeyPress.add(function(i,h){var g;if(h.keyCode==13&&d.getNode().nodeName!="LI"){d.setContent('<br id="__" /> ',{format:"raw"});g=a.get("__");g.removeAttribute("id");d.select(g);d.collapse();return p.cancel(h)}})}}if(c.force_p_newlines){if(!y){f.onKeyPress.add(function(h,g){if(g.keyCode==13&&!g.shiftKey&&!e.insertPara(g)){p.cancel(g)}})}else{n.addUnload(function(){e._previousFormats=0});f.onKeyPress.add(function(h,g){e._previousFormats=0;if(g.keyCode==13&&!g.shiftKey&&h.selection.isCollapsed()&&c.keep_styles){e._previousFormats=o(h.selection.getStart())}});f.onKeyUp.add(function(i,g){if(g.keyCode==13&&!g.shiftKey){var h=i.selection.getStart(),j=e._previousFormats;if(!h.hasChildNodes()&&j){h=a.getParent(h,a.isBlock);if(h&&h.nodeName!="LI"){h.innerHTML="";if(e._previousFormats){h.appendChild(j.wrapper);j.inner.innerHTML="\uFEFF"}else{h.innerHTML="\uFEFF"}d.select(h,1);d.collapse(true);i.getDoc().execCommand("Delete",false,null);e._previousFormats=0}}}})}if(A){f.onKeyDown.add(function(h,g){if((g.keyCode==8||g.keyCode==46)&&!g.shiftKey){e.backspaceDelete(g,g.keyCode==8)}})}}if(n.isWebKit){function b(i){var j=d.getRng(),h,k=a.create("div",null," "),l,g=a.getViewPort(i.getWin()).h;j.insertNode(h=a.create("br"));j.setStartAfter(h);j.setEndAfter(h);d.setRng(j);if(d.getSel().focusNode==h.previousSibling){d.select(a.insertAfter(a.doc.createTextNode("\u00a0"),h));d.collapse(x)}a.insertAfter(k,h);l=a.getPos(k).y;a.remove(k);if(l>g){i.getWin().scrollTo(0,l)}}f.onKeyPress.add(function(h,g){if(g.keyCode==13&&(g.shiftKey||(c.force_br_newlines&&!a.getParent(d.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul")))){b(h);p.cancel(g)}})}if(y){if(c.element!="P"){f.onKeyPress.add(function(h,g){e.lastElm=d.getNode().nodeName});f.onKeyUp.add(function(i,h){var k,g=d.getNode(),j=i.getBody();if(j.childNodes.length===1&&g.nodeName=="P"){g=a.rename(g,c.element);d.select(g);d.collapse();i.nodeChanged()}else{if(h.keyCode==13&&!h.shiftKey&&e.lastElm!="P"){k=a.getParent(g,"p");if(k){a.rename(k,c.element);i.nodeChanged()}}}})}}},find:function(a,d,c){var e=this.editor,f=e.getDoc().createTreeWalker(a,4,null,s),b=-1;while(a=f.nextNode()){b++;if(d==0&&a==c){return b}if(d==1&&b==c){return a}}return -1},forceRoots:function(k,j){var g=this,k=g.editor,d=k.getBody(),i=k.getDoc(),a=k.selection,Y=a.getSel(),W=a.getRng(),c=-2,Q,m,aa,Z,f=-16777215;var e,X,b,S,V,R=d.childNodes,T,U,h;for(T=R.length-1;T>=0;T--){e=R[T];if(e.nodeType===1&&e.getAttribute("data-mce-type")){X=null;continue}if(e.nodeType===3||(!g.dom.isBlock(e)&&e.nodeType!==8&&!/^(script|mce:script|style|mce:style)$/i.test(e.nodeName))){if(!X){if(e.nodeType!=3||/[^\s]/g.test(e.nodeValue)){if(c==-2&&W){if(!y||W.setStart){if(W.startContainer.nodeType==1&&(U=W.startContainer.childNodes[W.startOffset])&&U.nodeType==1){h=U.getAttribute("id");U.setAttribute("id","__mce")}else{if(k.dom.getParent(W.startContainer,function(B){return B===d})){m=W.startOffset;aa=W.endOffset;c=g.find(d,0,W.startContainer);Q=g.find(d,0,W.endContainer)}}}else{if(W.item){Z=i.body.createTextRange();Z.moveToElementText(W.item(0));W=Z}Z=i.body.createTextRange();Z.moveToElementText(d);Z.collapse(1);b=Z.move("character",f)*-1;Z=W.duplicate();Z.collapse(1);S=Z.move("character",f)*-1;Z=W.duplicate();Z.collapse(0);V=(Z.move("character",f)*-1)-S;c=S-b;Q=V}}X=k.dom.create(k.settings.forced_root_block);e.parentNode.replaceChild(X,e);X.appendChild(e)}}else{if(X.hasChildNodes()){X.insertBefore(e,X.firstChild)}else{X.appendChild(e)}}}else{X=null}}if(c!=-2){if(!y||W.setStart){X=d.getElementsByTagName(k.settings.element)[0];W=i.createRange();if(c!=-1){W.setStart(g.find(d,1,c),m)}else{W.setStart(X,0)}if(Q!=-1){W.setEnd(g.find(d,1,Q),aa)}else{W.setEnd(X,0)}if(Y){Y.removeAllRanges();Y.addRange(W)}}else{try{W=Y.createRange();W.moveToElementText(d);W.collapse(1);W.moveStart("character",c);W.moveEnd("character",Q);W.select()}catch(l){}}}else{if((!y||W.setStart)&&(U=k.dom.get("__mce"))){if(h){U.setAttribute("id",h)}else{U.removeAttribute("id")}W=i.createRange();W.setStartBefore(U);W.setEndBefore(U);a.setRng(W)}}},getParentBlock:function(a){var b=this.dom;return b.getParent(a,b.isBlock)},insertPara:function(f){var ae=this,ac=ae.editor,j=ac.dom,e=ac.getDoc(),a=ac.settings,ad=ac.selection.getSel(),ab=ad.getRangeAt(0),b=e.body;var m,l,aa,h,i,ah,ao,af,an,ap,ai,c,am,Z,Y,k=j.getViewPort(ac.getWin()),aj,ag,ak;m=e.createRange();m.setStart(ad.anchorNode,ad.anchorOffset);m.collapse(x);l=e.createRange();l.setStart(ad.focusNode,ad.focusOffset);l.collapse(x);aa=m.compareBoundaryPoints(m.START_TO_END,l)<0;h=aa?ad.anchorNode:ad.focusNode;i=aa?ad.anchorOffset:ad.focusOffset;ah=aa?ad.focusNode:ad.anchorNode;ao=aa?ad.focusOffset:ad.anchorOffset;if(h===ah&&/^(TD|TH)$/.test(h.nodeName)){if(h.firstChild.nodeName=="BR"){j.remove(h.firstChild)}if(h.childNodes.length==0){ac.dom.add(h,a.element,null,"<br />");c=ac.dom.add(h,a.element,null,"<br />")}else{Y=h.innerHTML;h.innerHTML="";ac.dom.add(h,a.element,null,Y);c=ac.dom.add(h,a.element,null,"<br />")}ab=e.createRange();ab.selectNodeContents(c);ab.collapse(1);ac.selection.setRng(ab);return s}if(h==b&&ah==b&&b.firstChild&&ac.dom.isBlock(b.firstChild)){h=ah=h.firstChild;i=ao=0;m=e.createRange();m.setStart(h,0);l=e.createRange();l.setStart(ah,0)}h=h.nodeName=="HTML"?e.body:h;h=h.nodeName=="BODY"?h.firstChild:h;ah=ah.nodeName=="HTML"?e.body:ah;ah=ah.nodeName=="BODY"?ah.firstChild:ah;af=ae.getParentBlock(h);an=ae.getParentBlock(ah);ap=af?af.nodeName:a.element;if(Y=ae.dom.getParent(af,"li,pre")){if(Y.nodeName=="LI"){return v(ac.selection,ae.dom,Y)}return x}if(af&&(af.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(j.getStyle(af,"position",1)))){ap=a.element;af=null}if(an&&(an.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(j.getStyle(af,"position",1)))){ap=a.element;an=null}if(/(TD|TABLE|TH|CAPTION)/.test(ap)||(af&&ap=="DIV"&&/left|right/gi.test(j.getStyle(af,"float",1)))){ap=a.element;af=an=null}ai=(af&&af.nodeName==ap)?af.cloneNode(0):ac.dom.create(ap);c=(an&&an.nodeName==ap)?an.cloneNode(0):ac.dom.create(ap);c.removeAttribute("id");if(/^(H[1-6])$/.test(ap)&&t(ab,af)){c=ac.dom.create(a.element)}Y=am=h;do{if(Y==b||Y.nodeType==9||ae.dom.isBlock(Y)||/(TD|TABLE|TH|CAPTION)/.test(Y.nodeName)){break}am=Y}while((Y=Y.previousSibling?Y.previousSibling:Y.parentNode));Y=Z=ah;do{if(Y==b||Y.nodeType==9||ae.dom.isBlock(Y)||/(TD|TABLE|TH|CAPTION)/.test(Y.nodeName)){break}Z=Y}while((Y=Y.nextSibling?Y.nextSibling:Y.parentNode));if(am.nodeName==ap){m.setStart(am,0)}else{m.setStartBefore(am)}m.setEnd(h,i);ai.appendChild(m.cloneContents()||e.createTextNode(""));try{l.setEndAfter(Z)}catch(g){}l.setStart(ah,ao);c.appendChild(l.cloneContents()||e.createTextNode(""));ab=e.createRange();if(!am.previousSibling&&am.parentNode.nodeName==ap){ab.setStartBefore(am.parentNode)}else{if(m.startContainer.nodeName==ap&&m.startOffset==0){ab.setStartBefore(m.startContainer)}else{ab.setStart(m.startContainer,m.startOffset)}}if(!Z.nextSibling&&Z.parentNode.nodeName==ap){ab.setEndAfter(Z.parentNode)}else{ab.setEnd(l.endContainer,l.endOffset)}ab.deleteContents();if(z){ac.getWin().scrollTo(0,k.y)}if(ai.firstChild&&ai.firstChild.nodeName==ap){ai.innerHTML=ai.firstChild.innerHTML}if(c.firstChild&&c.firstChild.nodeName==ap){c.innerHTML=c.firstChild.innerHTML}if(u(ai)){ai.innerHTML="<br />"}function d(G,C){var D=[],E,F,B;G.innerHTML="";if(a.keep_styles){F=C;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(F.nodeName)){E=F.cloneNode(s);j.setAttrib(E,"id","");D.push(E)}}while(F=F.parentNode)}if(D.length>0){for(B=D.length-1,E=G;B>=0;B--){E=E.appendChild(D[B])}D[0].innerHTML=z?"\u00a0":"<br />";return D[0]}else{G.innerHTML=z?"\u00a0":"<br />"}}if(u(c)){ak=d(c,ah)}if(z&&parseFloat(opera.version())<9.5){ab.insertNode(ai);ab.insertNode(c)}else{ab.insertNode(c);ab.insertNode(ai)}c.normalize();ai.normalize();function al(B){return e.createTreeWalker(B,NodeFilter.SHOW_TEXT,null,s).nextNode()||B}ab=e.createRange();ab.selectNodeContents(A?al(ak||c):ak||c);ab.collapse(1);ad.removeAllRanges();ad.addRange(ab);aj=ac.dom.getPos(c).y;if(aj<k.y||aj+25>k.y+k.h){ac.getWin().scrollTo(0,aj<k.y?aj:aj-k.h+25)}return s},backspaceDelete:function(k,b){var a=this,l=a.editor,h=l.getBody(),m=l.dom,c,j=l.selection,e=j.getRng(),i=e.startContainer,c,g,d,f;if(!b&&e.collapsed&&i.nodeType==1&&e.startOffset==i.childNodes.length){f=new n.dom.TreeWalker(i.lastChild,i);for(c=i.lastChild;c;c=f.prev()){if(c.nodeType==3){e.setStart(c,c.nodeValue.length);e.collapse(true);j.setRng(e);return}}}if(i&&l.dom.isBlock(i)&&!/^(TD|TH)$/.test(i.nodeName)&&b){if(i.childNodes.length==0||(i.childNodes.length==1&&i.firstChild.nodeName=="BR")){c=i;while((c=c.previousSibling)&&!l.dom.isBlock(c)){}if(c){if(i!=h.firstChild){g=l.dom.doc.createTreeWalker(c,NodeFilter.SHOW_TEXT,null,s);while(d=g.nextNode()){c=d}e=l.getDoc().createRange();e.setStart(c,c.nodeValue?c.nodeValue.length:0);e.setEnd(c,c.nodeValue?c.nodeValue.length:0);j.setRng(e);l.dom.remove(i)}return p.cancel(k)}}}}})})(tinymce);(function(j){var f=j.DOM,g=j.dom.Event,i=j.each,h=j.extend;j.create("tinymce.ControlManager",{ControlManager:function(d,a){var b=this,c;a=a||{};b.editor=d;b.controls={};b.onAdd=new j.util.Dispatcher(b);b.onPostRender=new j.util.Dispatcher(b);b.prefix=a.prefix||d.id+"_";b._cls={};b.onPostRender.add(function(){i(b.controls,function(e){e.postRender()})})},get:function(a){return this.controls[this.prefix+a]||this.controls[a]},setActive:function(a,c){var b=null;if(b=this.get(a)){b.setActive(c)}return b},setDisabled:function(a,c){var b=null;if(b=this.get(a)){b.setDisabled(c)}return b},add:function(a){var b=this;if(a){b.controls[a.id]=a;b.onAdd.dispatch(a,b)}return a},createControl:function(a){var b,c=this,d=c.editor;i(d.plugins,function(e){if(e.createControl){b=e.createControl(a,c);if(b){return false}}});switch(a){case"|":case"separator":return c.createSeparator()}if(!b&&d.buttons&&(b=d.buttons[a])){return c.createButton(a,b)}return c.add(b)},createDropMenu:function(r,a,p){var b=this,o=b.editor,e,q,d,c;a=h({"class":"mceDropDown",constrain:o.settings.constrain_menus},a);a["class"]=a["class"]+" "+o.getParam("skin")+"Skin";if(d=o.getParam("skin_variant")){a["class"]+=" "+o.getParam("skin")+"Skin"+d.substring(0,1).toUpperCase()+d.substring(1)}r=b.prefix+r;c=p||b._cls.dropmenu||j.ui.DropMenu;e=b.controls[r]=new c(r,a);e.onAddItem.add(function(k,l){var m=l.settings;m.title=o.getLang(m.title,m.title);if(!m.onclick){m.onclick=function(n){if(m.cmd){o.execCommand(m.cmd,m.ui||false,m.value)}}}});o.onRemove.add(function(){e.destroy()});if(j.isIE){e.onShowMenu.add(function(){o.focus();q=o.selection.getBookmark(1)});e.onHideMenu.add(function(){if(q){o.selection.moveToBookmark(q);q=0}})}return b.add(e)},createListBox:function(a,e,b){var n=this,o=n.editor,d,c,p;if(n.get(a)){return null}e.title=o.translate(e.title);e.scope=e.scope||o;if(!e.onselect){e.onselect=function(k){o.execCommand(e.cmd,e.ui||false,k||e.value)}}e=h({title:e.title,"class":"mce_"+a,scope:e.scope,control_manager:n},e);a=n.prefix+a;if(o.settings.use_native_selects){c=new j.ui.NativeListBox(a,e)}else{p=b||n._cls.listbox||j.ui.ListBox;c=new p(a,e,o)}n.controls[a]=c;if(j.isWebKit){c.onPostRender.add(function(k,l){g.add(l,"mousedown",function(){o.bookmark=o.selection.getBookmark(1)});g.add(l,"focus",function(){o.selection.moveToBookmark(o.bookmark);o.bookmark=null})})}if(c.hideMenu){o.onMouseDown.add(c.hideMenu,c)}return n.add(c)},createButton:function(a,e,b){var n=this,o=n.editor,d,c,p;if(n.get(a)){return null}e.title=o.translate(e.title);e.label=o.translate(e.label);e.scope=e.scope||o;if(!e.onclick&&!e.menu_button){e.onclick=function(){o.execCommand(e.cmd,e.ui||false,e.value)}}e=h({title:e.title,"class":"mce_"+a,unavailable_prefix:o.getLang("unavailable",""),scope:e.scope,control_manager:n},e);a=n.prefix+a;if(e.menu_button){p=b||n._cls.menubutton||j.ui.MenuButton;c=new p(a,e,o);o.onMouseDown.add(c.hideMenu,c)}else{p=n._cls.button||j.ui.Button;c=new p(a,e)}return n.add(c)},createMenuButton:function(a,c,b){c=c||{};c.menu_button=1;return this.createButton(a,c,b)},createSplitButton:function(a,e,b){var n=this,o=n.editor,d,c,p;if(n.get(a)){return null}e.title=o.translate(e.title);e.scope=e.scope||o;if(!e.onclick){e.onclick=function(k){o.execCommand(e.cmd,e.ui||false,k||e.value)}}if(!e.onselect){e.onselect=function(k){o.execCommand(e.cmd,e.ui||false,k||e.value)}}e=h({title:e.title,"class":"mce_"+a,scope:e.scope,control_manager:n},e);a=n.prefix+a;p=b||n._cls.splitbutton||j.ui.SplitButton;c=n.add(new p(a,e,o));o.onMouseDown.add(c.hideMenu,c);return c},createColorSplitButton:function(r,a,p){var c=this,e=c.editor,o,d,b,q;if(c.get(r)){return null}a.title=e.translate(a.title);a.scope=a.scope||e;if(!a.onclick){a.onclick=function(k){if(j.isIE){q=e.selection.getBookmark(1)}e.execCommand(a.cmd,a.ui||false,k||a.value)}}if(!a.onselect){a.onselect=function(k){e.execCommand(a.cmd,a.ui||false,k||a.value)}}a=h({title:a.title,"class":"mce_"+r,menu_class:e.getParam("skin")+"Skin",scope:a.scope,more_colors_title:e.getLang("more_colors")},a);r=c.prefix+r;b=p||c._cls.colorsplitbutton||j.ui.ColorSplitButton;d=new b(r,a,e);e.onMouseDown.add(d.hideMenu,d);e.onRemove.add(function(){d.destroy()});if(j.isIE){d.onShowMenu.add(function(){e.focus();q=e.selection.getBookmark(1)});d.onHideMenu.add(function(){if(q){e.selection.moveToBookmark(q);q=0}})}return c.add(d)},createToolbar:function(a,d,b){var c,e=this,l;a=e.prefix+a;l=b||e._cls.toolbar||j.ui.Toolbar;c=new l(a,d,e.editor);if(e.get(a)){return null}return e.add(c)},createToolbarGroup:function(a,d,b){var c,e=this,l;a=e.prefix+a;l=b||this._cls.toolbarGroup||j.ui.ToolbarGroup;c=new l(a,d,e.editor);if(e.get(a)){return null}return e.add(c)},createSeparator:function(a){var b=a||this._cls.separator||j.ui.Separator;return new b()},setControlType:function(a,b){return this._cls[a.toLowerCase()]=b},destroy:function(){i(this.controls,function(a){a.destroy()});this.controls=null}})})(tinymce);(function(i){var g=i.util.Dispatcher,h=i.each,j=i.isIE,f=i.isOpera;i.create("tinymce.WindowManager",{WindowManager:function(b){var a=this;a.editor=b;a.onOpen=new g(a);a.onClose=new g(a);a.params={};a.features={}},open:function(A,x){var B=this,s="",d,e,u=B.editor.settings.dialog_type=="modal",b,c,t,y=i.DOM.getViewPort(),a;A=A||{};x=x||{};c=f?y.w:screen.width;t=f?y.h:screen.height;A.name=A.name||"mc_"+new Date().getTime();A.width=parseInt(A.width||320);A.height=parseInt(A.height||240);A.resizable=true;A.left=A.left||parseInt(c/2)-(A.width/2);A.top=A.top||parseInt(t/2)-(A.height/2);x.inline=false;x.mce_width=A.width;x.mce_height=A.height;x.mce_auto_focus=A.auto_focus;if(u){if(j){A.center=true;A.help=false;A.dialogWidth=A.width+"px";A.dialogHeight=A.height+"px";A.scroll=A.scrollbars||false}}h(A,function(l,k){if(i.is(l,"boolean")){l=l?"yes":"no"}if(!/^(name|url)$/.test(k)){if(j&&u){s+=(s?";":"")+k+":"+l}else{s+=(s?",":"")+k+"="+l}}});B.features=A;B.params=x;B.onOpen.dispatch(B,A,x);a=A.url||A.file;a=i._addVer(a);try{if(j&&u){b=1;window.showModalDialog(a,window,s)}else{b=window.open(a,A.name,s)}}catch(p){}if(!b){alert(B.editor.getLang("popup_blocked"))}},close:function(a){a.close();this.onClose.dispatch(this)},createInstance:function(e,n,o,a,b,c){var d=i.resolve(e);return new d(n,o,a,b,c)},confirm:function(b,d,a,c){c=c||window;d.call(a||this,c.confirm(this._decode(this.editor.getLang(b,b))))},alert:function(c,e,a,d){var b=this;d=d||window;d.alert(b._decode(b.editor.getLang(c,c)));if(e){e.call(a||b)}},resizeBy:function(c,b,a){a.resizeBy(c,b)},_decode:function(a){return i.DOM.decode(a).replace(/\\n/g,"\n")}})}(tinymce));(function(b){b.Formatter=function(a){var ac={},aa=b.each,aK=a.dom,ax=a.selection,au=b.dom.TreeWalker,ae=new b.dom.RangeUtils(aK),aJ=a.schema.isValidChild,ai=aK.isBlock,aC=a.settings.forced_root_block,av=aK.nodeIndex,aj="\uFEFF",aI=/^(src|href|style)$/,W=false,am=true,ay,Z={apply:[],remove:[]};function ao(c){return c instanceof Array}function aB(c,d){return aK.getParents(c,d,aK.getRoot())}function aL(c){return c.nodeType===1&&(c.face==="mceinline"||c.style.fontFamily==="mceinline")}function X(c){return c?ac[c]:ac}function aD(d,c){if(d){if(typeof(d)!=="string"){aa(d,function(f,e){aD(e,f)})}else{c=c.length?c:[c];aa(c,function(e){if(e.deep===ay){e.deep=!e.selector}if(e.split===ay){e.split=!e.selector||e.inline}if(e.remove===ay&&e.selector&&!e.inline){e.remove="none"}if(e.selector&&e.inline){e.mixed=true;e.block_expand=true}if(typeof(e.classes)==="string"){e.classes=e.classes.split(/\s+/)}});ac[d]=c}}}function V(g,l,e){var d=X(g),k=d[0],m,h,n,c=ax.isCollapsed();function f(p){var q=p.startContainer,r=p.startOffset,s,o;if(q.nodeType==1||q.nodeValue===""){q=q.nodeType==1?q.childNodes[r]:q;if(q){s=new au(q,q.parentNode);for(o=s.current();o;o=s.next()){if(o.nodeType==3&&!aH(o)){p.setStart(o,0);break}}}}return p}function i(o,p){p=p||k;if(o){aa(p.styles,function(r,q){aK.setStyle(o,q,aw(r,l))});aa(p.attributes,function(r,q){aK.setAttrib(o,q,aw(r,l))});aa(p.classes,function(q){q=aw(q,l);if(!aK.hasClass(o,q)){aK.addClass(o,q)}})}}function j(p){var q=[],r,o;r=k.inline||k.block;o=aK.create(r);i(o);ae.walk(p,function(u){var t;function s(z){var v=z.nodeName.toLowerCase(),x=z.parentNode.nodeName.toLowerCase(),y;if(aG(v,"br")){t=0;if(k.block){aK.remove(z)}return}if(k.wrapper&&aq(z,g,l)){t=0;return}if(k.block&&!k.wrapper&&ah(v)){z=aK.rename(z,r);i(z);q.push(z);t=0;return}if(k.selector){aa(d,function(A){if("collapsed" in A&&A.collapsed!==c){return}if(aK.is(z,A.selector)&&!aL(z)){i(z,A);y=true}});if(!k.inline||y){t=0;return}}if(aJ(r,v)&&aJ(x,r)&&!(z.nodeType===3&&z.nodeValue.length===1&&z.nodeValue.charCodeAt(0)===65279)){if(!t){t=o.cloneNode(W);z.parentNode.insertBefore(t,z);q.push(t)}t.appendChild(z)}else{t=0;aa(b.grep(z.childNodes),s);t=0}}aa(u,s)});if(k.wrap_links===false){aa(q,function(t){function s(u){var v,x,y;if(u.nodeName==="A"){x=o.cloneNode(W);q.push(x);y=b.grep(u.childNodes);for(v=0;v<y.length;v++){x.appendChild(y[v])}u.appendChild(x)}aa(b.grep(u.childNodes),s)}s(t)})}aa(q,function(t){var v;function s(x){var y=0;aa(x.childNodes,function(z){if(!aH(z)&&!ag(z)){y++}});return y}function u(z){var x,y;aa(z.childNodes,function(A){if(A.nodeType==1&&!ag(A)&&!aL(A)){x=A;return W}});if(x&&aF(x,k)){y=x.cloneNode(W);i(y);aK.replace(y,z,am);aK.remove(x,1)}return y||z}v=s(t);if((q.length>1||!ai(t))&&v===0){aK.remove(t,1);return}if(k.inline||k.wrapper){if(!k.exact&&v===1){t=u(t)}aa(d,function(x){aa(aK.select(x.inline,t),function(y){var z;if(x.wrap_links===false){z=y.parentNode;do{if(z.nodeName==="A"){return}}while(z=z.parentNode)}U(x,l,y,x.exact?y:null)})});if(aq(t.parentNode,g,l)){aK.remove(t,1);t=0;return am}if(k.merge_with_parents){aK.getParent(t.parentNode,function(x){if(aq(x,g,l)){aK.remove(t,1);t=0;return am}})}if(t){t=at(al(t),t);t=at(t,al(t,am))}}})}if(k){if(e){h=aK.createRng();h.setStartBefore(e);h.setEndAfter(e);j(az(h,d))}else{if(!c||!k.inline||aK.select("td.mceSelected,th.mceSelected").length){m=ax.getBookmark();j(az(ax.getRng(am),d));ax.moveToBookmark(m);ax.setRng(f(ax.getRng(am)));a.nodeChanged()}else{Y("apply",g,l)}}}}function an(g,m,d){var c=X(g),k=c[0],n,o,h;function e(x){var y=x.startContainer,r=x.startOffset,s,t,v,u;if(y.nodeType==3&&r>=y.nodeValue.length-1){y=y.parentNode;r=av(y)+1}if(y.nodeType==1){v=y.childNodes;y=v[Math.min(r,v.length-1)];s=new au(y);if(r>v.length-1){s.next()}for(t=s.current();t;t=s.next()){if(t.nodeType==3&&!aH(t)){u=aK.create("a",null,aj);t.parentNode.insertBefore(u,t);x.setStart(t,0);ax.setRng(x);aK.remove(u);return}}}}function f(r){var s,t,u;s=b.grep(r.childNodes);for(t=0,u=c.length;t<u;t++){if(U(c[t],m,r,r)){break}}if(k.deep){for(t=0,u=s.length;t<u;t++){f(s[t])}}}function q(s){var r;aa(aB(s.parentNode).reverse(),function(u){var t;if(!r&&u.id!="_start"&&u.id!="_end"){t=aq(u,g,m);if(t&&t.split!==false){r=u}}});return r}function i(y,B,v,s){var r,t,u,z,x,A;if(y){A=y.parentNode;for(r=B.parentNode;r&&r!=A;r=r.parentNode){t=r.cloneNode(W);for(x=0;x<c.length;x++){if(U(c[x],m,t,t)){t=0;break}}if(t){if(u){t.appendChild(u)}if(!z){z=t}u=t}}if(s&&(!k.mixed||!ai(y))){B=aK.split(y,B)}if(u){v.parentNode.insertBefore(u,v);z.appendChild(v)}}return B}function l(r){return i(q(r),r,r,true)}function p(r){var s=aK.get(r?"_start":"_end"),t=s[r?"firstChild":"lastChild"];if(ag(t)){t=t[r?"firstChild":"lastChild"]}aK.remove(s,true);return t}function j(t){var s,r;t=az(t,c,am);if(k.split){s=af(t,am);r=af(t);if(s!=r){s=ab(s,"span",{id:"_start","data-mce-type":"bookmark"});r=ab(r,"span",{id:"_end","data-mce-type":"bookmark"});l(s);l(r);s=p(am);r=p()}else{s=r=l(s)}t.startContainer=s.parentNode;t.startOffset=av(s);t.endContainer=r.parentNode;t.endOffset=av(r)+1}ae.walk(t,function(u){aa(u,function(v){f(v)})})}if(d){h=aK.createRng();h.setStartBefore(d);h.setEndAfter(d);j(h);return}if(!ax.isCollapsed()||!k.inline||aK.select("td.mceSelected,th.mceSelected").length){n=ax.getBookmark();j(ax.getRng(am));ax.moveToBookmark(n);if(aE(g,m,ax.getStart())){e(ax.getRng(true))}a.nodeChanged()}else{Y("remove",g,m)}}function ak(e,c,d){if(aE(e,c,d)){an(e,c,d)}else{V(e,c,d)}}function aq(h,i,c,e){var g=X(i),k,d,f;function j(n,l,r){var o,m,q=l[r],p;if(q){if(q.length===ay){for(o in q){if(q.hasOwnProperty(o)){if(r==="attributes"){m=aK.getAttrib(n,o)}else{m=ad(n,o)}if(e&&!m&&!l.exact){return}if((!e||l.exact)&&!aG(m,aw(q[o],c))){return}}}}else{for(p=0;p<q.length;p++){if(r==="attributes"?aK.getAttrib(n,q[p]):ad(n,q[p])){return l}}}}return l}if(g&&h){for(d=0;d<g.length;d++){k=g[d];if(aF(h,k)&&j(h,k,"attributes")&&j(h,k,"styles")){if(f=k.classes){for(d=0;d<f.length;d++){if(!aK.hasClass(h,f[d])){return}}}return k}}}}function aE(c,f,g){var d,h;function e(i){i=aK.getParent(i,function(j){return !!aq(j,c,f,true)});return aq(i,c,f)}if(g){return e(g)}if(ax.isCollapsed()){for(h=Z.apply.length-1;h>=0;h--){if(Z.apply[h].name==c){return true}}for(h=Z.remove.length-1;h>=0;h--){if(Z.remove[h].name==c){return false}}return e(ax.getNode())}g=ax.getNode();if(e(g)){return am}d=ax.getStart();if(d!=g){if(e(d)){return am}}return W}function ar(f,h){var i,g=[],j={},c,d,e;if(ax.isCollapsed()){for(d=0;d<f.length;d++){for(c=Z.remove.length-1;c>=0;c--){e=f[d];if(Z.remove[c].name==e){j[e]=true;break}}}for(c=Z.apply.length-1;c>=0;c--){for(d=0;d<f.length;d++){e=f[d];if(!j[e]&&Z.apply[c].name==e){j[e]=true;g.push(e)}}}}i=ax.getStart();aK.getParent(i,function(k){var l,m;for(l=0;l<f.length;l++){m=f[l];if(!j[m]&&aq(k,m,h)){j[m]=true;g.push(m)}}});return g}function ap(h){var g=X(h),i,c,f,d,e;if(g){i=ax.getStart();c=aB(i);for(d=g.length-1;d>=0;d--){e=g[d].selector;if(!e){return am}for(f=c.length-1;f>=0;f--){if(aK.is(c[f],e)){return am}}}}return W}b.extend(this,{get:X,register:aD,apply:V,remove:an,toggle:ak,match:aE,matchAll:ar,matchNode:aq,canApply:ap});function aF(d,c){if(aG(d,c.inline)){return am}if(aG(d,c.block)){return am}if(c.selector){return aK.is(d,c.selector)}}function aG(c,d){c=c||"";d=d||"";c=""+(c.nodeName||c);d=""+(d.nodeName||d);return c.toLowerCase()==d.toLowerCase()}function ad(d,e){var c=aK.getStyle(d,e);if(e=="color"||e=="backgroundColor"){c=aK.toHex(c)}if(e=="fontWeight"&&c==700){c="bold"}return""+c}function aw(d,c){if(typeof(d)!="string"){d=d(c)}else{if(c){d=d.replace(/%(\w+)/g,function(f,e){return c[e]||f})}}return d}function aH(c){return c&&c.nodeType===3&&/^([\s\r\n]+|)$/.test(c.nodeValue)}function ab(c,d,e){var f=aK.create(d,e);c.parentNode.insertBefore(f,c);f.appendChild(c);return f}function az(i,m,f){var g=i.startContainer,d=i.startOffset,j=i.endContainer,c=i.endOffset,k,n;function l(o,t,q,p){var s,r;p=p||aK.getRoot();for(;;){s=o.parentNode;if(s==p||(!m[0].block_expand&&ai(s))){return o}for(k=s[t];k&&k!=o;k=k[q]){if(k.nodeType==1&&!ag(k)){return o}if(k.nodeType==3&&!aH(k)){return o}}o=o.parentNode}return o}if(g.nodeType==1&&g.hasChildNodes()){n=g.childNodes.length-1;g=g.childNodes[d>n?n:d];if(g.nodeType==3){d=0}}if(j.nodeType==1&&j.hasChildNodes()){n=j.childNodes.length-1;j=j.childNodes[c>n?n:c-1];if(j.nodeType==3){c=j.nodeValue.length}}if(ag(g.parentNode)){g=g.parentNode}if(ag(g)){g=g.nextSibling||g}if(ag(j.parentNode)){j=j.parentNode}if(ag(j)){j=j.previousSibling||j}if(m[0].inline||m[0].block_expand){g=l(g,"firstChild","nextSibling");j=l(j,"lastChild","previousSibling")}if(m[0].selector&&m[0].expand!==W&&!m[0].inline){function e(p,q){var o,t,r,s;if(p.nodeType==3&&p.nodeValue.length==0&&p[q]){p=p[q]}o=aB(p);for(t=0;t<o.length;t++){for(r=0;r<m.length;r++){s=m[r];if("collapsed" in s&&s.collapsed!==i.collapsed){continue}if(aK.is(o[t],s.selector)){return o[t]}}}return p}g=e(g,"previousSibling");j=e(j,"nextSibling")}if(m[0].block||m[0].selector){function h(p,q,r){var o;if(!m[0].wrapper){o=aK.getParent(p,m[0].block)}if(!o){o=aK.getParent(p.nodeType==3?p.parentNode:p,ai)}if(o&&m[0].wrapper){o=aB(o,"ul,ol").reverse()[0]||o}if(!o){o=p;while(o[q]&&!ai(o[q])){o=o[q];if(aG(o,"br")){break}}}return o||p}g=h(g,"previousSibling");j=h(j,"nextSibling");if(m[0].block){if(!ai(g)){g=l(g,"firstChild","nextSibling")}if(!ai(j)){j=l(j,"lastChild","previousSibling")}}}if(g.nodeType==1){d=av(g);g=g.parentNode}if(j.nodeType==1){c=av(j)+1;j=j.parentNode}return{startContainer:g,startOffset:d,endContainer:j,endOffset:c}}function U(g,f,i,e){var c,d,h;if(!aF(i,g)){return W}if(g.remove!="all"){aa(g.styles,function(j,k){j=aw(j,f);if(typeof(k)==="number"){k=j;e=0}if(!e||aG(ad(e,k),j)){aK.setStyle(i,k,"")}h=1});if(h&&aK.getAttrib(i,"style")==""){i.removeAttribute("style");i.removeAttribute("data-mce-style")}aa(g.attributes,function(j,l){var k;j=aw(j,f);if(typeof(l)==="number"){l=j;e=0}if(!e||aG(aK.getAttrib(e,l),j)){if(l=="class"){j=aK.getAttrib(i,l);if(j){k="";aa(j.split(/\s+/),function(m){if(/mce\w+/.test(m)){k+=(k?" ":"")+m}});if(k){aK.setAttrib(i,l,k);return}}}if(l=="class"){i.removeAttribute("className")}if(aI.test(l)){i.removeAttribute("data-mce-"+l)}i.removeAttribute(l)}});aa(g.classes,function(j){j=aw(j,f);if(!e||aK.hasClass(e,j)){aK.removeClass(i,j)}});d=aK.getAttribs(i);for(c=0;c<d.length;c++){if(d[c].nodeName.indexOf("_")!==0){return W}}}if(g.remove!="none"){aA(i,g);return am}}function aA(c,g){var e=c.parentNode,d;if(g.block){if(!aC){function f(j,i,h){j=al(j,i,h);return !j||(j.nodeName=="BR"||ai(j))}if(ai(c)&&!ai(e)){if(!f(c,W)&&!f(c.firstChild,am,1)){c.insertBefore(aK.create("br"),c.firstChild)}if(!f(c,am)&&!f(c.lastChild,W,1)){c.appendChild(aK.create("br"))}}}else{if(e==aK.getRoot()){if(!g.list_block||!aG(c,g.list_block)){aa(b.grep(c.childNodes),function(h){if(aJ(aC,h.nodeName.toLowerCase())){if(!d){d=ab(h,aC)}else{d.appendChild(h)}}else{d=0}})}}}}if(g.selector&&g.inline&&!aG(g.inline,c)){return}aK.remove(c,1)}function al(d,e,c){if(d){e=e?"nextSibling":"previousSibling";for(d=c?d:d[e];d;d=d[e]){if(d.nodeType==1||!aH(d)){return d}}}}function ag(c){return c&&c.nodeType==1&&c.getAttribute("data-mce-type")=="bookmark"}function at(h,i){var e,c,d;function g(k,l){if(k.nodeName!=l.nodeName){return W}function m(o){var n={};aa(aK.getAttribs(o),function(q){var p=q.nodeName.toLowerCase();if(p.indexOf("_")!==0&&p!=="style"){n[p]=aK.getAttrib(o,p)}});return n}function j(n,o){var p,q;for(q in n){if(n.hasOwnProperty(q)){p=o[q];if(p===ay){return W}if(n[q]!=p){return W}delete o[q]}}for(q in o){if(o.hasOwnProperty(q)){return W}}return am}if(!j(m(k),m(l))){return W}if(!j(aK.parseStyle(aK.getAttrib(k,"style")),aK.parseStyle(aK.getAttrib(l,"style")))){return W}return am}if(h&&i){function f(j,k){for(c=j;c;c=c[k]){if(c.nodeType==3&&c.nodeValue.length!==0){return j}if(c.nodeType==1&&!ag(c)){return c}}return j}h=f(h,"previousSibling");i=f(i,"nextSibling");if(g(h,i)){for(c=h.nextSibling;c&&c!=i;){d=c;c=c.nextSibling;h.appendChild(d)}aK.remove(i);aa(b.grep(i.childNodes),function(j){h.appendChild(j)});return h}}return i}function ah(c){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(c)}function af(d,f){var e,g,c;e=d[f?"startContainer":"endContainer"];g=d[f?"startOffset":"endOffset"];if(e.nodeType==1){c=e.childNodes.length-1;if(!f&&g){g--}e=e.childNodes[g>c?c:g]}return e}function Y(d,h,e){var g,i=Z[d],c=Z[d=="apply"?"remove":"apply"];function k(){return Z.apply.length||Z.remove.length}function f(){Z.apply=[];Z.remove=[]}function j(l){aa(Z.apply.reverse(),function(m){V(m.name,m.vars,l)});aa(Z.remove.reverse(),function(m){an(m.name,m.vars,l)});aK.remove(l,1);f()}for(g=i.length-1;g>=0;g--){if(i[g].name==h){return}}i.push({name:h,vars:e});for(g=c.length-1;g>=0;g--){if(c[g].name==h){c.splice(g,1)}}if(k()){a.getDoc().execCommand("FontName",false,"mceinline");Z.lastRng=ax.getRng();aa(aK.select("font,span"),function(l){var m;if(aL(l)){m=ax.getBookmark();j(l);ax.moveToBookmark(m);a.nodeChanged()}});if(!Z.isListening&&k()){Z.isListening=true;aa("onKeyDown,onKeyUp,onKeyPress,onMouseUp".split(","),function(l){a[l].addToTop(function(n,m){if(k()&&!b.dom.RangeUtils.compareRanges(Z.lastRng,ax.getRng())){aa(aK.select("font,span"),function(p){var o,q;if(aL(p)){o=p.firstChild;if(o){j(p);q=aK.createRng();q.setStart(o,o.nodeValue.length);q.setEnd(o,o.nodeValue.length);ax.setRng(q);n.nodeChanged()}else{aK.remove(p)}}});if(m.type=="keyup"||m.type=="mouseup"){f()}}})})}}}}})(tinymce);tinymce.onAddEditor.add(function(n,j){var o,k,l,p=j.settings;if(p.inline_styles){k=n.explode(p.font_size_style_values);function i(a,b){n.each(b,function(c,d){if(c){l.setStyle(a,d,c)}});l.rename(a,"span")}o={font:function(a,b){i(b,{backgroundColor:b.style.backgroundColor,color:b.color,fontFamily:b.face,fontSize:k[parseInt(b.size)-1]})},u:function(a,b){i(b,{textDecoration:"underline"})},strike:function(a,b){i(b,{textDecoration:"line-through"})}};function m(b,a){l=b.dom;if(p.convert_fonts_to_spans){n.each(l.select("font,u,strike",a.node),function(c){o[c.nodeName.toLowerCase()](j.dom,c)})}}j.onPreProcess.add(m);j.onSetContent.add(m);j.onInit.add(function(){j.selection.onSetContent.add(m)})}});