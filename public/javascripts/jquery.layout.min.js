(function(g){g.fn.layout=function(n){function ha(b){if(!b)return true;var c=b.keyCode;if(c<33)return true;var d={38:"north",40:"south",37:"west",39:"east"},e=c>=37&&c<=40,f=b.shiftKey,h=b.ctrlKey,u=false,j,l,k;if(!h&&!f)return true;else e&&p[d[c]].enableCursorHotkey?u=d[c]:g.each(i.borderPanes.split(","),function(b,d){j=p[d];l=j.customHotkey;k=j.customHotkeyModifier;if(f&&k=="SHIFT"||h&&k=="CTRL"||h&&f)if(l&&c==(isNaN(l)||l<=9?l.toUpperCase().charCodeAt(0):l))return u=d,false});if(!u)return true;
j=p[u];d=s[u];if(!j.enableCursorHotkey||d.isHidden||!r[u])return true;if((d=b.target||b.srcElement)&&f&&e&&(d.tagName=="TEXTAREA"||d.tagName=="INPUT"&&(c==37||c==39)))return true;M(u);b.stopPropagation();return b.returnValue=false}function Z(b){this&&this.tagName&&(b=this);b=typeof b=="string"?r[b]:g(b).attr("pane")?g(b):g(b).parents("div[pane]:first");if(b.length){var c=b.attr("pane"),d=s[c];d.cssSaved&&N(c);if(d.isSliding||d.isResizing||d.isClosed)d.cssSaved=false;else{var e={zIndex:i.zIndex.pane_normal+
1},f={},h=b.css("overflow"),u=b.css("overflowX"),j=b.css("overflowY");if(h!="visible")f.overflow=h,e.overflow="visible";if(u&&u!="visible"&&u!="auto")f.overflowX=u,e.overflowX="visible";if(j&&j!="visible"&&j!="auto")f.overflowY=u,e.overflowY="visible";d.cssSaved=f;b.css(e);g.each(i.allPanes.split(","),function(b,d){d!=c&&N(d)})}}}function N(b){this&&this.tagName&&(b=this);b=typeof b=="string"?r[b]:g(b).hasClass("ui-layout-pane")?g(b):g(b).parents("div[pane]:first");if(b.length){var c=b.attr("pane"),
c=s[c],d=c.cssSaved||{};!c.isSliding&&!c.isResizing&&b.css("zIndex",i.zIndex.pane_normal);b.css(d);c.cssSaved=false}}function O(b,c,d){var e=g(b);if(e.length)if(i.borderPanes.indexOf(c)==-1)alert("Error Adding Button \n\nInvalid pane: "+c);else return b=p[c].buttonClass+"-"+d,e.addClass(b+" "+b+"-"+c),e;else alert("Error Adding Button \n\nInvalid selector: "+b);return false}function $(b,c){g.each(i[b].pins,function(d,e){T(g(e),b,c)})}function T(b,c,d){var e=b.attr("pin");if(!(e&&d==(e=="down"))){var f=
p[c].buttonClass+"-pin",h=f+"-"+c,c=f+"-up",e=h+"-up";f+="-down";h+="-down";b.attr("pin",d?"down":"up").attr("title",d?"Un-Pin":"Pin").removeClass(d?c:f).removeClass(d?e:h).addClass(d?f:c).addClass(d?h:e)}}var p={name:"",scrollToBookmarkOnLoad:true,defaults:{applyDefaultStyles:false,closable:true,resizable:true,slidable:true,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",
resizerDragOpacity:1,maskIframesOnResize:true,minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerTip_open:"Close",togglerTip_closed:"Open",resizerTip:"Resize",sliderTip:"Slide Open",sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseout",hideTogglerOnSlide:false,togglerContent_open:"",togglerContent_closed:"",showOverflowOnHover:false,enableCursorHotkey:true,customHotkeyModifier:"SHIFT",
fxName:"slide",fxSpeed:null,fxSettings:{},initClosed:false,initHidden:false},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize"},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize"},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize"},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize"},center:{paneSelector:".ui-layout-center"}},U={slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},
west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}}},s={id:Math.floor(Math.random()*1E4),container:{},north:{},south:{},east:{},west:{},center:{}},aa={north:"south",south:"north",east:"west",west:"east"},H=function(b){if(typeof b=="string")return true;else if(typeof b=="object")try{return b.constructor.toString().match(/string/i)!==null}catch(c){}return false},x=function(b){return typeof b==
"string"||H(b)?g.trim(b):b},t=function(b,c){return Math.max(b,c)},ia=function(b){var c={defaults:{fxSettings:{}},north:{fxSettings:{}},south:{fxSettings:{}},east:{fxSettings:{}},west:{fxSettings:{}},center:{fxSettings:{}}},b=b||{};b.effects||b.defaults||b.north||b.south||b.west||b.east||b.center?c=g.extend(c,b):g.each(b,function(b,e){a=b.split("__");c[a[1]?a[0]:"defaults"][a[1]?a[1]:a[0]]=e});return c},ba=function(b,c,d){function e(b){h=i[b];h.doCallback?(cpPane=h.callback.split(",")[1],cpPane!=b&&
cpPane!=c&&e(cpPane,true)):(h.doCallback=true,h.callback=f)}var f=b+","+c+","+(d?1:0),h;g.each(i.borderPanes.split(","),function(b,c){if(i[c].isMoving)return e(c),false})},ca=function(b){b=i[b];i.isLayoutBusy=false;delete b.isMoving;if(b.doCallback&&b.callback){b.doCallback=false;var c=b.callback.split(","),d=c[2]>0?true:false;c[0]=="open"?C(c[1],d):c[0]=="close"&&D(c[1],d);if(!b.doCallback)b.callback=null}},y=function(b,c){if(c){var d;try{if(typeof c=="function")d=c;else if(typeof c!="string")return;
else if(c.indexOf(",")>0){var e=c.split(",");d=eval(e[0]);if(typeof d=="function"&&e.length>1)return d(e[1])}else d=eval(c);if(typeof d=="function")return d(b,r[b],g.extend({},s[b]),g.extend({},p[b]),p.name)}catch(f){}}},w=function(b,c){var d=0,e=false,f="";!g.browser.msie&&g.curCSS(b[0],"display",true)=="none"&&(e=true,f=g.curCSS(b[0],"visibility",true),b.css({display:"block",visibility:"hidden"}));d=parseInt(g.curCSS(b[0],c,true),10)||0;e&&(b.css({display:"none"}),f&&f!="hidden"&&b.css({visibility:f}));
return d},E=function(b,c){var d;H(b)?(b=x(b),d=r[b]):d=g(b);if(c<=0)return 0;else c>0||(c=H(b)?F(b):d.outerWidth());return g.boxModel?c-w(d,"paddingLeft")-w(d,"paddingRight")-(g.curCSS(d[0],"borderLeftStyle",true)=="none"?0:w(d,"borderLeftWidth"))-(g.curCSS(d[0],"borderRightStyle",true)=="none"?0:w(d,"borderRightWidth")):c},z=function(b,c){var d;H(b)?(b=x(b),d=r[b]):d=g(b);if(c<=0)return 0;else c>0||(c=H(b)?F(b):d.outerHeight());return g.boxModel?c-w(d,"paddingTop")-w(d,"paddingBottom")-(g.curCSS(d[0],
"borderTopStyle",true)=="none"?0:w(d,"borderTopWidth"))-(g.curCSS(d[0],"borderBottomStyle",true)=="none"?0:w(d,"borderBottomWidth")):c},F=function(b,c){var d=r[b],e=p[b],f=s[b],h=c?e.spacing_open:0,e=c?e.spacing_closed:0;return!d||f.isHidden?0:f.isClosed||f.isSliding&&c?e:i[b].dir=="horz"?d.outerHeight()+h:d.outerWidth()+h},P=function(b){var c=q,d=i[b].dir,e=s[b],f=r[aa[b]],h=p[b].spacing_open,u=p[aa[b]].spacing_open,j=!f?0:d=="horz"?f.outerHeight():f.outerWidth(),f=e.minSize||0,d=Math.min(e.maxSize||
9999,(d=="horz"?c.innerHeight:c.innerWidth)-h-j-u),l,k;switch(b){case "north":l=c.offsetTop+f;k=c.offsetTop+d;break;case "west":l=c.offsetLeft+f;k=c.offsetLeft+d;break;case "south":l=c.offsetTop+c.innerHeight-d;k=c.offsetTop+c.innerHeight-f;break;case "east":l=c.offsetLeft+c.innerWidth-d,k=c.offsetLeft+c.innerWidth-f}g.extend(e,{minSize:f,maxSize:d,minPosition:l,maxPosition:k})},da=function(){var b={top:F("north",true),bottom:F("south",true),left:F("west",true),right:F("east",true),width:0,height:0};
b.width=q.innerWidth-left-right;b.height=q.innerHeight-bottom-top;b.top+=q.top;b.bottom+=q.bottom;b.left+=q.left;b.right+=q.right;return b},ea=function(b){var c={},d,e,f;g.each("Left,Right,Top,Bottom".split(","),function(){d=x(this);e=c["border"+d]=w(b,"border"+d+"Width");f=c["padding"+d]=w(b,"padding"+d);c["offset"+d]=e+f;b==v&&(c[d.toLowerCase()]=g.boxModel?f:0)});c.innerWidth=c.outerWidth=b.outerWidth();c.innerHeight=c.outerHeight=b.outerHeight();g.boxModel&&(c.innerWidth-=c.offsetLeft+c.offsetRight,
c.innerHeight-=c.offsetTop+c.offsetBottom);return c},ja=function(b,c,d,e){var f=window.layout=window.layout||{},f=f.timers=f.timers||{},b="layout_"+s.id+"_"+b+"_"+c;f[b]||(f[b]=setTimeout(d,e))},Q=function(b,c){var d=window.layout=window.layout||{},d=d.timers=d.timers||{},e="layout_"+s.id+"_"+b+"_"+c;return d[e]?(clearTimeout(d[e]),delete d[e],true):false},ka=function(){try{if(v[0].tagName=="BODY")g("html").css({height:"100%",overflow:"hidden"}),g("body").css({position:"relative",height:"100%",overflow:"hidden",
margin:0,padding:0,border:"none"});else{var b={overflow:"hidden"},c=v.css("position"),d=v.css("height");if(!v.hasClass("ui-layout-pane")){if(!c||"fixed,absolute,relative".indexOf(c)<0)b.position="relative";if(!d||d=="auto")b.height="100%"}v.css(b)}}catch(e){}q=s.container=ea(v)},la=function(){g.each(i.borderPanes.split(","),function(b,c){var d=p[c];if(d.enableCursorHotkey||d.customHotkey)return g(document).keydown(ha),false})},ma=function(){n=ia(n);n.effects&&(g.extend(U,n.effects),delete n.effects);
g.each("name,scrollToBookmarkOnLoad".split(","),function(b,c){n[c]!==void 0?p[c]=n[c]:n.defaults[c]!==void 0&&(p[c]=n.defaults[c],delete n.defaults[c])});g.each("paneSelector,resizerCursor,customHotkey".split(","),function(b,c){delete n.defaults[c]});g.extend(p.defaults,n.defaults);i.center=g.extend(true,{},i.defaults,i.center);g.extend(p.center,n.center);var b=g.extend(true,{},p.defaults,n.defaults,p.center);g.each("paneClass,contentSelector,contentIgnoreSelector,applyDefaultStyles,showOverflowOnHover".split(","),
function(c,e){p.center[e]=b[e]});var c=p.defaults;g.each(i.borderPanes.split(","),function(b,e){i[e]=g.extend(true,{},i.defaults,i[e]);o=p[e]=g.extend(true,{},p.defaults,p[e],n.defaults,n[e]);if(!o.paneClass)o.paneClass="ui-layout-pane";if(!o.resizerClass)o.resizerClass="ui-layout-resizer";if(!o.togglerClass)o.togglerClass="ui-layout-toggler";g.each(["_open","_close",""],function(b,d){var i="fxName"+d,j="fxSpeed"+d,l="fxSettings"+d;o[i]=n[e][i]||n[e].fxName||n.defaults[i]||n.defaults.fxName||o[i]||
o.fxName||c[i]||c.fxName||"none";var k=o[i];if(k=="none"||!g.effects||!g.effects[k]||!U[k]&&!o[l]&&!o.fxSettings)k=o[i]="none";k=U[k]||{};i=k.all||{};k=k[e]||{};o[l]=g.extend({},i,k,c.fxSettings||{},c[l]||{},o.fxSettings,o[l],n.defaults.fxSettings,n.defaults[l]||{},n[e].fxSettings,n[e][l]||{});o[j]=n[e][j]||n[e].fxSpeed||n.defaults[j]||n.defaults.fxSpeed||o[j]||o[l].duration||o.fxSpeed||o.fxSettings.duration||c.fxSpeed||c.fxSettings.duration||k.duration||i.duration||"normal"})})},na=function(){g.each(i.allPanes.split(","),
function(){var b=x(this),c=p[b],d=s[b],e=i[b].dir,f=c.size=="auto"||isNaN(c.size)?0:c.size,h=c.minSize||1,u=c.maxSize||9999,j=c.spacing_open||0,l=c.paneSelector,k={},m;I[b]=false;l.substr(0,1)==="#"?m=r[b]=v.find(l+":first"):(m=r[b]=v.children(l+":first"),m.length||(m=r[b]=v.children("form:first").children(l+":first")));if(!m.length)return r[b]=false,true;m.attr("pane",b).addClass(c.paneClass+" "+c.paneClass+"-"+b);if(b!="center")d.isClosed=false,d.isSliding=false,d.isResizing=false,d.isHidden=false,
d.noRoom=false,i[b].pins=[];k=g.extend({visibility:"visible",display:"block"},i.defaults.cssReq,i[b].cssReq);c.applyDefaultStyles&&g.extend(k,i.defaults.cssDef,i[b].cssDef);m.css(k);k={};switch(b){case "north":k.top=q.top;k.left=q.left;k.right=q.right;break;case "south":k.bottom=q.bottom;k.left=q.left;k.right=q.right;break;case "west":k.left=q.left;break;case "east":k.right=q.right}if(e=="horz"){if(f===0||f=="auto")m.css({height:"auto"}),f=m.outerHeight();f=t(f,h);f=Math.min(f,u);f=Math.min(f,q.innerHeight-
j);k.height=t(1,z(b,f));d.size=f;d.maxSize=u;d.minSize=t(h,f-k.height+1);m.css(k)}else if(e=="vert"){if(f===0||f=="auto")m.css({width:"auto","float":"left"}),f=m.outerWidth(),m.css({"float":"none"});f=t(f,h);f=Math.min(f,u);f=Math.min(f,q.innerWidth-j);k.width=t(1,E(b,f));d.size=f;d.maxSize=u;d.minSize=t(h,f-k.width+1);m.css(k);G(b,null,true)}else b=="center"&&(m.css(k),G("center",null,true));c.initClosed&&c.closable?(m.hide().addClass("closed"),d.isClosed=true):c.initHidden||c.initClosed?(V(b,true),
d.isHidden=true):m.addClass("open");c.showOverflowOnHover&&m.hover(Z,N);if(c.contentSelector){d=I[b]=m.children(c.contentSelector+":first");if(!d.length)return I[b]=false,true;d.css(i.content.cssReq);c.applyDefaultStyles&&d.css(i.content.cssDef);m.css({overflow:"hidden"})}})},oa=function(){g.each(i.borderPanes.split(","),function(){var b=x(this),c=p[b],d=s[b],e=c.resizerClass,f=c.togglerClass,h=r[b];A[b]=false;J[b]=false;if(h&&(c.closable||c.resizable)){var u=i[b].edge,h=h.is(":visible"),j="-"+b,
l=h?"-open":"-closed",k;k=A[b]=g("<span></span>");(!h||!c.resizable)&&!h&&c.slidable&&k.attr("title",c.sliderTip).css("cursor",c.sliderCursor);k.attr("id",c.paneSelector.substr(0,1)=="#"?c.paneSelector.substr(1)+"-resizer":"").attr("resizer",b).css(i.resizers.cssReq).css(u,q[u]+F(b)).addClass(e+" "+e+j+" "+e+l+" "+e+j+l).appendTo(v);c.applyDefaultStyles&&k.css(i.resizers.cssDef);c.closable&&(e=J[b]=g("<div></div>"),e.attr("id",c.paneSelector.substr(0,1)=="#"?c.paneSelector.substr(1)+"-toggler":"").css(i.togglers.cssReq).attr("title",
h?c.togglerTip_open:c.togglerTip_closed).click(function(c){M(b);c.stopPropagation()}).mouseover(function(b){b.stopPropagation()}).addClass(f+" "+f+j+" "+f+l+" "+f+j+l).appendTo(k),c.togglerContent_open&&g("<span>"+c.togglerContent_open+"</span>").addClass("content content-open").css("display",d.isClosed?"none":"block").appendTo(e),c.togglerContent_closed&&g("<span>"+c.togglerContent_closed+"</span>").addClass("content content-closed").css("display",d.isClosed?"block":"none").appendTo(e),c.applyDefaultStyles&&
e.css(i.togglers.cssDef),h||W(b,true))}});K("all",true)},pa=function(){var b=typeof g.fn.draggable=="function",c;g.each(i.borderPanes.split(","),function(){var d=x(this),e=p[d],f=s[d];if(!b||!r[d]||!e.resizable)return e.resizable=false,true;var h=e.resizerClass,u=h+"-drag",j=h+"-"+d+"-drag",l=h+"-dragging",k=h+"-"+d+"-dragging",m=false,B=A[d];f.isClosed||B.attr("title",e.resizerTip).css("cursor",e.resizerCursor);B.draggable({containment:v[0],axis:i[d].dir=="horz"?"y":"x",delay:200,distance:1,helper:"clone",
opacity:e.resizerDragOpacity,zIndex:i.zIndex.resizing,start:function(){if(false===y(d,e.onresize_start))return false;f.isResizing=true;Q(d,"closeSlider");B.addClass(u+" "+j);m=false;var b=d=="east"||d=="south"?e.spacing_open:0;P(d);f.minPosition-=b;f.maxPosition-=b;c=i[d].dir=="horz"?"top":"left";g(e.maskIframesOnResize===true?"iframe":e.maskIframesOnResize).each(function(){g('<div class="ui-layout-mask"/>').css({background:"#fff",opacity:"0.001",zIndex:9,position:"absolute",width:this.offsetWidth+
"px",height:this.offsetHeight+"px"}).css(g(this).offset()).appendTo(this.parentNode)})},drag:function(b,e){m||(g(".ui-draggable-dragging").addClass(l+" "+k).children().css("visibility","hidden"),m=true,f.isSliding&&r[d].css("zIndex",i.zIndex.sliding));if(e.position[c]<f.minPosition)e.position[c]=f.minPosition;else if(e.position[c]>f.maxPosition)e.position[c]=f.maxPosition},stop:function(b,c){var e=c.position,h;B.removeClass(u+" "+j);switch(d){case "north":h=e.top;break;case "west":h=e.left;break;
case "south":h=q.outerHeight-e.top-B.outerHeight();break;case "east":h=q.outerWidth-e.left-B.outerWidth()}X(d,h-q[i[d].edge]);g("div.ui-layout-mask").remove();f.isResizing=false}})})},V=function(b,c){var d=p[b],e=s[b],f=r[b],h=A[b];if(f&&!e.isHidden&&false!==y(b,d.onhide_start))e.isSliding=false,h&&h.hide(),c||e.isClosed?(e.isClosed=true,e.isHidden=true,f.hide(),G(i[b].dir=="horz"?"all":"center"),y(b,d.onhide_end||d.onhide)):(e.isHiding=true,D(b,false))},R=function(b,c){var d=p[b],e=s[b],f=A[b];if(r[b]&&
e.isHidden&&false!==y(b,d.onshow_start))e.isSliding=false,e.isShowing=true,f&&d.spacing_open>0&&f.show(),c===false?D(b,true):C(b)},M=function(b){var c=s[b];c.isHidden?R(b):c.isClosed?C(b):D(b)},D=function(b,c,d){function e(){W(b,true);t||y(b,j.onclose_end||j.onclose);t&&y(b,j.onshow_end||j.onshow);v&&y(b,j.onhide_end||j.onhide);ca(b)}var f=r[b],h=A[b],g=J[b],j=p[b],l=s[b],d=!d&&!l.isClosed&&j.fxName_close!="none",k=i[b].edge,m=j.resizerClass,B=j.togglerClass,n="-"+b,t=l.isShowing,v=l.isHiding;delete l.isShowing;
delete l.isHiding;if(f&&(j.resizable||j.closable)&&(c||!l.isClosed||t))if(i.isLayoutBusy)ba("close",b,c);else if(t||false!==y(b,j.onclose_start)){i[b].isMoving=true;i.isLayoutBusy=true;l.isClosed=true;if(v)l.isHidden=true;else if(t)l.isHidden=false;$(b,false);l.isSliding||G(i[b].dir=="horz"?"all":"center");h&&(h.css(k,q[k]).removeClass(m+"-open "+m+n+"-open").removeClass(m+"-sliding "+m+n+"-sliding").addClass(m+"-closed "+m+n+"-closed"),j.resizable&&h.draggable("disable").css("cursor","default").attr("title",
""),g&&g.removeClass(B+"-open "+B+n+"-open").addClass(B+"-closed "+B+n+"-closed").attr("title",j.togglerTip_closed),K());d?(S(b,true),f.hide(j.fxName_close,j.fxSettings_close,j.fxSpeed_close,function(){S(b,false);l.isClosed&&e()})):(f.hide(),e())}},C=function(b,c,d){function e(){l.isSliding||G(i[b].dir=="vert"?"center":"all");h&&(h.css(k,q[k]+F(b)).removeClass(m+x+" "+m+v+x).addClass(m+w+" "+m+v+w).addClass(!l.isSliding?"":m+D+" "+m+v+D),j.resizable?h.draggable("enable").css("cursor",j.resizerCursor).attr("title",
j.resizerTip):h.css("cursor","default"),g&&g.removeClass(n+x+" "+n+v+x).addClass(n+w+" "+n+v+w).attr("title",j.togglerTip_open),K("all"));L(b);$(b,!l.isSliding);y(b,j.onopen_end||j.onopen);C&&y(b,j.onshow_end||j.onshow);ca(b)}var f=r[b],h=A[b],g=J[b],j=p[b],l=s[b],d=!d&&l.isClosed&&j.fxName_open!="none",k=i[b].edge,m=j.resizerClass,n=j.togglerClass,v="-"+b,w="-open",x="-closed",D="-sliding",C=l.isShowing;delete l.isShowing;if(f&&(j.resizable||j.closable)&&(l.isClosed||l.isSliding))if(l.isHidden&&
!C)R(b,true);else if(i.isLayoutBusy)ba("open",b,c);else if(false!==y(b,j.onopen_start)){i[b].isMoving=true;i.isLayoutBusy=true;l.isSliding&&!c&&Y(b,false);l.isClosed=false;if(C)l.isHidden=false;P(b);l.size>l.maxSize&&f.css(i[b].sizeType,t(1,i[b].dir=="horz"?z(b,l.maxSize):E(b,l.maxSize)));W(b,false);d?(S(b,true),f.show(j.fxName_open,j.fxSettings_open,j.fxSpeed_open,function(){S(b,false);l.isClosed||e()})):(f.show(),e())}},S=function(b,c){var d=r[b];c?(d.css({zIndex:i.zIndex.animation}),b=="south"?
d.css({top:q.top+q.innerHeight-d.outerHeight()}):b=="east"&&d.css({left:q.left+q.innerWidth-d.outerWidth()})):(s[b].isSliding||d.css({zIndex:i.zIndex.pane_normal}),b=="south"?d.css({top:"auto"}):b=="east"&&d.css({left:"auto"}))},W=function(b,c){var d=p[b],e=A[b],f=d.slideTrigger_open;e&&d.slidable&&(f!="click"&&f!="dblclick"&&f!="mouseover"&&(f="click"),e[c?"bind":"unbind"](f,qa).css("cursor",c?d.sliderCursor:"default").attr("title",c?d.sliderTip:""))},Y=function(b,c){function d(c){Q(b,"closeSlider");
c.stopPropagation()}var e=p[b].slideTrigger_close,f=r[b],h=A[b];s[b].isSliding=c;Q(b,"closeSlider");f.css({zIndex:c?i.zIndex.sliding:i.zIndex.pane_normal});h.css({zIndex:c?i.zIndex.sliding:i.zIndex.resizer_normal});e!="click"&&e!="mouseout"&&(e="mouseout");c?(f.bind(e,fa),h.bind(e,fa),e="mouseout",f.bind("mouseover",d),h.bind("mouseover",d)):(f.unbind(e),h.unbind(e),e="mouseout",f.unbind("mouseover"),h.unbind("mouseover"),Q(b,"closeSlider"))},qa=function(){var b=g(this).attr("resizer");s[b].isClosed&&
(Y(b,true),C(b,true))},fa=function(){function b(){Y(d,false);e.isClosed||D(d)}var c=g(this),d=c.attr("pane")||c.attr("resizer"),c=p[d],e=s[d];!e.isClosed&&!e.isResizing&&(c.slideTrigger_close=="click"?b():ja(d,"closeSlider",b,300))},X=function(b,c){var d=i[b].edge,e=i[b].dir,f=p[b],h=s[b],g=r[b],j=A[b];P(b);h.minSize=t(h.minSize,f.minSize);if(f.maxSize>0)h.maxSize=Math.min(h.maxSize,f.maxSize);c=t(c,h.minSize);c=Math.min(c,h.maxSize);h.size=c;j.css(d,c+q[d]);g.css(i[b].sizeType,t(1,i[b].dir=="horz"?
z(b,c):E(b,c)));h.isSliding||G(e=="horz"?"all":"center");K();L(b);y(b,f.onresize_end||f.onresize)},G=function(b,c,d){if(!b||b=="all")b="east,west,center";var e=da();c&&g.extend(e,c);g.each(b.split(","),function(){if(r[this]){var b=x(this),c=p[b],i=s[b],j=r[b],l=A[b],k=true,m={};if(b=="center"){if(e=da(),m=g.extend({},e),m.width=t(1,E(b,m.width)),m.height=t(1,z(b,m.height)),k=m.width>1&&m.height>1,g.browser.msie&&(!g.boxModel||g.browser.version<7))r.north&&r.north.css({width:E(r.north,q.innerWidth)}),
r.south&&r.south.css({width:E(r.south,q.innerWidth)})}else m.top=e.top,m.bottom=e.bottom,m.height=t(1,z(b,e.height)),k=m.height>1;if(k){j.css(m);if(i.noRoom)if(i.noRoom=false,i.isHidden)return;else R(b,!i.isClosed);d||(L(b),y(b,c.onresize_end||c.onresize))}else if(!i.noRoom)i.noRoom=true,i.isHidden||(d?(j.hide(),l&&l.hide()):V(b))}})},L=function(b){if(!b||b=="all")b=i.allPanes;g.each(b.split(","),function(){if(I[this]){var b=x(this),d=p[b].contentIgnoreSelector,e=r[b],b=I[b],f=b[0],h=z(e);e.children().each(function(){if(this!=
f){var b=g(this);if(!d||!b.is(d))h-=b.outerHeight()}});h>0&&(h=z(b,h));h<1?b.hide():b.css({height:h}).show()}})},K=function(b,c){if(!b||b=="all")b=i.borderPanes;g.each(b.split(","),function(){var b=x(this),e=p[b],f=s[b],h=r[b],g=A[b],j=J[b];if(h&&g&&(e.resizable||e.closable)){var l=i[b].dir,k=f.isClosed?"_closed":"_open",b=e["spacing"+k],m=e["togglerAlign"+k],k=e["togglerLength"+k],n;if(b==0)g.hide();else{!f.noRoom&&!f.isHidden&&g.show();l=="horz"?(n=h.outerWidth(),g.css({width:t(1,E(g,n)),height:t(1,
z(g,b)),left:w(h,"left")})):(n=h.outerHeight(),g.css({height:t(1,z(g,n)),width:t(1,E(g,b)),top:q.top+F("north",true)}));if(j){if(k==0||f.isSliding&&e.hideTogglerOnSlide){j.hide();return}else j.show();if(!(k>0)||k=="100%"||k>n)k=n,h=0;else if(typeof m=="string")switch(m){case "top":case "left":h=0;break;case "bottom":case "right":h=n-k;break;default:h=Math.floor((n-k)/2)}else h=parseInt(m),h=m>=0?h:n-k+h;n=e.togglerContent_open?j.children(".content-open"):false;var v=e.togglerContent_closed?j.children(".content-closed"):
false,m=f.isClosed?v:n;n&&n.css("display",f.isClosed?"none":"block");v&&v.css("display",f.isClosed?"block":"none");l=="horz"?(f=E(j,k),j.css({width:t(0,f),height:t(1,z(j,b)),left:h}),m&&m.css("marginLeft",Math.floor((f-m.outerWidth())/2))):(f=z(j,k),j.css({height:t(0,f),width:t(1,E(j,b)),top:h}),m&&m.css("marginTop",Math.floor((f-m.outerHeight())/2)))}c&&e.initHidden&&(g.hide(),j&&j.hide())}}})},ga=function(){var b=q.innerWidth,c=q.innerHeight;q=s.container=ea(v);var d=q.innerHeight<c,e=q.innerWidth<
b,f,h;(d||e)&&g.each(["south","north","east","west"],function(b,c){f=s[c];h=i[c].dir;if(!f.isClosed&&(d&&h=="horz"||e&&h=="vert"))P(c),f.size>f.maxSize&&X(c,f.maxSize)});G("all");K("all")},v=g(this).css({overflow:"hidden"}),r={},I={},A={},J={},i={allPanes:"north,south,east,west,center",borderPanes:"north,south,east,west",zIndex:{resizer_normal:1,pane_normal:2,mask:4,sliding:100,resizing:1E4,animation:1E4},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden",
zIndex:1},cssDef:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDef:{background:"#AAA"}},content:{cssReq:{overflow:"auto"},cssDef:{}},defaults:{cssReq:{position:"absolute",margin:0,zIndex:2},cssDef:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{edge:"top",sizeType:"height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,
width:"auto"}},south:{edge:"bottom",sizeType:"height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{edge:"right",sizeType:"width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{edge:"left",sizeType:"width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},q=s.container;(function(){ma();ka();na();
oa();pa();L("all");p.scrollToBookmarkOnLoad&&self.location.hash&&replace(self.location.hash);la();g(window).resize(function(){var b="timerLayout_"+s.id;window[b]&&clearTimeout(window[b]);window[b]=null;window[b]=setTimeout(ga,100)})})();return{options:p,state:s,panes:r,toggle:M,open:C,close:D,hide:V,show:R,resizeContent:L,sizePane:X,resizeAll:ga,addToggleBtn:function(b,c){var d=O(b,c,"toggle");d&&d.attr("title",s[c].isClosed?"Open":"Close").click(function(b){M(c);b.stopPropagation()})},addOpenBtn:function(b,
c){var d=O(b,c,"open");d&&d.attr("title","Open").click(function(b){C(c);b.stopPropagation()})},addCloseBtn:function(b,c){var d=O(b,c,"close");d&&d.attr("title","Close").click(function(b){D(c);b.stopPropagation()})},addPinBtn:function(b,c){var d=O(b,c,"pin");if(d){var e=s[c];d.click(function(b){T(g(this),c,e.isSliding||e.isClosed);e.isSliding||e.isClosed?C(c):D(c);b.stopPropagation()});T(d,c,!e.isClosed&&!e.isSliding);i[c].pins.push(b)}},allowOverflow:Z,resetOverflow:N,cssWidth:E,cssHeight:z}}})(jQuery);
