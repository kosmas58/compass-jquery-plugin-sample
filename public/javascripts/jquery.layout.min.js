(function(g){g.fn.layout=function(n){function ha(b){if(!b)return!0;var c=b.keyCode;if(33>c)return!0;var d={38:"north",40:"south",37:"west",39:"east"},e=37<=c&&40>=c,f=b.shiftKey,h=b.ctrlKey,u=!1,j,l,k;if(!h&&!f)return!0;e&&p[d[c]].enableCursorHotkey?u=d[c]:g.each(i.borderPanes.split(","),function(b,d){j=p[d];l=j.customHotkey;k=j.customHotkeyModifier;if(f&&"SHIFT"==k||h&&"CTRL"==k||h&&f)if(l&&c==(isNaN(l)||9>=l?l.toUpperCase().charCodeAt(0):l))return u=d,!1});if(!u)return!0;j=p[u];d=s[u];if(!j.enableCursorHotkey||
d.isHidden||!r[u]||(d=b.target||b.srcElement)&&f&&e&&("TEXTAREA"==d.tagName||"INPUT"==d.tagName&&(37==c||39==c)))return!0;M(u);b.stopPropagation();return b.returnValue=!1}function Z(b){this&&this.tagName&&(b=this);b="string"==typeof b?r[b]:g(b).attr("pane")?g(b):g(b).parents("div[pane]:first");if(b.length){var c=b.attr("pane"),d=s[c];d.cssSaved&&N(c);if(d.isSliding||d.isResizing||d.isClosed)d.cssSaved=!1;else{var e={zIndex:i.zIndex.pane_normal+1},f={},h=b.css("overflow"),u=b.css("overflowX"),j=b.css("overflowY");
if("visible"!=h)f.overflow=h,e.overflow="visible";if(u&&"visible"!=u&&"auto"!=u)f.overflowX=u,e.overflowX="visible";if(j&&"visible"!=j&&"auto"!=j)f.overflowY=u,e.overflowY="visible";d.cssSaved=f;b.css(e);g.each(i.allPanes.split(","),function(b,d){d!=c&&N(d)})}}}function N(b){this&&this.tagName&&(b=this);b="string"==typeof b?r[b]:g(b).hasClass("ui-layout-pane")?g(b):g(b).parents("div[pane]:first");if(b.length){var c=b.attr("pane"),c=s[c],d=c.cssSaved||{};!c.isSliding&&!c.isResizing&&b.css("zIndex",
i.zIndex.pane_normal);b.css(d);c.cssSaved=!1}}function O(b,c,d){var e=g(b);if(e.length)if(-1==i.borderPanes.indexOf(c))alert("Error Adding Button \n\nInvalid pane: "+c);else return b=p[c].buttonClass+"-"+d,e.addClass(b+" "+b+"-"+c),e;else alert("Error Adding Button \n\nInvalid selector: "+b);return!1}function $(b,c){g.each(i[b].pins,function(d,e){T(g(e),b,c)})}function T(b,c,d){var e=b.attr("pin");if(!(e&&d==("down"==e))){var f=p[c].buttonClass+"-pin",h=f+"-"+c,c=f+"-up",e=h+"-up",f=f+"-down",h=h+
"-down";b.attr("pin",d?"down":"up").attr("title",d?"Un-Pin":"Pin").removeClass(d?c:f).removeClass(d?e:h).addClass(d?f:c).addClass(d?h:e)}}var p={name:"",scrollToBookmarkOnLoad:!0,defaults:{applyDefaultStyles:!1,closable:!0,resizable:!0,slidable:!0,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",resizerDragOpacity:1,maskIframesOnResize:!0,minSize:0,
maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerTip_open:"Close",togglerTip_closed:"Open",resizerTip:"Resize",sliderTip:"Slide Open",sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseout",hideTogglerOnSlide:!1,togglerContent_open:"",togglerContent_closed:"",showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},
initClosed:!1,initHidden:!1},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize"},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize"},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize"},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize"},center:{paneSelector:".ui-layout-center"}},U={slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},
north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}}},s={id:Math.floor(1E4*Math.random()),container:{},north:{},south:{},east:{},west:{},center:{}},aa={north:"south",south:"north",east:"west",west:"east"},H=function(b){if("string"==typeof b)return!0;if("object"==typeof b)try{return null!==b.constructor.toString().match(/string/i)}catch(c){}return!1},x=function(b){return"string"==typeof b||H(b)?g.trim(b):b},t=function(b,c){return Math.max(b,
c)},ia=function(b){var c={defaults:{fxSettings:{}},north:{fxSettings:{}},south:{fxSettings:{}},east:{fxSettings:{}},west:{fxSettings:{}},center:{fxSettings:{}}},b=b||{};b.effects||b.defaults||b.north||b.south||b.west||b.east||b.center?c=g.extend(c,b):g.each(b,function(b,e){a=b.split("__");c[a[1]?a[0]:"defaults"][a[1]?a[1]:a[0]]=e});return c},ba=function(b,c,d){function e(b){h=i[b];h.doCallback?(cpPane=h.callback.split(",")[1],cpPane!=b&&cpPane!=c&&e(cpPane,!0)):(h.doCallback=!0,h.callback=f)}var f=
b+","+c+","+(d?1:0),h;g.each(i.borderPanes.split(","),function(b,c){if(i[c].isMoving)return e(c),!1})},ca=function(b){b=i[b];i.isLayoutBusy=!1;delete b.isMoving;if(b.doCallback&&b.callback){b.doCallback=!1;var c=b.callback.split(","),d=0<c[2]?!0:!1;"open"==c[0]?C(c[1],d):"close"==c[0]&&D(c[1],d);if(!b.doCallback)b.callback=null}},y=function(b,c){if(c){var d;try{if("function"==typeof c)d=c;else{if("string"!=typeof c)return;if(0<c.indexOf(",")){var e=c.split(",");d=eval(e[0]);if("function"==typeof d&&
1<e.length)return d(e[1])}else d=eval(c)}if("function"==typeof d)return d(b,r[b],g.extend({},s[b]),g.extend({},p[b]),p.name)}catch(f){}}},w=function(b,c){var d=0,e=!1,f="";!g.browser.msie&&"none"==g.curCSS(b[0],"display",!0)&&(e=!0,f=g.curCSS(b[0],"visibility",!0),b.css({display:"block",visibility:"hidden"}));d=parseInt(g.curCSS(b[0],c,!0),10)||0;e&&(b.css({display:"none"}),f&&"hidden"!=f&&b.css({visibility:f}));return d},E=function(b,c){var d;H(b)?(b=x(b),d=r[b]):d=g(b);if(0>=c)return 0;0<c||(c=
H(b)?F(b):d.outerWidth());return g.boxModel?c-w(d,"paddingLeft")-w(d,"paddingRight")-("none"==g.curCSS(d[0],"borderLeftStyle",!0)?0:w(d,"borderLeftWidth"))-("none"==g.curCSS(d[0],"borderRightStyle",!0)?0:w(d,"borderRightWidth")):c},z=function(b,c){var d;H(b)?(b=x(b),d=r[b]):d=g(b);if(0>=c)return 0;0<c||(c=H(b)?F(b):d.outerHeight());return g.boxModel?c-w(d,"paddingTop")-w(d,"paddingBottom")-("none"==g.curCSS(d[0],"borderTopStyle",!0)?0:w(d,"borderTopWidth"))-("none"==g.curCSS(d[0],"borderBottomStyle",
!0)?0:w(d,"borderBottomWidth")):c},F=function(b,c){var d=r[b],e=p[b],f=s[b],h=c?e.spacing_open:0,e=c?e.spacing_closed:0;return!d||f.isHidden?0:f.isClosed||f.isSliding&&c?e:"horz"==i[b].dir?d.outerHeight()+h:d.outerWidth()+h},P=function(b){var c=q,d=i[b].dir,e=s[b],f=r[aa[b]],h=p[b].spacing_open,u=p[aa[b]].spacing_open,j=!f?0:"horz"==d?f.outerHeight():f.outerWidth(),f=e.minSize||0,d=Math.min(e.maxSize||9999,("horz"==d?c.innerHeight:c.innerWidth)-h-j-u),l,k;switch(b){case "north":l=c.offsetTop+f;k=
c.offsetTop+d;break;case "west":l=c.offsetLeft+f;k=c.offsetLeft+d;break;case "south":l=c.offsetTop+c.innerHeight-d;k=c.offsetTop+c.innerHeight-f;break;case "east":l=c.offsetLeft+c.innerWidth-d,k=c.offsetLeft+c.innerWidth-f}g.extend(e,{minSize:f,maxSize:d,minPosition:l,maxPosition:k})},da=function(){var b={top:F("north",!0),bottom:F("south",!0),left:F("west",!0),right:F("east",!0),width:0,height:0};b.width=q.innerWidth-left-right;b.height=q.innerHeight-bottom-top;b.top+=q.top;b.bottom+=q.bottom;b.left+=
q.left;b.right+=q.right;return b},ea=function(b){var c={},d,e,f;g.each("Left,Right,Top,Bottom".split(","),function(){d=x(this);e=c["border"+d]=w(b,"border"+d+"Width");f=c["padding"+d]=w(b,"padding"+d);c["offset"+d]=e+f;b==v&&(c[d.toLowerCase()]=g.boxModel?f:0)});c.innerWidth=c.outerWidth=b.outerWidth();c.innerHeight=c.outerHeight=b.outerHeight();g.boxModel&&(c.innerWidth-=c.offsetLeft+c.offsetRight,c.innerHeight-=c.offsetTop+c.offsetBottom);return c},ja=function(b,c,d,e){var f=window.layout=window.layout||
{},f=f.timers=f.timers||{},b="layout_"+s.id+"_"+b+"_"+c;f[b]||(f[b]=setTimeout(d,e))},Q=function(b,c){var d=window.layout=window.layout||{},d=d.timers=d.timers||{},e="layout_"+s.id+"_"+b+"_"+c;return d[e]?(clearTimeout(d[e]),delete d[e],!0):!1},ka=function(){try{if("BODY"==v[0].tagName)g("html").css({height:"100%",overflow:"hidden"}),g("body").css({position:"relative",height:"100%",overflow:"hidden",margin:0,padding:0,border:"none"});else{var b={overflow:"hidden"},c=v.css("position"),d=v.css("height");
if(!v.hasClass("ui-layout-pane")){if(!c||0>"fixed,absolute,relative".indexOf(c))b.position="relative";if(!d||"auto"==d)b.height="100%"}v.css(b)}}catch(e){}q=s.container=ea(v)},la=function(){g.each(i.borderPanes.split(","),function(b,c){var d=p[c];if(d.enableCursorHotkey||d.customHotkey)return g(document).keydown(ha),!1})},ma=function(){n=ia(n);n.effects&&(g.extend(U,n.effects),delete n.effects);g.each("name,scrollToBookmarkOnLoad".split(","),function(b,c){void 0!==n[c]?p[c]=n[c]:void 0!==n.defaults[c]&&
(p[c]=n.defaults[c],delete n.defaults[c])});g.each("paneSelector,resizerCursor,customHotkey".split(","),function(b,c){delete n.defaults[c]});g.extend(p.defaults,n.defaults);i.center=g.extend(!0,{},i.defaults,i.center);g.extend(p.center,n.center);var b=g.extend(!0,{},p.defaults,n.defaults,p.center);g.each("paneClass,contentSelector,contentIgnoreSelector,applyDefaultStyles,showOverflowOnHover".split(","),function(c,e){p.center[e]=b[e]});var c=p.defaults;g.each(i.borderPanes.split(","),function(b,e){i[e]=
g.extend(!0,{},i.defaults,i[e]);o=p[e]=g.extend(!0,{},p.defaults,p[e],n.defaults,n[e]);if(!o.paneClass)o.paneClass="ui-layout-pane";if(!o.resizerClass)o.resizerClass="ui-layout-resizer";if(!o.togglerClass)o.togglerClass="ui-layout-toggler";g.each(["_open","_close",""],function(b,d){var i="fxName"+d,j="fxSpeed"+d,l="fxSettings"+d;o[i]=n[e][i]||n[e].fxName||n.defaults[i]||n.defaults.fxName||o[i]||o.fxName||c[i]||c.fxName||"none";var k=o[i];if("none"==k||!g.effects||!g.effects[k]||!U[k]&&!o[l]&&!o.fxSettings)k=
o[i]="none";k=U[k]||{};i=k.all||{};k=k[e]||{};o[l]=g.extend({},i,k,c.fxSettings||{},c[l]||{},o.fxSettings,o[l],n.defaults.fxSettings,n.defaults[l]||{},n[e].fxSettings,n[e][l]||{});o[j]=n[e][j]||n[e].fxSpeed||n.defaults[j]||n.defaults.fxSpeed||o[j]||o[l].duration||o.fxSpeed||o.fxSettings.duration||c.fxSpeed||c.fxSettings.duration||k.duration||i.duration||"normal"})})},na=function(){g.each(i.allPanes.split(","),function(){var b=x(this),c=p[b],d=s[b],e=i[b].dir,f="auto"==c.size||isNaN(c.size)?0:c.size,
h=c.minSize||1,u=c.maxSize||9999,j=c.spacing_open||0,l=c.paneSelector,k={},m;I[b]=!1;"#"===l.substr(0,1)?m=r[b]=v.find(l+":first"):(m=r[b]=v.children(l+":first"),m.length||(m=r[b]=v.children("form:first").children(l+":first")));if(!m.length)return r[b]=!1,!0;m.attr("pane",b).addClass(c.paneClass+" "+c.paneClass+"-"+b);if("center"!=b)d.isClosed=!1,d.isSliding=!1,d.isResizing=!1,d.isHidden=!1,d.noRoom=!1,i[b].pins=[];k=g.extend({visibility:"visible",display:"block"},i.defaults.cssReq,i[b].cssReq);c.applyDefaultStyles&&
g.extend(k,i.defaults.cssDef,i[b].cssDef);m.css(k);k={};switch(b){case "north":k.top=q.top;k.left=q.left;k.right=q.right;break;case "south":k.bottom=q.bottom;k.left=q.left;k.right=q.right;break;case "west":k.left=q.left;break;case "east":k.right=q.right}if("horz"==e){if(0===f||"auto"==f)m.css({height:"auto"}),f=m.outerHeight();f=t(f,h);f=Math.min(f,u);f=Math.min(f,q.innerHeight-j);k.height=t(1,z(b,f));d.size=f;d.maxSize=u;d.minSize=t(h,f-k.height+1);m.css(k)}else if("vert"==e){if(0===f||"auto"==f)m.css({width:"auto",
"float":"left"}),f=m.outerWidth(),m.css({"float":"none"});f=t(f,h);f=Math.min(f,u);f=Math.min(f,q.innerWidth-j);k.width=t(1,E(b,f));d.size=f;d.maxSize=u;d.minSize=t(h,f-k.width+1);m.css(k);G(b,null,!0)}else"center"==b&&(m.css(k),G("center",null,!0));c.initClosed&&c.closable?(m.hide().addClass("closed"),d.isClosed=!0):c.initHidden||c.initClosed?(V(b,!0),d.isHidden=!0):m.addClass("open");c.showOverflowOnHover&&m.hover(Z,N);if(c.contentSelector){d=I[b]=m.children(c.contentSelector+":first");if(!d.length)return I[b]=
!1,!0;d.css(i.content.cssReq);c.applyDefaultStyles&&d.css(i.content.cssDef);m.css({overflow:"hidden"})}})},oa=function(){g.each(i.borderPanes.split(","),function(){var b=x(this),c=p[b],d=s[b],e=c.resizerClass,f=c.togglerClass,h=r[b];A[b]=!1;J[b]=!1;if(h&&(c.closable||c.resizable)){var u=i[b].edge,h=h.is(":visible"),j="-"+b,l=h?"-open":"-closed",k;k=A[b]=g("<span></span>");(!h||!c.resizable)&&!h&&c.slidable&&k.attr("title",c.sliderTip).css("cursor",c.sliderCursor);k.attr("id","#"==c.paneSelector.substr(0,
1)?c.paneSelector.substr(1)+"-resizer":"").attr("resizer",b).css(i.resizers.cssReq).css(u,q[u]+F(b)).addClass(e+" "+e+j+" "+e+l+" "+e+j+l).appendTo(v);c.applyDefaultStyles&&k.css(i.resizers.cssDef);c.closable&&(e=J[b]=g("<div></div>"),e.attr("id","#"==c.paneSelector.substr(0,1)?c.paneSelector.substr(1)+"-toggler":"").css(i.togglers.cssReq).attr("title",h?c.togglerTip_open:c.togglerTip_closed).click(function(c){M(b);c.stopPropagation()}).mouseover(function(b){b.stopPropagation()}).addClass(f+" "+f+
j+" "+f+l+" "+f+j+l).appendTo(k),c.togglerContent_open&&g("<span>"+c.togglerContent_open+"</span>").addClass("content content-open").css("display",d.isClosed?"none":"block").appendTo(e),c.togglerContent_closed&&g("<span>"+c.togglerContent_closed+"</span>").addClass("content content-closed").css("display",d.isClosed?"block":"none").appendTo(e),c.applyDefaultStyles&&e.css(i.togglers.cssDef),h||W(b,!0))}});K("all",!0)},pa=function(){var b="function"==typeof g.fn.draggable,c;g.each(i.borderPanes.split(","),
function(){var d=x(this),e=p[d],f=s[d];if(!b||!r[d]||!e.resizable)return e.resizable=!1,!0;var h=e.resizerClass,u=h+"-drag",j=h+"-"+d+"-drag",l=h+"-dragging",k=h+"-"+d+"-dragging",m=!1,B=A[d];f.isClosed||B.attr("title",e.resizerTip).css("cursor",e.resizerCursor);B.draggable({containment:v[0],axis:"horz"==i[d].dir?"y":"x",delay:200,distance:1,helper:"clone",opacity:e.resizerDragOpacity,zIndex:i.zIndex.resizing,start:function(){if(!1===y(d,e.onresize_start))return!1;f.isResizing=!0;Q(d,"closeSlider");
B.addClass(u+" "+j);m=!1;var b="east"==d||"south"==d?e.spacing_open:0;P(d);f.minPosition-=b;f.maxPosition-=b;c="horz"==i[d].dir?"top":"left";g(!0===e.maskIframesOnResize?"iframe":e.maskIframesOnResize).each(function(){g('<div class="ui-layout-mask"/>').css({background:"#fff",opacity:"0.001",zIndex:9,position:"absolute",width:this.offsetWidth+"px",height:this.offsetHeight+"px"}).css(g(this).offset()).appendTo(this.parentNode)})},drag:function(b,e){m||(g(".ui-draggable-dragging").addClass(l+" "+k).children().css("visibility",
"hidden"),m=!0,f.isSliding&&r[d].css("zIndex",i.zIndex.sliding));if(e.position[c]<f.minPosition)e.position[c]=f.minPosition;else if(e.position[c]>f.maxPosition)e.position[c]=f.maxPosition},stop:function(b,c){var e=c.position,h;B.removeClass(u+" "+j);switch(d){case "north":h=e.top;break;case "west":h=e.left;break;case "south":h=q.outerHeight-e.top-B.outerHeight();break;case "east":h=q.outerWidth-e.left-B.outerWidth()}X(d,h-q[i[d].edge]);g("div.ui-layout-mask").remove();f.isResizing=!1}})})},V=function(b,
c){var d=p[b],e=s[b],f=r[b],h=A[b];if(!(!f||e.isHidden||!1===y(b,d.onhide_start)))e.isSliding=!1,h&&h.hide(),c||e.isClosed?(e.isClosed=!0,e.isHidden=!0,f.hide(),G("horz"==i[b].dir?"all":"center"),y(b,d.onhide_end||d.onhide)):(e.isHiding=!0,D(b,!1))},R=function(b,c){var d=p[b],e=s[b],f=A[b];if(!(!r[b]||!e.isHidden||!1===y(b,d.onshow_start)))e.isSliding=!1,e.isShowing=!0,f&&0<d.spacing_open&&f.show(),!1===c?D(b,!0):C(b)},M=function(b){var c=s[b];c.isHidden?R(b):c.isClosed?C(b):D(b)},D=function(b,c,
d){function e(){W(b,!0);t||y(b,j.onclose_end||j.onclose);t&&y(b,j.onshow_end||j.onshow);v&&y(b,j.onhide_end||j.onhide);ca(b)}var f=r[b],h=A[b],g=J[b],j=p[b],l=s[b],d=!d&&!l.isClosed&&"none"!=j.fxName_close,k=i[b].edge,m=j.resizerClass,B=j.togglerClass,n="-"+b,t=l.isShowing,v=l.isHiding;delete l.isShowing;delete l.isHiding;if(f&&(j.resizable||j.closable)&&(c||!l.isClosed||t))if(i.isLayoutBusy)ba("close",b,c);else if(t||!1!==y(b,j.onclose_start)){i[b].isMoving=!0;i.isLayoutBusy=!0;l.isClosed=!0;if(v)l.isHidden=
!0;else if(t)l.isHidden=!1;$(b,!1);l.isSliding||G("horz"==i[b].dir?"all":"center");h&&(h.css(k,q[k]).removeClass(m+"-open "+m+n+"-open").removeClass(m+"-sliding "+m+n+"-sliding").addClass(m+"-closed "+m+n+"-closed"),j.resizable&&h.draggable("disable").css("cursor","default").attr("title",""),g&&g.removeClass(B+"-open "+B+n+"-open").addClass(B+"-closed "+B+n+"-closed").attr("title",j.togglerTip_closed),K());d?(S(b,!0),f.hide(j.fxName_close,j.fxSettings_close,j.fxSpeed_close,function(){S(b,!1);l.isClosed&&
e()})):(f.hide(),e())}},C=function(b,c,d){function e(){l.isSliding||G("vert"==i[b].dir?"center":"all");h&&(h.css(k,q[k]+F(b)).removeClass(m+x+" "+m+v+x).addClass(m+w+" "+m+v+w).addClass(!l.isSliding?"":m+D+" "+m+v+D),j.resizable?h.draggable("enable").css("cursor",j.resizerCursor).attr("title",j.resizerTip):h.css("cursor","default"),g&&g.removeClass(n+x+" "+n+v+x).addClass(n+w+" "+n+v+w).attr("title",j.togglerTip_open),K("all"));L(b);$(b,!l.isSliding);y(b,j.onopen_end||j.onopen);C&&y(b,j.onshow_end||
j.onshow);ca(b)}var f=r[b],h=A[b],g=J[b],j=p[b],l=s[b],d=!d&&l.isClosed&&"none"!=j.fxName_open,k=i[b].edge,m=j.resizerClass,n=j.togglerClass,v="-"+b,w="-open",x="-closed",D="-sliding",C=l.isShowing;delete l.isShowing;if(f&&(j.resizable||j.closable)&&(l.isClosed||l.isSliding))if(l.isHidden&&!C)R(b,!0);else if(i.isLayoutBusy)ba("open",b,c);else if(!1!==y(b,j.onopen_start)){i[b].isMoving=!0;i.isLayoutBusy=!0;l.isSliding&&!c&&Y(b,!1);l.isClosed=!1;if(C)l.isHidden=!1;P(b);l.size>l.maxSize&&f.css(i[b].sizeType,
t(1,"horz"==i[b].dir?z(b,l.maxSize):E(b,l.maxSize)));W(b,!1);d?(S(b,!0),f.show(j.fxName_open,j.fxSettings_open,j.fxSpeed_open,function(){S(b,!1);l.isClosed||e()})):(f.show(),e())}},S=function(b,c){var d=r[b];c?(d.css({zIndex:i.zIndex.animation}),"south"==b?d.css({top:q.top+q.innerHeight-d.outerHeight()}):"east"==b&&d.css({left:q.left+q.innerWidth-d.outerWidth()})):(s[b].isSliding||d.css({zIndex:i.zIndex.pane_normal}),"south"==b?d.css({top:"auto"}):"east"==b&&d.css({left:"auto"}))},W=function(b,c){var d=
p[b],e=A[b],f=d.slideTrigger_open;e&&d.slidable&&("click"!=f&&"dblclick"!=f&&"mouseover"!=f&&(f="click"),e[c?"bind":"unbind"](f,qa).css("cursor",c?d.sliderCursor:"default").attr("title",c?d.sliderTip:""))},Y=function(b,c){function d(c){Q(b,"closeSlider");c.stopPropagation()}var e=p[b].slideTrigger_close,f=r[b],h=A[b];s[b].isSliding=c;Q(b,"closeSlider");f.css({zIndex:c?i.zIndex.sliding:i.zIndex.pane_normal});h.css({zIndex:c?i.zIndex.sliding:i.zIndex.resizer_normal});"click"!=e&&"mouseout"!=e&&(e="mouseout");
c?(f.bind(e,fa),h.bind(e,fa),e="mouseout",f.bind("mouseover",d),h.bind("mouseover",d)):(f.unbind(e),h.unbind(e),e="mouseout",f.unbind("mouseover"),h.unbind("mouseover"),Q(b,"closeSlider"))},qa=function(){var b=g(this).attr("resizer");s[b].isClosed&&(Y(b,!0),C(b,!0))},fa=function(){function b(){Y(d,!1);e.isClosed||D(d)}var c=g(this),d=c.attr("pane")||c.attr("resizer"),c=p[d],e=s[d];!e.isClosed&&!e.isResizing&&("click"==c.slideTrigger_close?b():ja(d,"closeSlider",b,300))},X=function(b,c){var d=i[b].edge,
e=i[b].dir,f=p[b],h=s[b],g=r[b],j=A[b];P(b);h.minSize=t(h.minSize,f.minSize);if(0<f.maxSize)h.maxSize=Math.min(h.maxSize,f.maxSize);c=t(c,h.minSize);c=Math.min(c,h.maxSize);h.size=c;j.css(d,c+q[d]);g.css(i[b].sizeType,t(1,"horz"==i[b].dir?z(b,c):E(b,c)));h.isSliding||G("horz"==e?"all":"center");K();L(b);y(b,f.onresize_end||f.onresize)},G=function(b,c,d){if(!b||"all"==b)b="east,west,center";var e=da();c&&g.extend(e,c);g.each(b.split(","),function(){if(r[this]){var b=x(this),c=p[b],i=s[b],j=r[b],l=
A[b],k=!0,m={};if("center"==b){if(e=da(),m=g.extend({},e),m.width=t(1,E(b,m.width)),m.height=t(1,z(b,m.height)),k=1<m.width&&1<m.height,g.browser.msie&&(!g.boxModel||7>g.browser.version))r.north&&r.north.css({width:E(r.north,q.innerWidth)}),r.south&&r.south.css({width:E(r.south,q.innerWidth)})}else m.top=e.top,m.bottom=e.bottom,m.height=t(1,z(b,e.height)),k=1<m.height;if(k){j.css(m);if(i.noRoom){i.noRoom=!1;if(i.isHidden)return;R(b,!i.isClosed)}d||(L(b),y(b,c.onresize_end||c.onresize))}else if(!i.noRoom)i.noRoom=
!0,i.isHidden||(d?(j.hide(),l&&l.hide()):V(b))}})},L=function(b){if(!b||"all"==b)b=i.allPanes;g.each(b.split(","),function(){if(I[this]){var b=x(this),d=p[b].contentIgnoreSelector,e=r[b],b=I[b],f=b[0],h=z(e);e.children().each(function(){if(this!=f){var b=g(this);if(!d||!b.is(d))h-=b.outerHeight()}});0<h&&(h=z(b,h));1>h?b.hide():b.css({height:h}).show()}})},K=function(b,c){if(!b||"all"==b)b=i.borderPanes;g.each(b.split(","),function(){var b=x(this),e=p[b],f=s[b],h=r[b],g=A[b],j=J[b];if(h&&g&&(e.resizable||
e.closable)){var l=i[b].dir,k=f.isClosed?"_closed":"_open",b=e["spacing"+k],m=e["togglerAlign"+k],k=e["togglerLength"+k],n;if(0==b)g.hide();else{!f.noRoom&&!f.isHidden&&g.show();"horz"==l?(n=h.outerWidth(),g.css({width:t(1,E(g,n)),height:t(1,z(g,b)),left:w(h,"left")})):(n=h.outerHeight(),g.css({height:t(1,z(g,n)),width:t(1,E(g,b)),top:q.top+F("north",!0)}));if(j){if(0==k||f.isSliding&&e.hideTogglerOnSlide){j.hide();return}j.show();if(!(0<k)||"100%"==k||k>n)k=n,h=0;else if("string"==typeof m)switch(m){case "top":case "left":h=
0;break;case "bottom":case "right":h=n-k;break;default:h=Math.floor((n-k)/2)}else h=parseInt(m),h=0<=m?h:n-k+h;n=e.togglerContent_open?j.children(".content-open"):!1;var v=e.togglerContent_closed?j.children(".content-closed"):!1,m=f.isClosed?v:n;n&&n.css("display",f.isClosed?"none":"block");v&&v.css("display",f.isClosed?"block":"none");"horz"==l?(f=E(j,k),j.css({width:t(0,f),height:t(1,z(j,b)),left:h}),m&&m.css("marginLeft",Math.floor((f-m.outerWidth())/2))):(f=z(j,k),j.css({height:t(0,f),width:t(1,
E(j,b)),top:h}),m&&m.css("marginTop",Math.floor((f-m.outerHeight())/2)))}c&&e.initHidden&&(g.hide(),j&&j.hide())}}})},ga=function(){var b=q.innerWidth,c=q.innerHeight;q=s.container=ea(v);var d=q.innerHeight<c,e=q.innerWidth<b,f,h;(d||e)&&g.each(["south","north","east","west"],function(b,c){f=s[c];h=i[c].dir;if(!f.isClosed&&(d&&"horz"==h||e&&"vert"==h))P(c),f.size>f.maxSize&&X(c,f.maxSize)});G("all");K("all")},v=g(this).css({overflow:"hidden"}),r={},I={},A={},J={},i={allPanes:"north,south,east,west,center",
borderPanes:"north,south,east,west",zIndex:{resizer_normal:1,pane_normal:2,mask:4,sliding:100,resizing:1E4,animation:1E4},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden",zIndex:1},cssDef:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDef:{background:"#AAA"}},content:{cssReq:{overflow:"auto"},cssDef:{}},
defaults:{cssReq:{position:"absolute",margin:0,zIndex:2},cssDef:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{edge:"top",sizeType:"height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{edge:"bottom",sizeType:"height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{edge:"right",sizeType:"width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{edge:"left",sizeType:"width",
dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},q=s.container;(function(){ma();ka();na();oa();pa();L("all");p.scrollToBookmarkOnLoad&&self.location.hash&&replace(self.location.hash);la();g(window).resize(function(){var b="timerLayout_"+s.id;window[b]&&clearTimeout(window[b]);window[b]=null;window[b]=setTimeout(ga,100)})})();return{options:p,state:s,panes:r,toggle:M,
open:C,close:D,hide:V,show:R,resizeContent:L,sizePane:X,resizeAll:ga,addToggleBtn:function(b,c){var d=O(b,c,"toggle");d&&d.attr("title",s[c].isClosed?"Open":"Close").click(function(b){M(c);b.stopPropagation()})},addOpenBtn:function(b,c){var d=O(b,c,"open");d&&d.attr("title","Open").click(function(b){C(c);b.stopPropagation()})},addCloseBtn:function(b,c){var d=O(b,c,"close");d&&d.attr("title","Close").click(function(b){D(c);b.stopPropagation()})},addPinBtn:function(b,c){var d=O(b,c,"pin");if(d){var e=
s[c];d.click(function(b){T(g(this),c,e.isSliding||e.isClosed);e.isSliding||e.isClosed?C(c):D(c);b.stopPropagation()});T(d,c,!e.isClosed&&!e.isSliding);i[c].pins.push(b)}},allowOverflow:Z,resetOverflow:N,cssWidth:E,cssHeight:z}}})(jQuery);
